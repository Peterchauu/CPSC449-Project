/*! For license information please see main.6c8ac944.js.LICENSE.txt */
(()=>{var e={14:e=>{e.exports=function(){return!1}},143:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},149:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},199:function(e){e.exports=function(){"use strict";return function(e,t,n){var r=t.prototype,i=function(e){return e&&(e.indexOf?e:e.s)},o=function(e,t,n,r,o){var a=e.name?e:e.$locale(),s=i(a[t]),l=i(a[n]),c=s||l.map((function(e){return e.slice(0,r)}));if(!o)return c;var u=a.weekStart;return c.map((function(e,t){return c[(t+(u||0))%7]}))},a=function(){return n.Ls[n.locale()]},s=function(e,t){return e.formats[t]||function(e){return e.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}(e.formats[t.toUpperCase()])},l=function(){var e=this;return{months:function(t){return t?t.format("MMMM"):o(e,"months")},monthsShort:function(t){return t?t.format("MMM"):o(e,"monthsShort","months",3)},firstDayOfWeek:function(){return e.$locale().weekStart||0},weekdays:function(t){return t?t.format("dddd"):o(e,"weekdays")},weekdaysMin:function(t){return t?t.format("dd"):o(e,"weekdaysMin","weekdays",2)},weekdaysShort:function(t){return t?t.format("ddd"):o(e,"weekdaysShort","weekdays",3)},longDateFormat:function(t){return s(e.$locale(),t)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};r.localeData=function(){return l.bind(this)()},n.localeData=function(){var e=a();return{firstDayOfWeek:function(){return e.weekStart||0},weekdays:function(){return n.weekdays()},weekdaysShort:function(){return n.weekdaysShort()},weekdaysMin:function(){return n.weekdaysMin()},months:function(){return n.months()},monthsShort:function(){return n.monthsShort()},longDateFormat:function(t){return s(e,t)},meridiem:e.meridiem,ordinal:e.ordinal}},n.months=function(){return o(a(),"months")},n.monthsShort=function(){return o(a(),"monthsShort","months",3)},n.weekdays=function(e){return o(a(),"weekdays",null,null,e)},n.weekdaysShort=function(e){return o(a(),"weekdaysShort","weekdays",3,e)},n.weekdaysMin=function(e){return o(a(),"weekdaysMin","weekdays",2,e)}}}()},310:(e,t,n)=>{var r=n(1817),i=n(5990),o=n(6140);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:r(i(e))}},320:e=>{e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},396:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},438:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).get(e)}},449:(e,t,n)=>{var r=n(6924),i=n(2761);e.exports=function(e){return i(e)&&"[object Set]"==r(e)}},474:(e,t,n)=>{var r=n(3204),i=n(8122),o=n(6571);e.exports=function(e){return o(e)?r(e,!0):i(e)}},579:(e,t,n)=>{"use strict";e.exports=n(1153)},640:function(e){e.exports=function(){"use strict";var e="minute",t=/[+-]\d\d(?::?\d\d)?/g,n=/([+-]|\d\d)/g;return function(r,i,o){var a=i.prototype;o.utc=function(e){return new i({date:e,utc:!0,args:arguments})},a.utc=function(t){var n=o(this.toDate(),{locale:this.$L,utc:!0});return t?n.add(this.utcOffset(),e):n},a.local=function(){return o(this.toDate(),{locale:this.$L,utc:!1})};var s=a.parse;a.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),s.call(this,e)};var l=a.init;a.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else l.call(this)};var c=a.utcOffset;a.utcOffset=function(r,i){var o=this.$utils().u;if(o(r))return this.$u?0:o(this.$offset)?c.call(this):this.$offset;if("string"==typeof r&&(r=function(e){void 0===e&&(e="");var r=e.match(t);if(!r)return null;var i=(""+r[0]).match(n)||["-",0,0],o=i[0],a=60*+i[1]+ +i[2];return 0===a?0:"+"===o?a:-a}(r),null===r))return this;var a=Math.abs(r)<=16?60*r:r,s=this;if(i)return s.$offset=a,s.$u=0===r,s;if(0!==r){var l=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(s=this.local().add(a+l,e)).$offset=a,s.$x.$localOffset=l}else s=this.utc();return s};var u=a.format;a.format=function(e){var t=e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return u.call(this,t)},a.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*e},a.isUTC=function(){return!!this.$u},a.toISOString=function(){return this.toDate().toISOString()},a.toString=function(){return this.toDate().toUTCString()};var d=a.toDate;a.toDate=function(e){return"s"===e&&this.$offset?o(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():d.call(this)};var h=a.diff;a.diff=function(e,t,n){if(e&&this.$u===e.$u)return h.call(this,e,t,n);var r=this.local(),i=o(e).local();return h.call(r,i,t,n)}}}()},705:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},726:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},755:(e,t,n)=>{var r=n(8895),i=n(7116);e.exports=function e(t,n,o,a,s){var l=-1,c=t.length;for(o||(o=i),s||(s=[]);++l<c;){var u=t[l];n>0&&o(u)?n>1?e(u,n-1,o,a,s):r(s,u):a||(s[s.length]=u)}return s}},793:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},801:(e,t,n)=>{var r=n(1141),i=n(6686),o=n(9841),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):a.test(e)?NaN:+e}},819:(e,t,n)=>{var r=n(755);e.exports=function(e){return(null==e?0:e.length)?r(e,1):[]}},914:(e,t,n)=>{var r=n(9841);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},929:(e,t,n)=>{var r=n(3211),i=n(6571),o=n(9194),a=n(6686);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?i(n)&&o(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},1069:(e,t,n)=>{var r=n(8541);e.exports=function(e){return null==e?"":r(e)}},1104:(e,t,n)=>{var r=n(6614),i=n(8673);e.exports=function(e,t){return e&&r(t,i(t),e)}},1141:(e,t,n)=>{var r=n(143),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},1143:(e,t,n)=>{var r=n(3028)(Object.keys,Object);e.exports=r},1153:(e,t,n)=>{"use strict";var r=n(5043),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:s.current}}t.jsx=c,t.jsxs=c},1163:(e,t,n)=>{var r=n(5647),i=n(3211),o=n(929),a=n(474),s=Object.prototype,l=s.hasOwnProperty,c=r((function(e,t){e=Object(e);var n=-1,r=t.length,c=r>2?t[2]:void 0;for(c&&o(t[0],t[1],c)&&(r=1);++n<r;)for(var u=t[n],d=a(u),h=-1,f=d.length;++h<f;){var p=d[h],m=e[p];(void 0===m||i(m,s[p])&&!l.call(e,p))&&(e[p]=u[p])}return e}));e.exports=c},1170:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},1268:(e,t,n)=>{var r=n(5428),i=n(7574),o=n(6832),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},1295:(e,t,n)=>{var r=n(9812),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},1310:e=>{e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},1340:(e,t,n)=>{var r=n(3211);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},1488:(e,t,n)=>{var r=n(149),i=n(7132),o=n(8140),a=n(5324),s=n(6614),l=n(6761),c=n(5857),u=n(8592),d=c((function(e,t){var n={};if(null==e)return n;var c=!1;t=r(t,(function(t){return t=a(t,e),c||(c=t.length>1),t})),s(e,u(e),n),c&&(n=i(n,7,l));for(var d=t.length;d--;)o(n,t[d]);return n}));e.exports=d},1497:(e,t,n)=>{"use strict";var r=n(3218);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},1516:(e,t,n)=>{var r=n(2929);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},1525:function(e){e.exports=function(){"use strict";return function(e,t,n){t.prototype.isBetween=function(e,t,r,i){var o=n(e),a=n(t),s="("===(i=i||"()")[0],l=")"===i[1];return(s?this.isAfter(o,r):!this.isBefore(o,r))&&(l?this.isBefore(a,r):!this.isAfter(a,r))||(s?this.isBefore(o,r):!this.isAfter(o,r))&&(l?this.isAfter(a,r):!this.isBefore(a,r))}}}()},1629:(e,t,n)=>{var r=n(6913),i=n(6686);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1676:(e,t,n)=>{var r=n(2969),i=n(3871);e.exports=function(e,t){return t.length<2?e:r(e,i(t,0,-1))}},1714:(e,t,n)=>{var r=n(1340);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},1733:(e,t,n)=>{var r=n(1775),i=n(4664),o=n(9096);e.exports=function(e,t){var n={};return t=o(t,3),i(e,(function(e,i,o){r(n,i,t(e,i,o))})),n}},1775:(e,t,n)=>{var r=n(5654);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},1817:(e,t,n)=>{var r=n(6686),i=Object.create,o=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},1946:(e,t,n)=>{var r=n(1340);e.exports=function(e){return r(this.__data__,e)>-1}},1980:e=>{e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},2070:(e,t,n)=>{var r=n(7937)(n(6552),"Set");e.exports=r},2074:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},2154:(e,t,n)=>{var r=n(5575),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},2322:(e,t,n)=>{var r=n(6913),i=n(5990),o=n(2761),a=Function.prototype,s=Object.prototype,l=a.toString,c=s.hasOwnProperty,u=l.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=r(e))return!1;var t=i(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==u}},2520:(e,t,n)=>{var r=n(5816),i=n(9096),o=n(9140),a=Math.max;e.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var l=null==n?0:o(n);return l<0&&(l=a(s+l,0)),r(e,i(t,3),l)}},2536:(e,t,n)=>{var r=n(149),i=n(2969),o=n(9096),a=n(8883),s=n(320),l=n(7574),c=n(5893),u=n(3279),d=n(4052);e.exports=function(e,t,n){t=t.length?r(t,(function(e){return d(e)?function(t){return i(t,1===e.length?e[0]:e)}:e})):[u];var h=-1;t=r(t,l(o));var f=a(e,(function(e,n,i){return{criteria:r(t,(function(t){return t(e)})),index:++h,value:e}}));return s(f,(function(e,t){return c(e,t,n)}))}},2541:e=>{e.exports=function(e){return function(){return e}}},2587:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},2597:(e,t,n)=>{var r=n(4052),i=n(9841),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(a.test(e)||!o.test(e)||null!=t&&e in Object(t))}},2622:(e,t,n)=>{var r=n(705);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},2662:(e,t,n)=>{var r=n(5575);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},2717:(e,t,n)=>{var r=n(726),i=n(1817),o=n(4664),a=n(9096),s=n(5990),l=n(4052),c=n(4543),u=n(1629),d=n(6686),h=n(1268);e.exports=function(e,t,n){var f=l(e),p=f||c(e)||h(e);if(t=a(t,4),null==n){var m=e&&e.constructor;n=p?f?new m:[]:d(e)&&u(m)?i(s(e)):{}}return(p?r:o)(e,(function(e,r,i){return t(n,e,r,i)})),n}},2730:(e,t,n)=>{"use strict";var r=n(5043),i=n(8853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),S=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),I=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var L,F=Object.assign;function j(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function B(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function V(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case S:return"Portal";case k:return"Profiler";case x:return"StrictMode";case D:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function $(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function oe(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,_e=null,xe=null;function ke(e){if(e=gi(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=yi(t),Se(e.stateNode,e.type,t))}}function Te(e){_e?xe?xe.push(e):xe=[e]:_e=e}function Ie(){if(_e){var e=_e,t=xe;if(xe=_e=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Ce(e,t){return e(t)}function De(){}var Ne=!1;function Oe(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ce(e,t,n)}finally{Ne=!1,(null!==_e||null!==xe)&&(De(),Ie())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var r=yi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Re=!1;if(u)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(ue){Re=!1}function Me(e,t,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,Fe=null,je=!1,Ue=null,Be={onError:function(e){Le=!0,Fe=e}};function Ve(e,t,n,r,i,o,a,s,l){Le=!1,Fe=null,Me.apply(Be,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function $e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(ze(e)!==e)throw Error(o(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return He(i),e;if(a===r)return He(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Ke=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Qe=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=dt(s):0!==(o&=a)&&(r=dt(o))}else 0!==(a=n&~i)?r=dt(a):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var yt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,Et,St,_t,xt,kt=!1,Tt=[],It=null,Ct=null,Dt=null,Nt=new Map,Ot=new Map,At=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":Dt=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=gi(t))&&Et(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=mi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=$e(n)))return e.blockedOn=t,void xt(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=gi(n))&&Et(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function jt(e,t,n){Ft(e)&&n.delete(t)}function Ut(){kt=!1,null!==It&&Ft(It)&&(It=null),null!==Ct&&Ft(Ct)&&(Ct=null),null!==Dt&&Ft(Dt)&&(Dt=null),Nt.forEach(jt),Ot.forEach(jt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function Vt(e){function t(t){return Bt(t,e)}if(0<Tt.length){Bt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&Bt(It,e),null!==Ct&&Bt(Ct,e),null!==Dt&&Bt(Dt,e),Nt.forEach(t),Ot.forEach(t),n=0;n<At.length;n++)(r=At[n]).blockedOn===e&&(r.blockedOn=null);for(;0<At.length&&null===(n=At[0]).blockedOn;)Lt(n),null===n.blockedOn&&At.shift()}var zt=w.ReactCurrentBatchConfig;function $t(e,t,n,r){var i=yt,o=zt.transition;zt.transition=null;try{yt=1,Wt(e,t,n,r)}finally{yt=i,zt.transition=o}}function Ht(e,t,n,r){var i=yt,o=zt.transition;zt.transition=null;try{yt=4,Wt(e,t,n,r)}finally{yt=i,zt.transition=o}}function Wt(e,t,n,r){var i=Gt(e,t,n,r);if(null===i)zr(e,t,r,qt,n),Pt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Mt(It,e,t,n,r,i),!0;case"dragenter":return Ct=Mt(Ct,e,t,n,r,i),!0;case"mouseover":return Dt=Mt(Dt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Nt.set(o,Mt(Nt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ot.set(o,Mt(Ot.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Pt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var o=gi(i);if(null!==o&&wt(o),null===(o=Gt(e,t,n,r))&&zr(e,t,r,qt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else zr(e,t,r,null,n)}var qt=null;function Gt(e,t,n,r){if(qt=null,null!==(e=mi(e=Ee(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=$e(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qt=e,null}function Kt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Qt=null,Xt=null;function Jt(){if(Xt)return Xt;var e,t,n=Qt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Xt=i.slice(e,1<t?1-t:void 0)}function Zt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function en(){return!0}function tn(){return!1}function nn(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?en:tn,this.isPropagationStopped=tn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=en)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=en)},persist:function(){},isPersistent:en}),t}var rn,on,an,sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=nn(sn),cn=F({},sn,{view:0,detail:0}),un=nn(cn),dn=F({},cn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==an&&(an&&"mousemove"===e.type?(rn=e.screenX-an.screenX,on=e.screenY-an.screenY):on=rn=0,an=e),rn)},movementY:function(e){return"movementY"in e?e.movementY:on}}),hn=nn(dn),fn=nn(F({},dn,{dataTransfer:0})),pn=nn(F({},cn,{relatedTarget:0})),mn=nn(F({},sn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},sn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vn=nn(gn),yn=nn(F({},sn,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function _n(){return Sn}var xn=F({},cn,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Zt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?Zt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Zt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),kn=nn(xn),Tn=nn(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=nn(F({},cn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),Cn=nn(F({},sn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nn=nn(Dn),On=[9,13,27,32],An=u&&"CompositionEvent"in window,Rn=null;u&&"documentMode"in document&&(Rn=document.documentMode);var Pn=u&&"TextEvent"in window&&!Rn,Mn=u&&(!An||Rn&&8<Rn&&11>=Rn),Ln=String.fromCharCode(32),Fn=!1;function jn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function $n(e,t,n,r){Te(r),0<(t=Hr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Wn=null;function qn(e){Lr(e,0)}function Gn(e){if(G(vi(e)))return e}function Kn(e,t){if("change"===e)return t}var Yn=!1;if(u){var Qn;if(u){var Xn="oninput"in document;if(!Xn){var Jn=document.createElement("div");Jn.setAttribute("oninput","return;"),Xn="function"===typeof Jn.oninput}Qn=Xn}else Qn=!1;Yn=Qn&&(!document.documentMode||9<document.documentMode)}function Zn(){Hn&&(Hn.detachEvent("onpropertychange",er),Wn=Hn=null)}function er(e){if("value"===e.propertyName&&Gn(Wn)){var t=[];$n(t,Wn,e,Ee(e)),Oe(qn,t)}}function tr(e,t,n){"focusin"===e?(Zn(),Wn=n,(Hn=t).attachEvent("onpropertychange",er)):"focusout"===e&&Zn()}function nr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gn(Wn)}function rr(e,t){if("click"===e)return Gn(t)}function ir(e,t){if("input"===e||"change"===e)return Gn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ar(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!or(e[i],t[i]))return!1}return!0}function sr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=sr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=sr(r)}}function cr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?cr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ur(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=ur(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&cr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=lr(n,o);var a=lr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fr=u&&"documentMode"in document&&11>=document.documentMode,pr=null,mr=null,gr=null,vr=!1;function yr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vr||null==pr||pr!==K(r)||("selectionStart"in(r=pr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&ar(gr,r)||(gr=r,0<(r=Hr(mr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=pr)))}function br(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionend:br("Transition","TransitionEnd")},Er={},Sr={};function _r(e){if(Er[e])return Er[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Er[e]=n[t];return e}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var xr=_r("animationend"),kr=_r("animationiteration"),Tr=_r("animationstart"),Ir=_r("transitionend"),Cr=new Map,Dr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){Cr.set(e,t),l(t,[e])}for(var Or=0;Or<Dr.length;Or++){var Ar=Dr[Or];Nr(Ar.toLowerCase(),"on"+(Ar[0].toUpperCase()+Ar.slice(1)))}Nr(xr,"onAnimationEnd"),Nr(kr,"onAnimationIteration"),Nr(Tr,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(Ir,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,l,c){if(Ve.apply(this,arguments),Le){if(!Le)throw Error(o(198));var u=Fe;Le=!1,Fe=null,je||(je=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function Lr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Mr(i,s,c),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Mr(i,s,c),o=l}}}if(je)throw e=Ue,je=!1,Ue=null,e}function Fr(e,t){var n=t[hi];void 0===n&&(n=t[hi]=new Set);var r=e+"__bubble";n.has(r)||(Vr(t,e,2,!1),n.add(r))}function jr(e,t,n){var r=0;t&&(r|=4),Vr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[Ur]){e[Ur]=!0,a.forEach((function(t){"selectionchange"!==t&&(Pr.has(t)||jr(t,!1,e),jr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,jr("selectionchange",!1,t))}}function Vr(e,t,n,r){switch(Kt(t)){case 1:var i=$t;break;case 4:i=Ht;break;default:i=Wt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function zr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=mi(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}Oe((function(){var r=o,i=Ee(n),a=[];e:{var s=Cr.get(e);if(void 0!==s){var l=ln,c=e;switch(e){case"keypress":if(0===Zt(n))break e;case"keydown":case"keyup":l=kn;break;case"focusin":c="focus",l=pn;break;case"focusout":c="blur",l=pn;break;case"beforeblur":case"afterblur":l=pn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=fn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=In;break;case xr:case kr:case Tr:l=mn;break;case Ir:l=Cn;break;case"scroll":l=un;break;case"wheel":l=Nn;break;case"copy":case"cut":case"paste":l=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Ae(p,h))&&u.push($r(p,m,f)))),d)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,i),a.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!mi(c)&&!c[di])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?mi(c):null)&&(c!==(d=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=hn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Tn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?s:vi(l),f=null==c?s:vi(c),(s=new u(m,p+"leave",l,n,i)).target=d,s.relatedTarget=f,m=null,mi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Wr(f))p++;for(f=0,m=h;m;m=Wr(m))f++;for(;0<p-f;)u=Wr(u),p--;for(;0<f-p;)h=Wr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Wr(u),h=Wr(h)}u=null}else u=null;null!==l&&qr(a,s,l,u,!1),null!==c&&null!==d&&qr(a,d,c,u,!0)}if("select"===(l=(s=r?vi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Kn;else if(zn(s))if(Yn)g=ir;else{g=nr;var v=tr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=rr);switch(g&&(g=g(e,r))?$n(a,g,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=r?vi(r):window,e){case"focusin":(zn(v)||"true"===v.contentEditable)&&(pr=v,mr=r,gr=null);break;case"focusout":gr=mr=pr=null;break;case"mousedown":vr=!0;break;case"contextmenu":case"mouseup":case"dragend":vr=!1,yr(a,n,i);break;case"selectionchange":if(fr)break;case"keydown":case"keyup":yr(a,n,i)}var y;if(An)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?jn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Mn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(y=Jt()):(Qt="value"in(Yt=i)?Yt.value:Yt.textContent,Bn=!0)),0<(v=Hr(r,b)).length&&(b=new yn(b,e,null,n,i),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=Un(n))&&(b.data=y))),(y=Pn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Fn=!0,Ln);case"textInput":return(e=t.data)===Ln&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!An&&jn(e,t)?(e=Jt(),Xt=Qt=Yt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new yn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Lr(a,t)}))}function $r(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ae(e,n))&&r.unshift($r(e,o,i)),null!=(o=Ae(e,t))&&r.push($r(e,o,i))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function qr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=Ae(n,o))&&a.unshift($r(n,l,s)):i||null!=(l=Ae(n,o))&&a.push($r(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Gr=/\r\n?/g,Kr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Gr,"\n").replace(Kr,"")}function Qr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(o(425))}function Xr(){}var Jr=null;function Zr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ei="function"===typeof setTimeout?setTimeout:void 0,ti="function"===typeof clearTimeout?clearTimeout:void 0,ni="function"===typeof Promise?Promise:void 0,ri="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ni?function(e){return ni.resolve(null).then(e).catch(ii)}:ei;function ii(e){setTimeout((function(){throw e}))}function oi(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Vt(t)}function ai(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function si(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var li=Math.random().toString(36).slice(2),ci="__reactFiber$"+li,ui="__reactProps$"+li,di="__reactContainer$"+li,hi="__reactEvents$"+li,fi="__reactListeners$"+li,pi="__reactHandles$"+li;function mi(e){var t=e[ci];if(t)return t;for(var n=e.parentNode;n;){if(t=n[di]||n[ci]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=si(e);null!==e;){if(n=e[ci])return n;e=si(e)}return t}n=(e=n).parentNode}return null}function gi(e){return!(e=e[ci]||e[di])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function vi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function yi(e){return e[ui]||null}var bi=[],wi=-1;function Ei(e){return{current:e}}function Si(e){0>wi||(e.current=bi[wi],bi[wi]=null,wi--)}function _i(e,t){wi++,bi[wi]=e.current,e.current=t}var xi={},ki=Ei(xi),Ti=Ei(!1),Ii=xi;function Ci(e,t){var n=e.type.contextTypes;if(!n)return xi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ni(){Si(Ti),Si(ki)}function Oi(e,t,n){if(ki.current!==xi)throw Error(o(168));_i(ki,t),_i(Ti,n)}function Ai(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,$(e)||"Unknown",i));return F({},n,r)}function Ri(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xi,Ii=ki.current,_i(ki,e),_i(Ti,Ti.current),!0}function Pi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Ai(e,t,Ii),r.__reactInternalMemoizedMergedChildContext=e,Si(Ti),Si(ki),_i(ki,e)):Si(Ti),_i(Ti,n)}var Mi=null,Li=!1,Fi=!1;function ji(e){null===Mi?Mi=[e]:Mi.push(e)}function Ui(){if(!Fi&&null!==Mi){Fi=!0;var e=0,t=yt;try{var n=Mi;for(yt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Mi=null,Li=!1}catch(i){throw null!==Mi&&(Mi=Mi.slice(e+1)),Ge(Ze,Ui),i}finally{yt=t,Fi=!1}}return null}var Bi=w.ReactCurrentBatchConfig;function Vi(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var zi=Ei(null),$i=null,Hi=null,Wi=null;function qi(){Wi=Hi=$i=null}function Gi(e){var t=zi.current;Si(zi),e._currentValue=t}function Ki(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Yi(e,t){$i=e,Wi=Hi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ys=!0),e.firstContext=null)}function Qi(e){var t=e._currentValue;if(Wi!==e)if(e={context:e,memoizedValue:t,next:null},null===Hi){if(null===$i)throw Error(o(308));Hi=e,$i.dependencies={lanes:0,firstContext:e}}else Hi=Hi.next=e;return t}var Xi=null,Ji=!1;function Zi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function eo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function to(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function no(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,null!==bl&&0!==(1&e.mode)&&0===(2&yl)?(null===(e=n.interleaved)?(t.next=t,null===Xi?Xi=[n]:Xi.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function ro(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function io(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function oo(e,t,n,r){var i=e.updateQueue;Ji=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?o=c:a.next=c,a=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(a=0,u=c=l=null,s=o;;){var h=s.lane,f=s.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=F({},d,h);break e;case 2:Ji=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else f={eventTime:f,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Tl|=a,e.lanes=a,e.memoizedState=d}}function ao(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var so=(new r.Component).refs;function lo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var co={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=$l(),i=Hl(e),o=to(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),no(e,o),null!==(t=Wl(e,i,r))&&ro(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=$l(),i=Hl(e),o=to(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),no(e,o),null!==(t=Wl(e,i,r))&&ro(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=$l(),r=Hl(e),i=to(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),no(e,i),null!==(t=Wl(e,r,n))&&ro(t,e,r)}};function uo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!ar(n,r)||!ar(i,o))}function ho(e,t,n){var r=!1,i=xi,o=t.contextType;return"object"===typeof o&&null!==o?o=Qi(o):(i=Di(t)?Ii:ki.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ci(e,i):xi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=co,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function fo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&co.enqueueReplaceState(t,t.state,null)}function po(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=so,Zi(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Qi(o):(o=Di(t)?Ii:ki.current,i.context=Ci(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(lo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&co.enqueueReplaceState(i,i.state,null),oo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var mo=[],go=0,vo=null,yo=0,bo=[],wo=0,Eo=null,So=1,_o="";function xo(e,t){mo[go++]=yo,mo[go++]=vo,vo=e,yo=t}function ko(e,t,n){bo[wo++]=So,bo[wo++]=_o,bo[wo++]=Eo,Eo=e;var r=So;e=_o;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,So=1<<32-at(t)+i|n<<i|r,_o=o+e}else So=1<<o|n<<i|r,_o=e}function To(e){null!==e.return&&(xo(e,1),ko(e,1,0))}function Io(e){for(;e===vo;)vo=mo[--go],mo[go]=null,yo=mo[--go],mo[go]=null;for(;e===Eo;)Eo=bo[--wo],bo[wo]=null,_o=bo[--wo],bo[wo]=null,So=bo[--wo],bo[wo]=null}var Co=null,Do=null,No=!1,Oo=null;function Ao(e,t){var n=Ec(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Ro(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Co=e,Do=ai(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Co=e,Do=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Eo?{id:So,overflow:_o}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ec(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Co=e,Do=null,!0);default:return!1}}function Po(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Mo(e){if(No){var t=Do;if(t){var n=t;if(!Ro(e,t)){if(Po(e))throw Error(o(418));t=ai(n.nextSibling);var r=Co;t&&Ro(e,t)?Ao(r,n):(e.flags=-4097&e.flags|2,No=!1,Co=e)}}else{if(Po(e))throw Error(o(418));e.flags=-4097&e.flags|2,No=!1,Co=e}}}function Lo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Co=e}function Fo(e){if(e!==Co)return!1;if(!No)return Lo(e),No=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!Zr(e.type,e.memoizedProps)),t&&(t=Do)){if(Po(e)){for(e=Do;e;)e=ai(e.nextSibling);throw Error(o(418))}for(;t;)Ao(e,t),t=ai(t.nextSibling)}if(Lo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Do=ai(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Do=null}}else Do=Co?ai(e.stateNode.nextSibling):null;return!0}function jo(){Do=Co=null,No=!1}function Uo(e){null===Oo?Oo=[e]:Oo.push(e)}function Bo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===so&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Vo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function zo(e){return(0,e._init)(e._payload)}function $o(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=_c(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Ic(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===_?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===A&&zo(o)===t.type)?((r=i(t,n.props)).ref=Bo(e,t,n),r.return=e,r):((r=xc(n.type,n.key,n.props,null,e.mode,r)).ref=Bo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Cc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=kc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ic(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case E:return(n=xc(t.type,t.key,t.props,null,e.mode,n)).ref=Bo(e,null,t),n.return=e,n;case S:return(t=Cc(t,e.mode,n)).return=e,t;case A:return h(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=kc(t,e.mode,n,null)).return=e,t;Vo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?c(e,t,n,r):null;case S:return n.key===i?u(e,t,n,r):null;case A:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:d(e,t,n,r,null);Vo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case E:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case A:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return d(t,e=e.get(n)||null,r,i,null);Vo(t,r)}return null}function m(i,o,s,l){for(var c=null,u=null,d=o,m=o=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(i,d,s[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),o=a(v,o,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===s.length)return n(i,d),No&&xo(i,m),c;if(null===d){for(;m<s.length;m++)null!==(d=h(i,s[m],l))&&(o=a(d,o,m),null===u?c=d:u.sibling=d,u=d);return No&&xo(i,m),c}for(d=r(i,d);m<s.length;m++)null!==(g=p(d,i,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=a(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),No&&xo(i,m),c}function g(i,s,l,c){var u=M(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,m=s,g=s=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),s=a(b,s,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(i,m),No&&xo(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(s=a(y,s,g),null===d?u=y:d.sibling=y,d=y);return No&&xo(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=a(y,s,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),No&&xo(i,g),u}return function e(r,o,a,l){if("object"===typeof a&&null!==a&&a.type===_&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case E:e:{for(var c=a.key,u=o;null!==u;){if(u.key===c){if((c=a.type)===_){if(7===u.tag){n(r,u.sibling),(o=i(u,a.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===A&&zo(c)===u.type){n(r,u.sibling),(o=i(u,a.props)).ref=Bo(r,u,a),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===_?((o=kc(a.props.children,r.mode,l,a.key)).return=r,r=o):((l=xc(a.type,a.key,a.props,null,r.mode,l)).ref=Bo(r,o,a),l.return=r,r=l)}return s(r);case S:e:{for(u=a.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Cc(a,r.mode,l)).return=r,r=o}return s(r);case A:return e(r,o,(u=a._init)(a._payload),l)}if(te(a))return m(r,o,a,l);if(M(a))return g(r,o,a,l);Vo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Ic(a,r.mode,l)).return=r,r=o),s(r)):n(r,o)}}var Ho=$o(!0),Wo=$o(!1),qo={},Go=Ei(qo),Ko=Ei(qo),Yo=Ei(qo);function Qo(e){if(e===qo)throw Error(o(174));return e}function Xo(e,t){switch(_i(Yo,t),_i(Ko,e),_i(Go,qo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(Go),_i(Go,t)}function Jo(){Si(Go),Si(Ko),Si(Yo)}function Zo(e){Qo(Yo.current);var t=Qo(Go.current),n=le(t,e.type);t!==n&&(_i(Ko,e),_i(Go,n))}function ea(e){Ko.current===e&&(Si(Go),Si(Ko))}var ta=Ei(0);function na(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ra=[];function ia(){for(var e=0;e<ra.length;e++)ra[e]._workInProgressVersionPrimary=null;ra.length=0}var oa=w.ReactCurrentDispatcher,aa=w.ReactCurrentBatchConfig,sa=0,la=null,ca=null,ua=null,da=!1,ha=!1,fa=0,pa=0;function ma(){throw Error(o(321))}function ga(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function va(e,t,n,r,i,a){if(sa=a,la=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,oa.current=null===e||null===e.memoizedState?Za:es,e=n(r,i),ha){a=0;do{if(ha=!1,fa=0,25<=a)throw Error(o(301));a+=1,ua=ca=null,t.updateQueue=null,oa.current=ts,e=n(r,i)}while(ha)}if(oa.current=Ja,t=null!==ca&&null!==ca.next,sa=0,ua=ca=la=null,da=!1,t)throw Error(o(300));return e}function ya(){var e=0!==fa;return fa=0,e}function ba(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ua?la.memoizedState=ua=e:ua=ua.next=e,ua}function wa(){if(null===ca){var e=la.alternate;e=null!==e?e.memoizedState:null}else e=ca.next;var t=null===ua?la.memoizedState:ua.next;if(null!==t)ua=t,ca=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ca=e).memoizedState,baseState:ca.baseState,baseQueue:ca.baseQueue,queue:ca.queue,next:null},null===ua?la.memoizedState=ua=e:ua=ua.next=e}return ua}function Ea(e,t){return"function"===typeof t?t(e):t}function Sa(e){var t=wa(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ca,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=s=null,c=null,u=a;do{var d=u.lane;if((sa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,s=r):c=c.next=h,la.lanes|=d,Tl|=d}u=u.next}while(null!==u&&u!==a);null===c?s=r:c.next=l,or(r,t.memoizedState)||(ys=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,la.lanes|=a,Tl|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _a(e){var t=wa(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);or(a,t.memoizedState)||(ys=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function xa(){}function ka(e,t){var n=la,r=wa(),i=t(),a=!or(r.memoizedState,i);if(a&&(r.memoizedState=i,ys=!0),r=r.queue,La(Ca.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ua&&1&ua.memoizedState.tag){if(n.flags|=2048,Oa(9,Ia.bind(null,n,r,i,t),void 0,null),null===bl)throw Error(o(349));0!==(30&sa)||Ta(n,t,i)}return i}function Ta(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=la.updateQueue)?(t={lastEffect:null,stores:null},la.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ia(e,t,n,r){t.value=n,t.getSnapshot=r,Da(t)&&Wl(e,1,-1)}function Ca(e,t,n){return n((function(){Da(t)&&Wl(e,1,-1)}))}function Da(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Na(e){var t=ba();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:e},t.queue=e,e=e.dispatch=Ga.bind(null,la,e),[t.memoizedState,e]}function Oa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=la.updateQueue)?(t={lastEffect:null,stores:null},la.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Aa(){return wa().memoizedState}function Ra(e,t,n,r){var i=ba();la.flags|=e,i.memoizedState=Oa(1|t,n,void 0,void 0===r?null:r)}function Pa(e,t,n,r){var i=wa();r=void 0===r?null:r;var o=void 0;if(null!==ca){var a=ca.memoizedState;if(o=a.destroy,null!==r&&ga(r,a.deps))return void(i.memoizedState=Oa(t,n,o,r))}la.flags|=e,i.memoizedState=Oa(1|t,n,o,r)}function Ma(e,t){return Ra(8390656,8,e,t)}function La(e,t){return Pa(2048,8,e,t)}function Fa(e,t){return Pa(4,2,e,t)}function ja(e,t){return Pa(4,4,e,t)}function Ua(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ba(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Pa(4,4,Ua.bind(null,t,e),n)}function Va(){}function za(e,t){var n=wa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ga(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $a(e,t){var n=wa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ga(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ha(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var r=aa.transition;aa.transition={};try{e(!1),t()}finally{yt=n,aa.transition=r}}function Wa(){return wa().memoizedState}function qa(e,t,n){var r=Hl(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ka(e)?Ya(t,n):(Qa(e,t,n),null!==(e=Wl(e,r,n=$l()))&&Xa(e,t,r))}function Ga(e,t,n){var r=Hl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ka(e))Ya(t,i);else{Qa(e,t,i);var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,or(s,a))return}catch(l){}null!==(e=Wl(e,r,n=$l()))&&Xa(e,t,r)}}function Ka(e){var t=e.alternate;return e===la||null!==t&&t===la}function Ya(e,t){ha=da=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qa(e,t,n){null!==bl&&0!==(1&e.mode)&&0===(2&yl)?(null===(e=t.interleaved)?(n.next=n,null===Xi?Xi=[t]:Xi.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function Xa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Ja={readContext:Qi,useCallback:ma,useContext:ma,useEffect:ma,useImperativeHandle:ma,useInsertionEffect:ma,useLayoutEffect:ma,useMemo:ma,useReducer:ma,useRef:ma,useState:ma,useDebugValue:ma,useDeferredValue:ma,useTransition:ma,useMutableSource:ma,useSyncExternalStore:ma,useId:ma,unstable_isNewReconciler:!1},Za={readContext:Qi,useCallback:function(e,t){return ba().memoizedState=[e,void 0===t?null:t],e},useContext:Qi,useEffect:Ma,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ra(4194308,4,Ua.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ra(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ra(4,2,e,t)},useMemo:function(e,t){var n=ba();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ba();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=qa.bind(null,la,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ba().memoizedState=e},useState:Na,useDebugValue:Va,useDeferredValue:function(e){var t=Na(e),n=t[0],r=t[1];return Ma((function(){var t=aa.transition;aa.transition={};try{r(e)}finally{aa.transition=t}}),[e]),n},useTransition:function(){var e=Na(!1),t=e[0];return e=Ha.bind(null,e[1]),ba().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=la,i=ba();if(No){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===bl)throw Error(o(349));0!==(30&sa)||Ta(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Ma(Ca.bind(null,r,a,e),[e]),r.flags|=2048,Oa(9,Ia.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ba(),t=bl.identifierPrefix;if(No){var n=_o;t=":"+t+"R"+(n=(So&~(1<<32-at(So)-1)).toString(32)+n),0<(n=fa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=pa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Qi,useCallback:za,useContext:Qi,useEffect:La,useImperativeHandle:Ba,useInsertionEffect:Fa,useLayoutEffect:ja,useMemo:$a,useReducer:Sa,useRef:Aa,useState:function(){return Sa(Ea)},useDebugValue:Va,useDeferredValue:function(e){var t=Sa(Ea),n=t[0],r=t[1];return La((function(){var t=aa.transition;aa.transition={};try{r(e)}finally{aa.transition=t}}),[e]),n},useTransition:function(){return[Sa(Ea)[0],wa().memoizedState]},useMutableSource:xa,useSyncExternalStore:ka,useId:Wa,unstable_isNewReconciler:!1},ts={readContext:Qi,useCallback:za,useContext:Qi,useEffect:La,useImperativeHandle:Ba,useInsertionEffect:Fa,useLayoutEffect:ja,useMemo:$a,useReducer:_a,useRef:Aa,useState:function(){return _a(Ea)},useDebugValue:Va,useDeferredValue:function(e){var t=_a(Ea),n=t[0],r=t[1];return La((function(){var t=aa.transition;aa.transition={};try{r(e)}finally{aa.transition=t}}),[e]),n},useTransition:function(){return[_a(Ea)[0],wa().memoizedState]},useMutableSource:xa,useSyncExternalStore:ka,useId:Wa,unstable_isNewReconciler:!1};function ns(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function rs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var is,os,as,ss,ls="function"===typeof WeakMap?WeakMap:Map;function cs(e,t,n){(n=to(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Rl||(Rl=!0,Pl=r),rs(0,t)},n}function us(e,t,n){(n=to(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){rs(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){rs(0,t),"function"!==typeof r&&(null===Ml?Ml=new Set([this]):Ml.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ds(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ls;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=mc.bind(null,e,t,n),t.then(e,e))}function hs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function fs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=to(-1,1)).tag=2,no(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function ps(e,t){if(!No)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ms(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function gs(e,t,n){var r=t.pendingProps;switch(Io(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ms(t),null;case 1:case 17:return Di(t.type)&&Ni(),ms(t),null;case 3:return r=t.stateNode,Jo(),Si(Ti),Si(ki),ia(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Fo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Oo&&(Ql(Oo),Oo=null))),os(e,t),ms(t),null;case 5:ea(t);var i=Qo(Yo.current);if(n=t.type,null!==e&&null!=t.stateNode)as(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return ms(t),null}if(e=Qo(Go.current),Fo(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[ci]=t,r[ui]=a,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Rr.length;i++)Fr(Rr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":Q(r,a),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Fr("invalid",r);break;case"textarea":ie(r,a),Fr("invalid",r)}for(var l in ye(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(Qr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(Qr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":q(r),Z(r,a,!0);break;case"textarea":q(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Xr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[ci]=t,e[ui]=r,is(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Rr.length;i++)Fr(Rr[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":Q(e,r),i=Y(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(a in ye(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Fr("scroll",e):null!=u&&b(e,a,u,l))}switch(n){case"input":q(e),Z(e,r,!1);break;case"textarea":q(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Xr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return ms(t),null;case 6:if(e&&null!=t.stateNode)ss(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=Qo(Yo.current),Qo(Go.current),Fo(t)){if(r=t.stateNode,n=t.memoizedProps,r[ci]=t,(a=r.nodeValue!==n)&&null!==(e=Co))switch(l=0!==(1&e.mode),e.tag){case 3:Qr(r.nodeValue,n,l);break;case 5:!0!==e.memoizedProps[void 0]&&Qr(r.nodeValue,n,l)}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ci]=t,t.stateNode=r}return ms(t),null;case 13:if(Si(ta),r=t.memoizedState,No&&null!==Do&&0!==(1&t.mode)&&0===(128&t.flags)){for(r=Do;r;)r=ai(r.nextSibling);return jo(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Fo(t),null===e){if(!r)throw Error(o(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(o(317));r[ci]=t}else jo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return ms(t),null}return null!==Oo&&(Ql(Oo),Oo=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Fo(t):n=null!==e.memoizedState,r&&!n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ta.current)?0===xl&&(xl=3):oc())),null!==t.updateQueue&&(t.flags|=4),ms(t),null);case 4:return Jo(),os(e,t),null===e&&Br(t.stateNode.containerInfo),ms(t),null;case 10:return Gi(t.type._context),ms(t),null;case 19:if(Si(ta),null===(a=t.memoizedState))return ms(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)ps(a,!1);else{if(0!==xl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=na(e))){for(t.flags|=128,ps(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _i(ta,1&ta.current|2),t.child}e=e.sibling}null!==a.tail&&Xe()>Al&&(t.flags|=128,r=!0,ps(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=na(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ps(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!No)return ms(t),null}else 2*Xe()-a.renderingStartTime>Al&&1073741824!==n&&(t.flags|=128,r=!0,ps(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,n=ta.current,_i(ta,r?1&n|2:1&n),t):(ms(t),null);case 22:case 23:return tc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Sl)&&(ms(t),6&t.subtreeFlags&&(t.flags|=8192)):ms(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}is=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},os=function(){},as=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Qo(Go.current);var o,a=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),a=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Xr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fr("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},ss=function(e,t,n,r){n!==r&&(t.flags|=4)};var vs=w.ReactCurrentOwner,ys=!1;function bs(e,t,n,r){t.child=null===e?Wo(t,null,n,r):Ho(t,e.child,n,r)}function ws(e,t,n,r,i){n=n.render;var o=t.ref;return Yi(t,i),r=va(e,t,n,r,o,i),n=ya(),null===e||ys?(No&&n&&To(t),t.flags|=1,bs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Bs(e,t,i))}function Es(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Sc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=xc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ss(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:ar)(a,r)&&e.ref===t.ref)return Bs(e,t,i)}return t.flags|=1,(e=_c(o,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,i){if(null!==e&&ar(e.memoizedProps,r)&&e.ref===t.ref){if(ys=!1,0===(e.lanes&i))return t.lanes=e.lanes,Bs(e,t,i);0!==(131072&e.flags)&&(ys=!0)}return ks(e,t,n,r,i)}function _s(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null},_i(_l,Sl),Sl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,_i(_l,Sl),Sl|=e,null;t.memoizedState={baseLanes:0,cachePool:null},r=null!==o?o.baseLanes:n,_i(_l,Sl),Sl|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,_i(_l,Sl),Sl|=r;return bs(e,t,i,n),t.child}function xs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ks(e,t,n,r,i){var o=Di(n)?Ii:ki.current;return o=Ci(t,o),Yi(t,i),n=va(e,t,n,r,o,i),r=ya(),null===e||ys?(No&&r&&To(t),t.flags|=1,bs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Bs(e,t,i))}function Ts(e,t,n,r,i){if(Di(n)){var o=!0;Ri(t)}else o=!1;if(Yi(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ho(t,n,r),po(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Qi(c):c=Ci(t,c=Di(n)?Ii:ki.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==c)&&fo(t,a,r,c),Ji=!1;var h=t.memoizedState;a.state=h,oo(t,r,a,i),l=t.memoizedState,s!==r||h!==l||Ti.current||Ji?("function"===typeof u&&(lo(t,n,u,r),l=t.memoizedState),(s=Ji||uo(t,n,s,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,eo(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Vi(t.type,s),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Qi(l):l=Ci(t,l=Di(n)?Ii:ki.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||h!==l)&&fo(t,a,r,l),Ji=!1,h=t.memoizedState,a.state=h,oo(t,r,a,i);var p=t.memoizedState;s!==d||h!==p||Ti.current||Ji?("function"===typeof f&&(lo(t,n,f,r),p=t.memoizedState),(c=Ji||uo(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Is(e,t,n,r,o,i)}function Is(e,t,n,r,i,o){xs(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Pi(t,n,!1),Bs(e,t,o);r=t.stateNode,vs.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Ho(t,e.child,null,o),t.child=Ho(t,null,s,o)):bs(e,t,s,o),t.memoizedState=r.state,i&&Pi(t,n,!0),t.child}function Cs(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),Xo(e,t.containerInfo)}function Ds(e,t,n,r,i){return jo(),Uo(i),t.flags|=256,bs(e,t,n,r),t.child}var Ns={dehydrated:null,treeContext:null,retryLane:0};function Os(e){return{baseLanes:e,cachePool:null}}function As(e,t,n){var r,i=t.pendingProps,a=ta.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),_i(ta,1&a),null===e)return Mo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(a=i.children,e=i.fallback,s?(i=t.mode,s=t.child,a={mode:"hidden",children:a},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=a):s=Tc(a,i,0,null),e=kc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Os(n),t.memoizedState=Ns,e):Rs(t,a));if(null!==(a=e.memoizedState)){if(null!==(r=a.dehydrated)){if(l)return 256&t.flags?(t.flags&=-257,Ls(e,t,n,Error(o(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=i.fallback,a=t.mode,i=Tc({mode:"visible",children:i.children},a,0,null),(s=kc(s,a,n,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,0!==(1&t.mode)&&Ho(t,e.child,null,n),t.child.memoizedState=Os(n),t.memoizedState=Ns,s);if(0===(1&t.mode))t=Ls(e,t,n,null);else if("$!"===r.data)t=Ls(e,t,n,Error(o(419)));else if(i=0!==(n&e.childLanes),ys||i){if(null!==(i=bl)){switch(n&-n){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(i=0!==(s&(i.suspendedLanes|n))?0:s)&&i!==a.retryLane&&(a.retryLane=i,Wl(e,i,-1))}oc(),t=Ls(e,t,n,Error(o(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=vc.bind(null,e),r._reactRetry=t,t=null):(n=a.treeContext,Do=ai(r.nextSibling),Co=t,No=!0,Oo=null,null!==n&&(bo[wo++]=So,bo[wo++]=_o,bo[wo++]=Eo,So=n.id,_o=n.overflow,Eo=t),(t=Rs(t,t.pendingProps.children)).flags|=4096);return t}return s?(i=Ms(e,t,i.children,i.fallback,n),s=t.child,a=e.child.memoizedState,s.memoizedState=null===a?Os(n):{baseLanes:a.baseLanes|n,cachePool:null},s.childLanes=e.childLanes&~n,t.memoizedState=Ns,i):(n=Ps(e,t,i.children,n),t.memoizedState=null,n)}return s?(i=Ms(e,t,i.children,i.fallback,n),s=t.child,a=e.child.memoizedState,s.memoizedState=null===a?Os(n):{baseLanes:a.baseLanes|n,cachePool:null},s.childLanes=e.childLanes&~n,t.memoizedState=Ns,i):(n=Ps(e,t,i.children,n),t.memoizedState=null,n)}function Rs(e,t){return(t=Tc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ps(e,t,n,r){var i=e.child;return e=i.sibling,n=_c(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function Ms(e,t,n,r,i){var o=t.mode,a=(e=e.child).sibling,s={mode:"hidden",children:n};return 0===(1&o)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=s,t.deletions=null):(n=_c(e,s)).subtreeFlags=14680064&e.subtreeFlags,null!==a?r=_c(a,r):(r=kc(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Ls(e,t,n,r){return null!==r&&Uo(r),Ho(t,e.child,null,n),(e=Rs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Fs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ki(e.return,t,n)}function js(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Us(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(bs(e,t,r.children,n),0!==(2&(r=ta.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Fs(e,n,t);else if(19===e.tag)Fs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_i(ta,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===na(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),js(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===na(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}js(t,!0,n,null,o);break;case"together":js(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Tl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=_c(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=_c(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Vs(e,t){switch(Io(t),t.tag){case 1:return Di(t.type)&&Ni(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Jo(),Si(Ti),Si(ki),ia(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ea(t),null;case 13:if(Si(ta),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));jo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(ta),null;case 4:return Jo(),null;case 10:return Gi(t.type._context),null;case 22:case 23:return tc(),null;default:return null}}var zs=!1,$s=!1,Hs="function"===typeof WeakSet?WeakSet:Set,Ws=null;function qs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){pc(e,t,r)}else n.current=null}function Gs(e,t,n){try{n()}catch(r){pc(e,t,r)}}var Ks=!1;function Ys(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&Gs(t,n,o)}i=i.next}while(i!==r)}}function Qs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Xs(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function Js(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var i=r,o=i.destroy;i=i.tag,void 0!==o&&(0!==(2&i)||0!==(4&i))&&Gs(t,n,o),r=r.next}while(r!==e)}break;case 1:if(qs(t,n),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){pc(t,n,a)}break;case 5:qs(t,n);break;case 4:ol(e,t,n)}}function Zs(e){var t=e.alternate;null!==t&&(e.alternate=null,Zs(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ci],delete t[ui],delete t[hi],delete t[fi],delete t[pi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function el(e){return 5===e.tag||3===e.tag||4===e.tag}function tl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||el(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function nl(e){e:{for(var t=e.return;null!==t;){if(el(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(n.tag){case 5:t=n.stateNode,32&n.flags&&(he(t,""),n.flags&=-33),il(e,n=tl(e),t);break;case 3:case 4:t=n.stateNode.containerInfo,rl(e,n=tl(e),t);break;default:throw Error(o(161))}}function rl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xr));else if(4!==r&&null!==(e=e.child))for(rl(e,t,n),e=e.sibling;null!==e;)rl(e,t,n),e=e.sibling}function il(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(il(e,t,n),e=e.sibling;null!==e;)il(e,t,n),e=e.sibling}function ol(e,t,n){for(var r,i,a=t,s=!1;;){if(!s){s=a.return;e:for(;;){if(null===s)throw Error(o(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===a.tag||6===a.tag){e:for(var l=e,c=a,u=n,d=c;;)if(Js(l,d,u),null!==d.child&&4!==d.tag)d.child.return=d,d=d.child;else{if(d===c)break e;for(;null===d.sibling;){if(null===d.return||d.return===c)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}i?(l=r,c=a.stateNode,8===l.nodeType?l.parentNode.removeChild(c):l.removeChild(c)):r.removeChild(a.stateNode)}else if(18===a.tag)i?(l=r,c=a.stateNode,8===l.nodeType?oi(l.parentNode,c):1===l.nodeType&&oi(l,c),Vt(l)):oi(r,a.stateNode);else if(4===a.tag){if(null!==a.child){r=a.stateNode.containerInfo,i=!0,a.child.return=a,a=a.child;continue}}else if(Js(e,a,n),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(s=!1)}a.sibling.return=a.return,a=a.sibling}}function al(e,t){switch(t.tag){case 0:case 11:case 14:case 15:return Ys(3,t,t.return),Qs(3,t),void Ys(5,t,t.return);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for("input"===e&&"radio"===r.type&&null!=r.name&&X(n,r),be(e,i),t=be(e,r),i=0;i<a.length;i+=2){var s=a[i],l=a[i+1];"style"===s?ge(n,l):"dangerouslySetInnerHTML"===s?de(n,l):"children"===s?he(n,l):b(n,s,l,t)}switch(e){case"input":J(n,r);break;case"textarea":oe(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?ne(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?ne(n,!!r.multiple,r.defaultValue,!0):ne(n,!!r.multiple,r.multiple?[]:"",!1))}n[ui]=r}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void(null!==e&&e.memoizedState.isDehydrated&&Vt(t.stateNode.containerInfo));case 13:case 19:return void sl(t)}throw Error(o(163))}function sl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Hs),t.forEach((function(t){var r=yc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ll(e,t,n){Ws=e,cl(e,t,n)}function cl(e,t,n){for(var r=0!==(1&e.mode);null!==Ws;){var i=Ws,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||zs;if(!a){var s=i.alternate,l=null!==s&&null!==s.memoizedState||$s;s=zs;var c=$s;if(zs=a,($s=l)&&!c)for(Ws=i;null!==Ws;)l=(a=Ws).child,22===a.tag&&null!==a.memoizedState?hl(i):null!==l?(l.return=a,Ws=l):hl(i);for(;null!==o;)Ws=o,cl(o,t,n),o=o.sibling;Ws=i,zs=s,$s=c}ul(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Ws=o):ul(e)}}function ul(e){for(;null!==Ws;){var t=Ws;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$s||Qs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$s)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Vi(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&ao(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ao(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Vt(h)}}}break;default:throw Error(o(163))}$s||512&t.flags&&Xs(t)}catch(f){pc(t,t.return,f)}}if(t===e){Ws=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ws=n;break}Ws=t.return}}function dl(e){for(;null!==Ws;){var t=Ws;if(t===e){Ws=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ws=n;break}Ws=t.return}}function hl(e){for(;null!==Ws;){var t=Ws;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Qs(4,t)}catch(l){pc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){pc(t,i,l)}}var o=t.return;try{Xs(t)}catch(l){pc(t,o,l)}break;case 5:var a=t.return;try{Xs(t)}catch(l){pc(t,a,l)}}}catch(l){pc(t,t.return,l)}if(t===e){Ws=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Ws=s;break}Ws=t.return}}var fl,pl=Math.ceil,ml=w.ReactCurrentDispatcher,gl=w.ReactCurrentOwner,vl=w.ReactCurrentBatchConfig,yl=0,bl=null,wl=null,El=0,Sl=0,_l=Ei(0),xl=0,kl=null,Tl=0,Il=0,Cl=0,Dl=null,Nl=null,Ol=0,Al=1/0,Rl=!1,Pl=null,Ml=null,Ll=!1,Fl=null,jl=0,Ul=0,Bl=null,Vl=-1,zl=0;function $l(){return 0!==(6&yl)?Xe():-1!==Vl?Vl:Vl=Xe()}function Hl(e){return 0===(1&e.mode)?1:0!==(2&yl)&&0!==El?El&-El:null!==Bi.transition?(0===zl&&(e=ct,0===(4194240&(ct<<=1))&&(ct=64),zl=e),zl):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Kt(e.type)}function Wl(e,t,n){if(50<Ul)throw Ul=0,Bl=null,Error(o(185));var r=ql(e,t);return null===r?null:(gt(r,t,n),0!==(2&yl)&&r===bl||(r===bl&&(0===(2&yl)&&(Il|=t),4===xl&&Xl(r,El)),Gl(r,n),1===t&&0===yl&&0===(1&e.mode)&&(Al=Xe()+500,Li&&Ui())),r)}function ql(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Gl(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,l=i[a];-1===l?0!==(s&n)&&0===(s&r)||(i[a]=ft(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ht(e,e===bl?El:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Li=!0,ji(e)}(Jl.bind(null,e)):ji(Jl.bind(null,e)),ri((function(){0===yl&&Ui()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=bc(n,Kl.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Kl(e,t){if(Vl=-1,zl=0,0!==(6&yl))throw Error(o(327));var n=e.callbackNode;if(hc()&&e.callbackNode!==n)return null;var r=ht(e,e===bl?El:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=ac(e,r);else{t=r;var i=yl;yl|=2;var a=ic();for(bl===e&&El===t||(Al=Xe()+500,nc(e,t));;)try{lc();break}catch(l){rc(e,l)}qi(),ml.current=a,yl=i,null!==wl?t=0:(bl=null,El=0,t=xl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=Yl(e,i))),1===t)throw n=kl,nc(e,0),Xl(e,r),Gl(e,Xe()),n;if(6===t)Xl(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!or(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=ac(e,r))&&(0!==(a=pt(e))&&(r=a,t=Yl(e,a))),1===t))throw n=kl,nc(e,0),Xl(e,r),Gl(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:dc(e,Nl);break;case 3:if(Xl(e,r),(130023424&r)===r&&10<(t=Ol+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){$l(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ei(dc.bind(null,e,Nl),t);break}dc(e,Nl);break;case 4:if(Xl(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*pl(r/1960))-r)){e.timeoutHandle=ei(dc.bind(null,e,Nl),r);break}dc(e,Nl);break;default:throw Error(o(329))}}}return Gl(e,Xe()),e.callbackNode===n?Kl.bind(null,e):null}function Yl(e,t){var n=Dl;return e.current.memoizedState.isDehydrated&&(nc(e,t).flags|=256),2!==(e=ac(e,t))&&(t=Nl,Nl=n,null!==t&&Ql(t)),e}function Ql(e){null===Nl?Nl=e:Nl.push.apply(Nl,e)}function Xl(e,t){for(t&=~Cl,t&=~Il,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function Jl(e){if(0!==(6&yl))throw Error(o(327));hc();var t=ht(e,0);if(0===(1&t))return Gl(e,Xe()),null;var n=ac(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=Yl(e,r))}if(1===n)throw n=kl,nc(e,0),Xl(e,t),Gl(e,Xe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,dc(e,Nl),Gl(e,Xe()),null}function Zl(e,t){var n=yl;yl|=1;try{return e(t)}finally{0===(yl=n)&&(Al=Xe()+500,Li&&Ui())}}function ec(e){null!==Fl&&0===Fl.tag&&0===(6&yl)&&hc();var t=yl;yl|=1;var n=vl.transition,r=yt;try{if(vl.transition=null,yt=1,e)return e()}finally{yt=r,vl.transition=n,0===(6&(yl=t))&&Ui()}}function tc(){Sl=_l.current,Si(_l)}function nc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ti(n)),null!==wl)for(n=wl.return;null!==n;){var r=n;switch(Io(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ni();break;case 3:Jo(),Si(Ti),Si(ki),ia();break;case 5:ea(r);break;case 4:Jo();break;case 13:case 19:Si(ta);break;case 10:Gi(r.type._context);break;case 22:case 23:tc()}n=n.return}if(bl=e,wl=e=_c(e.current,null),El=Sl=t,xl=0,kl=null,Cl=Il=Tl=0,Nl=Dl=null,null!==Xi){for(t=0;t<Xi.length;t++)if(null!==(r=(n=Xi[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Xi=null}return e}function rc(e,t){for(;;){var n=wl;try{if(qi(),oa.current=Ja,da){for(var r=la.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}da=!1}if(sa=0,ua=ca=la=null,ha=!1,fa=0,gl.current=null,null===n||null===n.return){xl=1,kl=t,wl=null;break}e:{var a=e,s=n.return,l=n,c=t;if(t=El,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=hs(s);if(null!==p){p.flags&=-257,fs(p,s,l,0,t),1&p.mode&&ds(a,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ds(a,u,t),oc();break e}c=Error(o(426))}else if(No&&1&l.mode){var v=hs(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),fs(v,s,l,0,t),Uo(c);break e}}a=c,4!==xl&&(xl=2),null===Dl?Dl=[a]:Dl.push(a),c=ns(c,l),l=s;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t,io(l,cs(0,c,t));break e;case 1:a=c;var y=l.type,b=l.stateNode;if(0===(128&l.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Ml||!Ml.has(b)))){l.flags|=65536,t&=-t,l.lanes|=t,io(l,us(l,a,t));break e}}l=l.return}while(null!==l)}uc(n)}catch(w){t=w,wl===n&&null!==n&&(wl=n=n.return);continue}break}}function ic(){var e=ml.current;return ml.current=Ja,null===e?Ja:e}function oc(){0!==xl&&3!==xl&&2!==xl||(xl=4),null===bl||0===(268435455&Tl)&&0===(268435455&Il)||Xl(bl,El)}function ac(e,t){var n=yl;yl|=2;var r=ic();for(bl===e&&El===t||nc(e,t);;)try{sc();break}catch(i){rc(e,i)}if(qi(),yl=n,ml.current=r,null!==wl)throw Error(o(261));return bl=null,El=0,xl}function sc(){for(;null!==wl;)cc(wl)}function lc(){for(;null!==wl&&!Ye();)cc(wl)}function cc(e){var t=fl(e.alternate,e,Sl);e.memoizedProps=e.pendingProps,null===t?uc(e):wl=t,gl.current=null}function uc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=gs(n,t,Sl)))return void(wl=n)}else{if(null!==(n=Vs(n,t)))return n.flags&=32767,void(wl=n);if(null===e)return xl=6,void(wl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(wl=t);wl=t=e}while(null!==t);0===xl&&(xl=5)}function dc(e,t){var n=yt,r=vl.transition;try{vl.transition=null,yt=1,function(e,t,n){do{hc()}while(null!==Fl);if(0!==(6&yl))throw Error(o(327));var r=e.finishedWork,i=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===bl&&(wl=bl=null,El=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Ll||(Ll=!0,bc(tt,(function(){return hc(),null}))),a=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||a){a=vl.transition,vl.transition=null;var s=yt;yt=1;var l=yl;yl|=4,gl.current=null,function(e,t){if(dr(e=ur())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(S){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=s+i),h!==a||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=s),f===a&&++d===r&&(c=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jr={focusedElem:e,selectionRange:n},Ws=t;null!==Ws;)if(e=(t=Ws).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ws=e;else for(;null!==Ws;){t=Ws;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:Vi(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;if(1===w.nodeType)w.textContent="";else if(9===w.nodeType){var E=w.body;null!=E&&(E.textContent="")}break;default:throw Error(o(163))}}catch(S){pc(t,t.return,S)}if(null!==(e=t.sibling)){e.return=t.return,Ws=e;break}Ws=t.return}m=Ks,Ks=!1}(e,r),function(e,t){for(Ws=t;null!==Ws;){var n=(t=Ws).deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{ol(e,i,t);var o=i.alternate;null!==o&&(o.return=null),i.return=null}catch(x){pc(i,t,x)}}if(n=t.child,0!==(12854&t.subtreeFlags)&&null!==n)n.return=t,Ws=n;else for(;null!==Ws;){t=Ws;try{var a=t.flags;if(32&a&&he(t.stateNode,""),512&a){var s=t.alternate;if(null!==s){var l=s.ref;null!==l&&("function"===typeof l?l(null):l.current=null)}}if(8192&a)switch(t.tag){case 13:if(null!==t.memoizedState){var c=t.alternate;null!==c&&null!==c.memoizedState||(Ol=Xe())}break;case 22:var u=null!==t.memoizedState,d=t.alternate,h=null!==d&&null!==d.memoizedState;e:{i=u;for(var f=null,p=r=n=t;;){if(5===p.tag){if(null===f){f=p;var m=p.stateNode;if(i){var g=m.style;"function"===typeof g.setProperty?g.setProperty("display","none","important"):g.display="none"}else{var v=p.stateNode,y=p.memoizedProps.style,b=void 0!==y&&null!==y&&y.hasOwnProperty("display")?y.display:null;v.style.display=me("display",b)}}}else if(6===p.tag)null===f&&(p.stateNode.nodeValue=i?"":p.memoizedProps);else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===r)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===r)break;for(;null===p.sibling;){if(null===p.return||p.return===r)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}if(u&&!h&&0!==(1&n.mode)){Ws=n;for(var w=n.child;null!==w;){for(n=Ws=w;null!==Ws;){var E=(r=Ws).child;switch(r.tag){case 0:case 11:case 14:case 15:Ys(4,r,r.return);break;case 1:qs(r,r.return);var S=r.stateNode;if("function"===typeof S.componentWillUnmount){var _=r.return;try{S.props=r.memoizedProps,S.state=r.memoizedState,S.componentWillUnmount()}catch(x){pc(r,_,x)}}break;case 5:qs(r,r.return);break;case 22:if(null!==r.memoizedState){dl(n);continue}}null!==E?(E.return=r,Ws=E):dl(n)}w=w.sibling}}}switch(4102&a){case 2:nl(t),t.flags&=-3;break;case 6:nl(t),t.flags&=-3,al(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,al(t.alternate,t);break;case 4:al(t.alternate,t)}}catch(x){pc(t,t.return,x)}if(null!==(n=t.sibling)){n.return=t.return,Ws=n;break}Ws=t.return}}}(e,r),hr(Jr),Jr=null,e.current=r,ll(r,e,i),Qe(),yl=l,yt=s,vl.transition=a}else e.current=r;if(Ll&&(Ll=!1,Fl=e,jl=i),a=e.pendingLanes,0===a&&(Ml=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),Gl(e,Xe()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)n(t[r]);if(Rl)throw Rl=!1,e=Pl,Pl=null,e;0!==(1&jl)&&0!==e.tag&&hc(),a=e.pendingLanes,0!==(1&a)?e===Bl?Ul++:(Ul=0,Bl=e):Ul=0,Ui()}(e,t,n)}finally{vl.transition=r,yt=n}return null}function hc(){if(null!==Fl){var e=bt(jl),t=vl.transition,n=yt;try{if(vl.transition=null,yt=16>e?16:e,null===Fl)var r=!1;else{if(e=Fl,Fl=null,jl=0,0!==(6&yl))throw Error(o(331));var i=yl;for(yl|=4,Ws=e.current;null!==Ws;){var a=Ws,s=a.child;if(0!==(16&Ws.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Ws=u;null!==Ws;){var d=Ws;switch(d.tag){case 0:case 11:case 15:Ys(8,d,a)}var h=d.child;if(null!==h)h.return=d,Ws=h;else for(;null!==Ws;){var f=(d=Ws).sibling,p=d.return;if(Zs(d),d===u){Ws=null;break}if(null!==f){f.return=p,Ws=f;break}Ws=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Ws=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Ws=s;else e:for(;null!==Ws;){if(0!==(2048&(a=Ws).flags))switch(a.tag){case 0:case 11:case 15:Ys(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Ws=y;break e}Ws=a.return}}var b=e.current;for(Ws=b;null!==Ws;){var w=(s=Ws).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,Ws=w;else e:for(s=b;null!==Ws;){if(0!==(2048&(l=Ws).flags))try{switch(l.tag){case 0:case 11:case 15:Qs(9,l)}}catch(S){pc(l,l.return,S)}if(l===s){Ws=null;break e}var E=l.sibling;if(null!==E){E.return=l.return,Ws=E;break e}Ws=l.return}}if(yl=i,Ui(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(S){}r=!0}return r}finally{yt=n,vl.transition=t}}return!1}function fc(e,t,n){no(e,t=cs(0,t=ns(n,t),1)),t=$l(),null!==(e=ql(e,1))&&(gt(e,1,t),Gl(e,t))}function pc(e,t,n){if(3===e.tag)fc(e,e,n);else for(;null!==t;){if(3===t.tag){fc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ml||!Ml.has(r))){no(t,e=us(t,e=ns(n,e),1)),e=$l(),null!==(t=ql(t,1))&&(gt(t,1,e),Gl(t,e));break}}t=t.return}}function mc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=$l(),e.pingedLanes|=e.suspendedLanes&n,bl===e&&(El&n)===n&&(4===xl||3===xl&&(130023424&El)===El&&500>Xe()-Ol?nc(e,0):Cl|=n),Gl(e,t)}function gc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=$l();null!==(e=ql(e,t))&&(gt(e,t,n),Gl(e,n))}function vc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),gc(e,n)}function yc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),gc(e,n)}function bc(e,t){return Ge(e,t)}function wc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ec(e,t,n,r){return new wc(e,t,n,r)}function Sc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function _c(e,t){var n=e.alternate;return null===n?((n=Ec(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function xc(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Sc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case _:return kc(n.children,i,a,t);case x:s=8,i|=8;break;case k:return(e=Ec(12,n,t,2|i)).elementType=k,e.lanes=a,e;case D:return(e=Ec(13,n,t,i)).elementType=D,e.lanes=a,e;case N:return(e=Ec(19,n,t,i)).elementType=N,e.lanes=a,e;case R:return Tc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case I:s=9;break e;case C:s=11;break e;case O:s=14;break e;case A:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ec(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function kc(e,t,n,r){return(e=Ec(7,e,r,t)).lanes=n,e}function Tc(e,t,n,r){return(e=Ec(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={},e}function Ic(e,t,n){return(e=Ec(6,e,null,t)).lanes=n,e}function Cc(e,t,n){return(t=Ec(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Dc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Nc(e,t,n,r,i,o,a,s,l){return e=new Dc(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Ec(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null},Zi(o),e}function Oc(e){if(!e)return xi;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Di(n))return Ai(e,n,t)}return t}function Ac(e,t,n,r,i,o,a,s,l){return(e=Nc(n,r,!0,e,0,o,0,s,l)).context=Oc(null),n=e.current,(o=to(r=$l(),i=Hl(n))).callback=void 0!==t&&null!==t?t:null,no(n,o),e.current.lanes=i,gt(e,i,r),Gl(e,r),e}function Rc(e,t,n,r){var i=t.current,o=$l(),a=Hl(i);return n=Oc(n),null===t.context?t.context=n:t.pendingContext=n,(t=to(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),no(i,t),null!==(e=Wl(i,a,o))&&ro(e,i,a),a}function Pc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Mc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Lc(e,t){Mc(e,t),(e=e.alternate)&&Mc(e,t)}fl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ti.current)ys=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ys=!1,function(e,t,n){switch(t.tag){case 3:Cs(t),jo();break;case 5:Zo(t);break;case 1:Di(t.type)&&Ri(t);break;case 4:Xo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;_i(zi,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(_i(ta,1&ta.current),t.flags|=128,null):0!==(n&t.child.childLanes)?As(e,t,n):(_i(ta,1&ta.current),null!==(e=Bs(e,t,n))?e.sibling:null);_i(ta,1&ta.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Us(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),_i(ta,ta.current),r)break;return null;case 22:case 23:return t.lanes=0,_s(e,t,n)}return Bs(e,t,n)}(e,t,n);ys=0!==(131072&e.flags)}else ys=!1,No&&0!==(1048576&t.flags)&&ko(t,yo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=Ci(t,ki.current);Yi(t,n),i=va(null,t,r,e,i,n);var a=ya();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(a=!0,Ri(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Zi(t),i.updater=co,t.stateNode=i,i._reactInternals=t,po(t,r,e,n),t=Is(null,t,r,!0,a,n)):(t.tag=0,No&&a&&To(t),bs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Sc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===O)return 14}return 2}(r),e=Vi(r,e),i){case 0:t=ks(null,t,r,e,n);break e;case 1:t=Ts(null,t,r,e,n);break e;case 11:t=ws(null,t,r,e,n);break e;case 14:t=Es(null,t,r,Vi(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,ks(e,t,r,i=t.elementType===r?i:Vi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:Vi(r,i),n);case 3:e:{if(Cs(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,eo(e,t),oo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ds(e,t,r,n,i=Error(o(423)));break e}if(r!==i){t=Ds(e,t,r,n,i=Error(o(424)));break e}for(Do=ai(t.stateNode.containerInfo.firstChild),Co=t,No=!0,Oo=null,n=Wo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(jo(),r===i){t=Bs(e,t,n);break e}bs(e,t,r,n)}t=t.child}return t;case 5:return Zo(t),null===e&&Mo(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,Zr(r,i)?s=null:null!==a&&Zr(r,a)&&(t.flags|=32),xs(e,t),bs(e,t,s,n),t.child;case 6:return null===e&&Mo(t),null;case 13:return As(e,t,n);case 4:return Xo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ho(t,null,r,n):bs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ws(e,t,r,i=t.elementType===r?i:Vi(r,i),n);case 7:return bs(e,t,t.pendingProps,n),t.child;case 8:case 12:return bs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,_i(zi,r._currentValue),r._currentValue=s,null!==a)if(or(a.value,s)){if(a.children===i.children&&!Ti.current){t=Bs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=to(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Ki(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Ki(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}bs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Yi(t,n),r=r(i=Qi(i)),t.flags|=1,bs(e,t,r,n),t.child;case 14:return i=Vi(r=t.type,t.pendingProps),Es(e,t,r,i=Vi(r.type,i),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Vi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Di(r)?(e=!0,Ri(t)):e=!1,Yi(t,n),ho(t,r,i),po(t,r,i,n),Is(null,t,r,!0,e,n);case 19:return Us(e,t,n);case 22:return _s(e,t,n)}throw Error(o(156,t.tag))};var Fc="function"===typeof reportError?reportError:function(e){console.error(e)};function jc(e){this._internalRoot=e}function Uc(e){this._internalRoot=e}function Bc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Vc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function zc(){}function $c(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=Pc(a);s.call(e)}}Rc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Pc(a);o.call(e)}}var a=Ac(t,r,e,0,null,!1,0,"",zc);return e._reactRootContainer=a,e[di]=a.current,Br(8===e.nodeType?e.parentNode:e),ec(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Pc(l);s.call(e)}}var l=Nc(e,0,!1,null,0,!1,0,"",zc);return e._reactRootContainer=l,e[di]=l.current,Br(8===e.nodeType?e.parentNode:e),ec((function(){Rc(t,l,n,r)})),l}(n,t,e,i,r);return Pc(a)}Uc.prototype.render=jc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Rc(e,t,null,null)},Uc.prototype.unmount=jc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;ec((function(){Rc(null,e,null,null)})),t[di]=null}},Uc.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<At.length&&0!==t&&t<At[n].priority;n++);At.splice(n,0,e),0===n&&Lt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),Gl(t,Xe()),0===(6&yl)&&(Al=Xe()+500,Ui()))}break;case 13:var r=$l();ec((function(){return Wl(e,1,r)})),Lc(e,1)}},Et=function(e){13===e.tag&&(Wl(e,134217728,$l()),Lc(e,134217728))},St=function(e){if(13===e.tag){var t=$l(),n=Hl(e);Wl(e,n,t),Lc(e,n)}},_t=function(){return yt},xt=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},Se=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=yi(r);if(!i)throw Error(o(90));G(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=Zl,De=ec;var Hc={usingClientEntryPoint:!1,Events:[gi,vi,yi,Te,Ie,Zl]},Wc={findFiberByHostInstance:mi,bundleType:0,version:"18.0.0-fc46dba67-20220329",rendererPackageName:"react-dom"},qc={bundleType:Wc.bundleType,version:Wc.version,rendererPackageName:Wc.rendererPackageName,rendererConfig:Wc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:Wc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gc.isDisabled&&Gc.supportsFiber)try{it=Gc.inject(qc),ot=Gc}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Bc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Bc(e))throw Error(o(299));var n=!1,r="",i=Fc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Nc(e,1,!1,null,0,n,0,r,i),e[di]=t.current,Br(8===e.nodeType?e.parentNode:e),new jc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return ec(e)},t.hydrate=function(e,t,n){if(!Vc(t))throw Error(o(200));return $c(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Bc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Fc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Ac(t,null,e,1,null!=n?n:null,i,0,a,s),e[di]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Uc(t)},t.render=function(e,t,n){if(!Vc(t))throw Error(o(200));return $c(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Vc(e))throw Error(o(40));return!!e._reactRootContainer&&(ec((function(){$c(null,null,e,!1,(function(){e._reactRootContainer=null,e[di]=null}))})),!0)},t.unstable_batchedUpdates=Zl,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Vc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return $c(e,t,n,!1,r)},t.version="18.0.0-fc46dba67-20220329"},2740:e=>{"use strict";e.exports=function(e,t,n,r,i,o,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,a,s],u=0;(l=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},2761:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},2777:(e,t,n)=>{var r=n(5193),i=n(2761),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},2866:(e,t,n)=>{var r=n(2969);e.exports=function(e){return function(t){return r(t,e)}}},2929:(e,t,n)=>{var r=n(6552).Uint8Array;e.exports=r},2969:(e,t,n)=>{var r=n(5324),i=n(914);e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}},3028:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},3097:(e,t,n)=>{var r=n(2969);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},3204:(e,t,n)=>{var r=n(3343),i=n(2777),o=n(4052),a=n(4543),s=n(9194),l=n(1268),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),u=!n&&i(e),d=!n&&!u&&a(e),h=!n&&!u&&!d&&l(e),f=n||u||d||h,p=f?r(e.length,String):[],m=p.length;for(var g in e)!t&&!c.call(e,g)||f&&("length"==g||d&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||p.push(g);return p}},3211:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3279:e=>{e.exports=function(e){return e}},3331:(e,t,n)=>{var r=n(9676),i=n(929),o=n(7303);e.exports=function(e){return function(t,n,a){return a&&"number"!=typeof a&&i(t,n,a)&&(n=a=void 0),t=o(t),void 0===n?(n=t,t=0):n=o(n),a=void 0===a?t<n?1:-1:o(a),r(t,n,a,e)}}},3343:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},3366:(e,t,n)=>{var r=n(7894),i=n(9057);e.exports=function(e,t){return null!=e&&i(e,t,r)}},3440:(e,t,n)=>{var r=n(6552)["__core-js_shared__"];e.exports=r},3516:e=>{e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},3668:(e,t,n)=>{var r=n(8902),i=n(2587),o=n(8114);e.exports=function(e,t,n,a,s,l){var c=1&n,u=e.length,d=t.length;if(u!=d&&!(c&&d>u))return!1;var h=l.get(e),f=l.get(t);if(h&&f)return h==t&&f==e;var p=-1,m=!0,g=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++p<u;){var v=e[p],y=t[p];if(a)var b=c?a(y,v,p,t,e,l):a(v,y,p,e,t,l);if(void 0!==b){if(b)continue;m=!1;break}if(g){if(!i(t,(function(e,t){if(!o(g,t)&&(v===e||s(v,e,n,a,l)))return g.push(t)}))){m=!1;break}}else if(v!==y&&!s(v,y,n,a,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},3713:(e,t,n)=>{var r=n(6140),i=n(1143),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},3781:(e,t,n)=>{var r=n(9417),i=n(8673);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var o=t[n],a=e[o];t[n]=[o,a,r(a)]}return t}},3871:e=>{e.exports=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}},3892:e=>{e.exports=function(e){return this.__data__.has(e)}},3932:(e,t,n)=>{var r=n(396),i=n(2866),o=n(2597),a=n(914);e.exports=function(e){return o(e)?r(a(e)):i(e)}},4052:e=>{var t=Array.isArray;e.exports=t},4065:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},4079:(e,t,n)=>{var r=n(8259),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)})),t}));e.exports=a},4160:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},4190:(e,t,n)=>{var r=n(1340);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var E=Array.isArray,S=Object.prototype.hasOwnProperty,_={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,i)&&!x.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:_.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function D(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===o?"."+C(l,0):o,E(a)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),D(a,t,i,"",(function(e){return e}))):null!=a&&(T(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(I,"$&/")+"/")+e)),t.push(a)),1;if(l=0,o=""===o?".":o+":",E(e))for(var c=0;c<e.length;c++){var u=o+C(s=e[c],c);l+=D(s,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=D(s=s.value,t,i,u=o+C(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function N(e,t,n){if(null==e)return e;var r=[],i=0;return D(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},R={transition:null},P={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:R,ReactCurrentOwner:_};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=_.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!x.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,n){return A.current.useReducer(e,t,n)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return A.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return A.current.useTransition()},t.version="18.0.0-fc46dba67-20220329"},4258:(e,t,n)=>{var r=n(5906)();e.exports=r},4262:(e,t,n)=>{var r=n(8895),i=n(4052);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},4353:(e,t,n)=>{e=n.nmd(e);var r=n(6552),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}},4358:(e,t)=>{"use strict";const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,o=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,s=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function l(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function c(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function u(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4443:function(e){e.exports=function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(t,n,r){var i=n.prototype,o=i.format;r.en.formats=e,i.format=function(t){void 0===t&&(t="YYYY-MM-DDTHH:mm:ssZ");var n=this.$locale().formats,r=function(t,n){return t.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,r,i){var o=i&&i.toUpperCase();return r||n[i]||e[i]||n[o].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}))}(t,void 0===n?{}:n);return o.call(this,r)}}}()},4462:function(e){e.exports=function(){"use strict";return function(e,t){t.prototype.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)}}}()},4543:(e,t,n)=>{e=n.nmd(e);var r=n(6552),i=n(14),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||i;e.exports=l},4545:(e,t,n)=>{var r=n(7160);e.exports=function(){this.__data__=new r,this.size=0}},4552:(e,t,n)=>{var r=n(9812),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(l){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},4657:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},4664:(e,t,n)=>{var r=n(4258),i=n(8673);e.exports=function(e,t){return e&&r(e,t,i)}},4816:(e,t,n)=>{var r=n(7251),i=n(7159),o=n(438),a=n(9394),s=n(6874);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},5029:(e,t,n)=>{var r=n(6989),i=n(3097),o=n(3366),a=n(2597),s=n(9417),l=n(1310),c=n(914);e.exports=function(e,t){return a(e)&&s(t)?l(c(e),t):function(n){var a=i(n,e);return void 0===a&&a===t?o(n,e):r(t,a,3)}}},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},5051:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},5119:(e,t,n)=>{var r=n(6614),i=n(474);e.exports=function(e,t){return e&&r(t,i(t),e)}},5173:(e,t,n)=>{e.exports=n(1497)()},5193:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},5204:(e,t,n)=>{var r=n(7937)(n(6552),"Map");e.exports=r},5324:(e,t,n)=>{var r=n(4052),i=n(2597),o=n(4079),a=n(1069);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:o(a(e))}},5387:(e,t,n)=>{var r=n(7937)(n(6552),"Promise");e.exports=r},5428:(e,t,n)=>{var r=n(6913),i=n(6173),o=n(2761),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},5538:(e,t,n)=>{var r=n(7160),i=n(4545),o=n(793),a=n(7760),s=n(3892),l=n(6788);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=l,e.exports=c},5575:(e,t,n)=>{var r=n(7937)(Object,"create");e.exports=r},5636:(e,t,n)=>{var r=n(1170),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=i(o.length-t,0),l=Array(s);++a<s;)l[a]=o[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=o[a];return c[t]=n(l),r(e,this,c)}}},5647:(e,t,n)=>{var r=n(3279),i=n(5636),o=n(6350);e.exports=function(e,t){return o(i(e,t,r),e+"")}},5652:(e,t,n)=>{var r=n(4664),i=n(6516)(r);e.exports=i},5654:(e,t,n)=>{var r=n(7937),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},5752:(e,t,n)=>{var r=n(9395),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,s){var l=1&n,c=r(e),u=c.length;if(u!=r(t).length&&!l)return!1;for(var d=u;d--;){var h=c[d];if(!(l?h in t:i.call(t,h)))return!1}var f=s.get(e),p=s.get(t);if(f&&p)return f==t&&p==e;var m=!0;s.set(e,t),s.set(t,e);for(var g=l;++d<u;){var v=e[h=c[d]],y=t[h];if(o)var b=l?o(y,v,h,t,e,s):o(v,y,h,e,t,s);if(!(void 0===b?v===y||a(v,y,n,o,s):b)){m=!1;break}g||(g="constructor"==h)}if(m&&!g){var w=e.constructor,E=t.constructor;w==E||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof E&&E instanceof E||(m=!1)}return s.delete(e),s.delete(t),m}},5791:(e,t,n)=>{var r=n(6924),i=n(2761);e.exports=function(e){return i(e)&&"[object Map]"==r(e)}},5797:(e,t,n)=>{var r=n(4816);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},5816:e=>{e.exports=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},5857:(e,t,n)=>{var r=n(819),i=n(5636),o=n(6350);e.exports=function(e){return o(i(e,void 0,r),e+"")}},5893:(e,t,n)=>{var r=n(6599);e.exports=function(e,t,n){for(var i=-1,o=e.criteria,a=t.criteria,s=o.length,l=n.length;++i<s;){var c=r(o[i],a[i]);if(c)return i>=l?c:c*("desc"==n[i]?-1:1)}return e.index-t.index}},5906:e=>{e.exports=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(!1===n(o[l],l,o))break}return t}}},5921:(e,t,n)=>{var r=n(449),i=n(7574),o=n(6832),a=o&&o.isSet,s=a?i(a):r;e.exports=s},5990:(e,t,n)=>{var r=n(3028)(Object.getPrototypeOf,Object);e.exports=r},6095:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},6140:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},6173:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},6179:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},6326:(e,t,n)=>{var r=n(8895),i=n(5990),o=n(9621),a=n(7828),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,o(e)),e=i(e);return t}:a;e.exports=s},6350:(e,t,n)=>{var r=n(8325),i=n(6578)(r);e.exports=i},6399:(e,t,n)=>{var r=n(5538),i=n(3668),o=n(9987),a=n(5752),s=n(6924),l=n(4052),c=n(4543),u=n(1268),d="[object Arguments]",h="[object Array]",f="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,g,v){var y=l(e),b=l(t),w=y?h:s(e),E=b?h:s(t),S=(w=w==d?f:w)==f,_=(E=E==d?f:E)==f,x=w==E;if(x&&c(e)){if(!c(t))return!1;y=!0,S=!1}if(x&&!S)return v||(v=new r),y||u(e)?i(e,t,n,m,g,v):o(e,t,w,n,m,g,v);if(!(1&n)){var k=S&&p.call(e,"__wrapped__"),T=_&&p.call(t,"__wrapped__");if(k||T){var I=k?e.value():e,C=T?t.value():t;return v||(v=new r),g(I,C,n,m,v)}}return!!x&&(v||(v=new r),a(e,t,n,m,g,v))}},6440:e=>{"use strict";var t=function(){};e.exports=t},6516:(e,t,n)=>{var r=n(6571);e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var o=n.length,a=t?o:-1,s=Object(n);(t?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},6532:(e,t,n)=>{var r=n(5538),i=n(6989);e.exports=function(e,t,n,o){var a=n.length,s=a,l=!o;if(null==e)return!s;for(e=Object(e);a--;){var c=n[a];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++a<s;){var u=(c=n[a])[0],d=e[u],h=c[1];if(l&&c[2]){if(void 0===d&&!(u in e))return!1}else{var f=new r;if(o)var p=o(d,h,u,e,t,f);if(!(void 0===p?i(h,d,3,o,f):p))return!1}}return!0}},6552:(e,t,n)=>{var r=n(7105),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},6571:(e,t,n)=>{var r=n(1629),i=n(6173);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},6578:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var i=t(),o=16-(i-r);if(r=i,o>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},6599:(e,t,n)=>{var r=n(9841);e.exports=function(e,t){if(e!==t){var n=void 0!==e,i=null===e,o=e===e,a=r(e),s=void 0!==t,l=null===t,c=t===t,u=r(t);if(!l&&!u&&!a&&e>t||a&&s&&c&&!l&&!u||i&&s&&c||!n&&c||!o)return 1;if(!i&&!a&&!u&&e<t||u&&n&&o&&!i&&!a||l&&n&&o||!s&&o||!c)return-1}return 0}},6600:(e,t,n)=>{var r=n(7937)(n(6552),"WeakMap");e.exports=r},6604:(e,t,n)=>{var r=n(3331)();e.exports=r},6614:(e,t,n)=>{var r=n(8420),i=n(1775);e.exports=function(e,t,n,o){var a=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var c=t[s],u=o?o(n[c],e[c],c,n,e):void 0;void 0===u&&(u=e[c]),a?i(n,c,u):r(n,c,u)}return n}},6686:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},6704:e=>{e.exports=function(e){return this.__data__.has(e)}},6761:(e,t,n)=>{var r=n(2322);e.exports=function(e){return r(e)?void 0:e}},6788:(e,t,n)=>{var r=n(7160),i=n(5204),o=n(4816);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},6806:(e,t,n)=>{var r=n(1516);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},6832:(e,t,n)=>{e=n.nmd(e);var r=n(7105),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=s},6874:(e,t,n)=>{var r=n(2622);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},6913:(e,t,n)=>{var r=n(9812),i=n(4552),o=n(6095),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},6924:(e,t,n)=>{var r=n(7685),i=n(5204),o=n(5387),a=n(2070),s=n(6600),l=n(6913),c=n(6996),u="[object Map]",d="[object Promise]",h="[object Set]",f="[object WeakMap]",p="[object DataView]",m=c(r),g=c(i),v=c(o),y=c(a),b=c(s),w=l;(r&&w(new r(new ArrayBuffer(1)))!=p||i&&w(new i)!=u||o&&w(o.resolve())!=d||a&&w(new a)!=h||s&&w(new s)!=f)&&(w=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case m:return p;case g:return u;case v:return d;case y:return h;case b:return f}return t}),e.exports=w},6954:(e,t,n)=>{var r=n(1629),i=n(7857),o=n(6686),a=n(6996),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,h=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?h:s).test(a(e))}},6989:(e,t,n)=>{var r=n(6399),i=n(2761);e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,o,a,e,s))}},6996:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},7084:(e,t,n)=>{var r=n(3871),i=n(929),o=n(9140),a=Math.ceil,s=Math.max;e.exports=function(e,t,n){t=(n?i(e,t,n):void 0===t)?1:s(o(t),0);var l=null==e?0:e.length;if(!l||t<1)return[];for(var c=0,u=0,d=Array(a(l/t));c<l;)d[u++]=r(e,c,c+=t);return d}},7105:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},7116:(e,t,n)=>{var r=n(9812),i=n(2777),o=n(4052),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||i(e)||!!(a&&e&&e[a])}},7132:(e,t,n)=>{var r=n(5538),i=n(726),o=n(8420),a=n(1104),s=n(5119),l=n(4353),c=n(1980),u=n(8124),d=n(9075),h=n(9395),f=n(8592),p=n(6924),m=n(8268),g=n(8630),v=n(310),y=n(4052),b=n(4543),w=n(7887),E=n(6686),S=n(5921),_=n(8673),x=n(474),k="[object Arguments]",T="[object Function]",I="[object Object]",C={};C[k]=C["[object Array]"]=C["[object ArrayBuffer]"]=C["[object DataView]"]=C["[object Boolean]"]=C["[object Date]"]=C["[object Float32Array]"]=C["[object Float64Array]"]=C["[object Int8Array]"]=C["[object Int16Array]"]=C["[object Int32Array]"]=C["[object Map]"]=C["[object Number]"]=C[I]=C["[object RegExp]"]=C["[object Set]"]=C["[object String]"]=C["[object Symbol]"]=C["[object Uint8Array]"]=C["[object Uint8ClampedArray]"]=C["[object Uint16Array]"]=C["[object Uint32Array]"]=!0,C["[object Error]"]=C[T]=C["[object WeakMap]"]=!1,e.exports=function e(t,n,D,N,O,A){var R,P=1&n,M=2&n,L=4&n;if(D&&(R=O?D(t,N,O,A):D(t)),void 0!==R)return R;if(!E(t))return t;var F=y(t);if(F){if(R=m(t),!P)return c(t,R)}else{var j=p(t),U=j==T||"[object GeneratorFunction]"==j;if(b(t))return l(t,P);if(j==I||j==k||U&&!O){if(R=M||U?{}:v(t),!P)return M?d(t,s(R,t)):u(t,a(R,t))}else{if(!C[j])return O?t:{};R=g(t,j,P)}}A||(A=new r);var B=A.get(t);if(B)return B;A.set(t,R),S(t)?t.forEach((function(r){R.add(e(r,n,D,r,t,A))})):w(t)&&t.forEach((function(r,i){R.set(i,e(r,n,D,i,t,A))}));var V=F?void 0:(L?M?f:h:M?x:_)(t);return i(V||t,(function(r,i){V&&(r=t[i=r]),o(R,i,e(r,n,D,i,t,A))})),R}},7159:(e,t,n)=>{var r=n(2622);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},7160:(e,t,n)=>{var r=n(7563),i=n(9935),o=n(4190),a=n(1946),s=n(1714);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},7227:function(e){e.exports=function(){"use strict";return function(e,t,n){var r=function(e,t){if(!t||!t.length||1===t.length&&!t[0]||1===t.length&&Array.isArray(t[0])&&!t[0].length)return null;var n;1===t.length&&t[0].length>0&&(t=t[0]),n=(t=t.filter((function(e){return e})))[0];for(var r=1;r<t.length;r+=1)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n};n.max=function(){var e=[].slice.call(arguments,0);return r("isAfter",e)},n.min=function(){var e=[].slice.call(arguments,0);return r("isBefore",e)}}}()},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function E(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,R(S);else{var t=r(u);null!==t&&P(E,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,y(T),T=-1),p=!0;var o=f;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!D());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var s=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&P(E,d.startTime-n),l=!1}return l}finally{h=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,x=!1,k=null,T=-1,I=5,C=-1;function D(){return!(t.unstable_now()-C<I)}function N(){if(null!==k){var e=t.unstable_now();C=e;var n=!0;try{n=k(!0,e)}finally{n?_():(x=!1,k=null)}}else x=!1}if("function"===typeof b)_=function(){b(N)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,A=O.port2;O.port1.onmessage=N,_=function(){A.postMessage(null)}}else _=function(){v(N,0)};function R(e){k=e,x||(x=!0,_())}function P(e,n){T=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,R(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(y(T),T=-1):g=!0,P(E,o-a))):(e.sortIndex=s,n(c,e),m||p||(m=!0,R(S))),e},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},7237:(e,t,n)=>{"use strict";n(8365)},7251:(e,t,n)=>{var r=n(8724),i=n(7160),o=n(5204);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},7303:(e,t,n)=>{var r=n(801),i=1/0;e.exports=function(e){return e?(e=r(e))===i||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},7424:(e,t,n)=>{var r=n(755),i=n(2536),o=n(5647),a=n(929),s=o((function(e,t){if(null==e)return[];var n=t.length;return n>1&&a(e,t[0],t[1])?t=[]:n>2&&a(t[0],t[1],t[2])&&(t=[t[0]]),i(e,r(t,1),[])}));e.exports=s},7529:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},7563:e=>{e.exports=function(){this.__data__=[],this.size=0}},7574:e=>{e.exports=function(e){return function(t){return e(t)}}},7615:(e,t,n)=>{var r=n(5575);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},7685:(e,t,n)=>{var r=n(7937)(n(6552),"DataView");e.exports=r},7760:e=>{e.exports=function(e){return this.__data__.get(e)}},7828:e=>{e.exports=function(){return[]}},7857:(e,t,n)=>{var r=n(3440),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},7887:(e,t,n)=>{var r=n(5791),i=n(7574),o=n(6832),a=o&&o.isMap,s=a?i(a):r;e.exports=s},7894:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},7937:(e,t,n)=>{var r=n(6954),i=n(4657);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},8114:e=>{e.exports=function(e,t){return e.has(t)}},8122:(e,t,n)=>{var r=n(6686),i=n(6140),o=n(3516),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=i(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}},8124:(e,t,n)=>{var r=n(6614),i=n(9621);e.exports=function(e,t){return r(e,i(e),t)}},8140:(e,t,n)=>{var r=n(5324),i=n(4065),o=n(1676),a=n(914);e.exports=function(e,t){return t=r(t,e),null==(e=o(e,t))||delete e[a(i(t))]}},8259:(e,t,n)=>{var r=n(5797);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},8268:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,r=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},8325:(e,t,n)=>{var r=n(2541),i=n(5654),o=n(3279),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=a},8365:(e,t,n)=>{"use strict";var r=n(5043);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=r.useSyncExternalStore,a=r.useRef,s=r.useEffect,l=r.useMemo,c=r.useDebugValue},8392:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/en-US.c3a6319ea4f219498e6f.cjs"},8420:(e,t,n)=>{var r=n(1775),i=n(3211),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];o.call(e,t)&&i(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},8541:(e,t,n)=>{var r=n(9812),i=n(149),o=n(4052),a=n(9841),s=r?r.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},8592:(e,t,n)=>{var r=n(4262),i=n(6326),o=n(474);e.exports=function(e){return r(e,o,i)}},8630:(e,t,n)=>{var r=n(1516),i=n(6806),o=n(8962),a=n(1295),s=n(8710);e.exports=function(e,t,n){var l=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new l(+e);case"[object DataView]":return i(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":case"[object Set]":return new l;case"[object Number]":case"[object String]":return new l(e);case"[object RegExp]":return o(e);case"[object Symbol]":return a(e)}}},8673:(e,t,n)=>{var r=n(3204),i=n(3713),o=n(6571);e.exports=function(e){return o(e)?r(e):i(e)}},8710:(e,t,n)=>{var r=n(1516);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},8724:(e,t,n)=>{var r=n(7615),i=n(5051),o=n(2154),a=n(8734),s=n(2662);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},8734:(e,t,n)=>{var r=n(5575),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},8883:(e,t,n)=>{var r=n(5652),i=n(6571);e.exports=function(e,t){var n=-1,o=i(e)?Array(e.length):[];return r(e,(function(e,r,i){o[++n]=t(e,r,i)})),o}},8895:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},8902:(e,t,n)=>{var r=n(4816),i=n(6179),o=n(6704);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},8933:function(e){e.exports=function(){"use strict";return function(e,t){t.prototype.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)}}}()},8962:e=>{var t=/\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},9057:(e,t,n)=>{var r=n(5324),i=n(2777),o=n(4052),a=n(9194),s=n(6173),l=n(914);e.exports=function(e,t,n){for(var c=-1,u=(t=r(t,e)).length,d=!1;++c<u;){var h=l(t[c]);if(!(d=null!=e&&n(e,h)))break;e=e[h]}return d||++c!=u?d:!!(u=null==e?0:e.length)&&s(u)&&a(h,u)&&(o(e)||i(e))}},9075:(e,t,n)=>{var r=n(6614),i=n(6326);e.exports=function(e,t){return r(e,i(e),t)}},9096:(e,t,n)=>{var r=n(9256),i=n(5029),o=n(3279),a=n(4052),s=n(3932);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?i(e[0],e[1]):r(e):s(e)}},9140:(e,t,n)=>{var r=n(7303);e.exports=function(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}},9194:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},9256:(e,t,n)=>{var r=n(6532),i=n(3781),o=n(1310);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},9394:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).has(e)}},9395:(e,t,n)=>{var r=n(4262),i=n(9621),o=n(8673);e.exports=function(e){return r(e,o,i)}},9417:(e,t,n)=>{var r=n(6686);e.exports=function(e){return e===e&&!r(e)}},9621:(e,t,n)=>{var r=n(7529),i=n(7828),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return o.call(e,t)})))}:i;e.exports=s},9676:e=>{var t=Math.ceil,n=Math.max;e.exports=function(e,r,i,o){for(var a=-1,s=n(t((r-e)/(i||1)),0),l=Array(s);s--;)l[o?s:++a]=e,e+=i;return l}},9812:(e,t,n)=>{var r=n(6552).Symbol;e.exports=r},9841:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},9853:(e,t,n)=>{var r=n(6989);e.exports=function(e,t){return r(e,t)}},9935:(e,t,n)=>{var r=n(1340),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},9987:(e,t,n)=>{var r=n(9812),i=n(2929),o=n(3211),a=n(3668),s=n(4160),l=n(2074),c=r?r.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,d,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var f=s;case"[object Set]":var p=1&r;if(f||(f=l),e.size!=t.size&&!p)return!1;var m=h.get(e);if(m)return m==t;r|=2,h.set(e,t);var g=a(f(e),f(t),r,c,d,h);return h.delete(e),g;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/CPSC449-Project/",(()=>{"use strict";var e={};n.r(e),n.d(e,{add:()=>L_,century:()=>ix,date:()=>ex,day:()=>Z_,decade:()=>rx,diff:()=>ax,endOf:()=>U_,eq:()=>B_,gt:()=>z_,gte:()=>$_,hours:()=>J_,inRange:()=>K_,lt:()=>H_,lte:()=>W_,max:()=>G_,milliseconds:()=>Y_,min:()=>q_,minutes:()=>X_,month:()=>tx,neq:()=>V_,seconds:()=>Q_,startOf:()=>j_,subtract:()=>F_,weekday:()=>ox,year:()=>nx});var t=n(5043),r=n(4391),i=(n(4358),"popstate");function o(){return h((function(e,t){let{pathname:n="/",search:r="",hash:i=""}=d(e.location.hash.substring(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),c("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:u(t))}),(function(e,t){s("/"===e.pathname.charAt(0),`relative pathnames are not supported in hash history.push(${JSON.stringify(t)})`)}),arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function a(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function s(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function l(e,t){return{usr:e.state,key:e.key,idx:t}}function c(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return{pathname:"string"===typeof e?e:e.pathname,search:"",hash:"",..."string"===typeof t?d(t):t,state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)}}function u(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function d(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function h(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:o=document.defaultView,v5Compat:s=!1}=r,d=o.history,h="POP",f=null,p=m();function m(){return(d.state||{idx:null}).idx}function g(){h="POP";let e=m(),t=null==e?null:e-p;p=e,f&&f({action:h,location:y.location,delta:t})}function v(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:u(e);return n=n.replace(/ $/,"%20"),a(t,`No window.location.(origin|href) available to create URL for href: ${n}`),new URL(n,t)}null==p&&(p=0,d.replaceState({...d.state,idx:p},""));let y={get action(){return h},get location(){return e(o,d)},listen(e){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(i,g),f=e,()=>{o.removeEventListener(i,g),f=null}},createHref:e=>t(o,e),createURL:v,encodeLocation(e){let t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){h="PUSH";let r=c(y.location,e,t);n&&n(r,e),p=m()+1;let i=l(r,p),a=y.createHref(r);try{d.pushState(i,"",a)}catch(u){if(u instanceof DOMException&&"DataCloneError"===u.name)throw u;o.location.assign(a)}s&&f&&f({action:h,location:y.location,delta:1})},replace:function(e,t){h="REPLACE";let r=c(y.location,e,t);n&&n(r,e),p=m();let i=l(r,p),o=y.createHref(r);d.replaceState(i,"",o),s&&f&&f({action:h,location:y.location,delta:0})},go:e=>d.go(e)};return y}new WeakMap;function f(e,t){return p(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function p(e,t,n,r){let i=D(("string"===typeof t?d(t):t).pathname||"/",n);if(null==i)return null;let o=m(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(o);let a=null;for(let s=0;null==a&&s<o.length;++s){let e=C(i);a=k(o[s],e,r)}return a}function m(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=(e,i,o)=>{let s={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(a(s.relativePath.startsWith(r),`Absolute route path "${s.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),s.relativePath=s.relativePath.slice(r.length));let l=P([r,s.relativePath]),c=n.concat(s);e.children&&e.children.length>0&&(a(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),m(e.children,t,c,l)),(null!=e.path||e.index)&&t.push({path:l,score:x(l,e.index),routesMeta:c})};return e.forEach(((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let n of g(e.path))i(e,t,n);else i(e,t)})),t}function g(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let a=g(r.join("/")),s=[];return s.push(...a.map((e=>""===e?o:[o,e].join("/")))),i&&s.push(...a),s.map((t=>e.startsWith("/")&&""===t?"/":t))}var v=/^:[\w-]+$/,y=3,b=2,w=1,E=10,S=-2,_=e=>"*"===e;function x(e,t){let n=e.split("/"),r=n.length;return n.some(_)&&(r+=S),t&&(r+=b),n.filter((e=>!_(e))).reduce(((e,t)=>e+(v.test(t)?y:""===t?w:E)),r)}function k(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,i={},o="/",a=[];for(let s=0;s<r.length;++s){let e=r[s],l=s===r.length-1,c="/"===o?t:t.slice(o.length)||"/",u=T({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=T({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:P([o,u.pathname]),pathnameBase:M(P([o,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(o=P([o,u.pathnameBase]))}return a}function T(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=I(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=s[n]||"";a=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:o,pathnameBase:a,pattern:e}}function I(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];s("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));return e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function C(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return s(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function D(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function N(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function O(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function A(e){let t=O(e);return t.map(((e,n)=>n===t.length-1?e.pathname:e.pathnameBase))}function R(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=d(e):(r={...e},a(!r.pathname||!r.pathname.includes("?"),N("?","pathname","search",r)),a(!r.pathname||!r.pathname.includes("#"),N("#","pathname","hash",r)),a(!r.search||!r.search.includes("#"),N("#","search","hash",r)));let o,s=""===e||""===r.pathname,l=s?"/":r.pathname;if(null==l)o=n;else{let e=t.length-1;if(!i&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}o=e>=0?t[e]:"/"}let c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:i=""}="string"===typeof e?d(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:L(r),hash:F(i)}}(r,o),u=l&&"/"!==l&&l.endsWith("/"),h=(s||"."===l)&&n.endsWith("/");return c.pathname.endsWith("/")||!u&&!h||(c.pathname+="/"),c}var P=e=>e.join("/").replace(/\/\/+/g,"/"),M=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),L=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",F=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function j(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var U=["POST","PUT","PATCH","DELETE"],B=(new Set(U),["GET",...U]);new Set(B),Symbol("ResetLoaderData");var V=t.createContext(null);V.displayName="DataRouter";var z=t.createContext(null);z.displayName="DataRouterState";var $=t.createContext({isTransitioning:!1});$.displayName="ViewTransition";var H=t.createContext(new Map);H.displayName="Fetchers";var W=t.createContext(null);W.displayName="Await";var q=t.createContext(null);q.displayName="Navigation";var G=t.createContext(null);G.displayName="Location";var K=t.createContext({outlet:null,matches:[],isDataRoute:!1});K.displayName="Route";var Y=t.createContext(null);Y.displayName="RouteError";function Q(){return null!=t.useContext(G)}function X(){return a(Q(),"useLocation() may be used only in the context of a <Router> component."),t.useContext(G).location}var J="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Z(e){t.useContext(q).static||t.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=t.useContext(K);return e?function(){let{router:e}=ce("useNavigate"),n=de("useNavigate"),r=t.useRef(!1);Z((()=>{r.current=!0}));let i=t.useCallback((async function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s(r.current,J),r.current&&("number"===typeof t?e.navigate(t):await e.navigate(t,{fromRouteId:n,...i}))}),[e,n]);return i}():function(){a(Q(),"useNavigate() may be used only in the context of a <Router> component.");let e=t.useContext(V),{basename:n,navigator:r}=t.useContext(q),{matches:i}=t.useContext(K),{pathname:o}=X(),l=JSON.stringify(A(i)),c=t.useRef(!1);Z((()=>{c.current=!0}));let u=t.useCallback((function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(s(c.current,J),!c.current)return;if("number"===typeof t)return void r.go(t);let a=R(t,JSON.parse(l),o,"path"===i.relative);null==e&&"/"!==n&&(a.pathname="/"===a.pathname?n:P([n,a.pathname])),(i.replace?r.replace:r.push)(a,i.state,i)}),[n,r,l,o,e]);return u}()}t.createContext(null);function te(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:r}=t.useContext(K),{pathname:i}=X(),o=JSON.stringify(A(r));return t.useMemo((()=>R(e,JSON.parse(o),i,"path"===n)),[e,o,i,n])}function ne(e,n,r,i){a(Q(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:l}=t.useContext(q),{matches:c}=t.useContext(K),u=c[c.length-1],h=u?u.params:{},p=u?u.pathname:"/",m=u?u.pathnameBase:"/",g=u&&u.route;{let e=g&&g.path||"";pe(p,!g||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let v,y=X();if(n){let e="string"===typeof n?d(n):n;a("/"===m||e.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${e.pathname}" was given in the \`location\` prop.`),v=e}else v=y;let b=v.pathname||"/",w=b;if("/"!==m){let e=m.replace(/^\//,"").split("/");w="/"+b.replace(/^\//,"").split("/").slice(e.length).join("/")}let E=!l&&r&&r.matches&&r.matches.length>0?r.matches:f(e,{pathname:w});s(g||null!=E,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),s(null==E||void 0!==E[E.length-1].route.element||void 0!==E[E.length-1].route.Component||void 0!==E[E.length-1].route.lazy,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=se(E&&E.map((e=>Object.assign({},e,{params:Object.assign({},h,e.params),pathname:P([m,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?m:P([m,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),c,r,i);return n&&S?t.createElement(G.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},S):S}function re(){let e=he(),n=j(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=t.createElement(t.Fragment,null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",t.createElement("code",{style:a},"ErrorBoundary")," or"," ",t.createElement("code",{style:a},"errorElement")," prop on your route.")),t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:o},r):null,s)}var ie=t.createElement(re,null),oe=class extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(K.Provider,{value:this.props.routeContext},t.createElement(Y.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ae(e){let{routeContext:n,match:r,children:i}=e,o=t.useContext(V);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(K.Provider,{value:n},i)}function se(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!r)return null;if(r.errors)e=r.matches;else{if(0!==n.length||r.initialized||!(r.matches.length>0))return null;e=r.matches}}let i=e,o=r?.errors;if(null!=o){let e=i.findIndex((e=>e.route.id&&void 0!==o?.[e.route.id]));a(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,e+1))}let s=!1,l=-1;if(r)for(let t=0;t<i.length;t++){let e=i[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=t),e.route.id){let{loaderData:t,errors:n}=r,o=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!n||void 0===n[e.route.id]);if(e.route.lazy||o){s=!0,i=l>=0?i.slice(0,l+1):[i[0]];break}}}return i.reduceRight(((e,a,c)=>{let u,d=!1,h=null,f=null;r&&(u=o&&a.route.id?o[a.route.id]:void 0,h=a.route.errorElement||ie,s&&(l<0&&0===c?(pe("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,f=null):l===c&&(d=!0,f=a.route.hydrateFallbackElement||null)));let p=n.concat(i.slice(0,c+1)),m=()=>{let n;return n=u?h:d?f:a.route.Component?t.createElement(a.route.Component,null):a.route.element?a.route.element:e,t.createElement(ae,{match:a,routeContext:{outlet:e,matches:p,isDataRoute:null!=r},children:n})};return r&&(a.route.ErrorBoundary||a.route.errorElement||0===c)?t.createElement(oe,{location:r.location,revalidation:r.revalidation,component:h,error:u,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()}),null)}function le(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ce(e){let n=t.useContext(V);return a(n,le(e)),n}function ue(e){let n=t.useContext(z);return a(n,le(e)),n}function de(e){let n=function(e){let n=t.useContext(K);return a(n,le(e)),n}(e),r=n.matches[n.matches.length-1];return a(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function he(){let e=t.useContext(Y),n=ue("useRouteError"),r=de("useRouteError");return void 0!==e?e:n.errors?.[r]}var fe={};function pe(e,t,n){t||fe[e]||(fe[e]=!0,s(!1,n))}t.memo((function(e){let{routes:t,future:n,state:r}=e;return ne(t,void 0,r,n)}));function me(e){let{basename:n="/",children:r=null,location:i,navigationType:o="POP",navigator:l,static:c=!1}=e;a(!Q(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=t.useMemo((()=>({basename:u,navigator:l,static:c,future:{}})),[u,l,c]);"string"===typeof i&&(i=d(i));let{pathname:f="/",search:p="",hash:m="",state:g=null,key:v="default"}=i,y=t.useMemo((()=>{let e=D(f,u);return null==e?null:{location:{pathname:e,search:p,hash:m,state:g,key:v},navigationType:o}}),[u,f,p,m,g,v,o]);return s(null!=y,`<Router basename="${u}"> is not able to match the URL "${f}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),null==y?null:t.createElement(q.Provider,{value:h},t.createElement(G.Provider,{children:r,value:y}))}t.Component;var ge="get",ve="application/x-www-form-urlencoded";function ye(e){return null!=e&&"string"===typeof e.tagName}var be=null;var we=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ee(e){return null==e||we.has(e)?e:(s(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ve}"`),null)}function Se(e,t){let n,r,i,o,a;if(ye(s=e)&&"form"===s.tagName.toLowerCase()){let a=e.getAttribute("action");r=a?D(a,t):null,n=e.getAttribute("method")||ge,i=Ee(e.getAttribute("enctype"))||ve,o=new FormData(e)}else if(function(e){return ye(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return ye(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let a=e.form;if(null==a)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let s=e.getAttribute("formaction")||a.getAttribute("action");if(r=s?D(s,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||ge,i=Ee(e.getAttribute("formenctype"))||Ee(a.getAttribute("enctype"))||ve,o=new FormData(a,e),!function(){if(null===be)try{new FormData(document.createElement("form"),0),be=!1}catch(e){be=!0}return be}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?`${t}.`:"";o.append(`${e}x`,"0"),o.append(`${e}y`,"0")}else t&&o.append(t,r)}}else{if(ye(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ge,r=null,i=ve,a=e}var s;return o&&"text/plain"===i&&(a=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:a}}function _e(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function xe(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function ke(e){return null!=e&&"string"===typeof e.page}function Te(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Ie(e,t,n,r,i,o){let a=(e,t)=>!n[t]||e.route.id!==n[t].route.id,s=(e,t)=>n[t].pathname!==e.pathname||n[t].route.path?.endsWith("*")&&n[t].params["*"]!==e.params["*"];return"assets"===o?t.filter(((e,t)=>a(e,t)||s(e,t))):"data"===o?t.filter(((t,o)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(a(t,o)||s(t,o))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0})):[]}function Ce(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map((e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i})).flat(1),[...new Set(r)];var r}function De(e,t){let n=new Set,r=new Set(t);return e.reduce(((e,i)=>{if(t&&!ke(i)&&"script"===i.as&&i.href&&r.has(i.href))return e;let o=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(i));return n.has(o)||(n.add(o),e.push({key:o,link:i})),e}),[])}function Ne(e){return{__html:e}}Symbol("SingleFetchRedirect");var Oe=new Set([100,101,204,205]);function Ae(e,t){let n="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname="_root.data":t&&"/"===D(n.pathname,t)?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}t.Component;function Re(e){let{error:n,isOutsideRemixApp:r}=e;console.error(n);let i,o=t.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://remix.run/guides/errors for more information."\n        );\n      '}});if(j(n))return t.createElement(Pe,{title:"Unhandled Thrown Response!"},t.createElement("h1",{style:{fontSize:"24px"}},n.status," ",n.statusText),o);if(n instanceof Error)0;else{let e=null==n?"Unknown Error":"object"===typeof n&&"toString"in n?n.toString():JSON.stringify(n);new Error(e)}return t.createElement(Pe,{title:"Application Error!",isOutsideRemixApp:r},t.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),t.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},i.stack),o)}function Pe(e){let{title:n,renderScripts:r,isOutsideRemixApp:i,children:o}=e,{routeModules:a}=Ue();return a.root?.Layout&&!i?o:t.createElement("html",{lang:"en"},t.createElement("head",null,t.createElement("meta",{charSet:"utf-8"}),t.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),t.createElement("title",null,n)),t.createElement("body",null,t.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},o,r?t.createElement(qe,null):null)))}function Me(e){return!0===e}function Le(){let e=t.useContext(V);return _e(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Fe(){let e=t.useContext(z);return _e(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var je=t.createContext(void 0);function Ue(){let e=t.useContext(je);return _e(e,"You must render this element inside a <HydratedRouter> element"),e}function Be(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Ve(e,t,n){if(n&&!We)return[e[0]];if(t){let n=e.findIndex((e=>void 0!==t[e.route.id]));return e.slice(0,n+1)}return e}function ze(e){let{page:n,...r}=e,{router:i}=Le(),o=t.useMemo((()=>f(i.routes,n,i.basename)),[i.routes,n,i.basename]);return o?t.createElement(He,{page:n,matches:o,...r}):null}function $e(e){let{manifest:n,routeModules:r}=Ue(),[i,o]=t.useState([]);return t.useEffect((()=>{let t=!1;return async function(e,t,n){let r=await Promise.all(e.map((async e=>{let r=t.routes[e.route.id];if(r){let e=await xe(r,n);return e.links?e.links():[]}return[]})));return De(r.flat(1).filter(Te).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"})))}(e,n,r).then((e=>{t||o(e)})),()=>{t=!0}}),[e,n,r]),i}function He(e){let{page:n,matches:r,...i}=e,o=X(),{manifest:a,routeModules:s}=Ue(),{basename:l}=Le(),{loaderData:c,matches:u}=Fe(),d=t.useMemo((()=>Ie(n,r,u,a,o,"data")),[n,r,u,a,o]),h=t.useMemo((()=>Ie(n,r,u,a,o,"assets")),[n,r,u,a,o]),f=t.useMemo((()=>{if(n===o.pathname+o.search+o.hash)return[];let e=new Set,t=!1;if(r.forEach((n=>{let r=a.routes[n.route.id];r&&r.hasLoader&&(!d.some((e=>e.route.id===n.route.id))&&n.route.id in c&&s[n.route.id]?.shouldRevalidate||r.hasClientLoader?t=!0:e.add(n.route.id))})),0===e.size)return[];let i=Ae(n,l);return t&&e.size>0&&i.searchParams.set("_routes",r.filter((t=>e.has(t.route.id))).map((e=>e.route.id)).join(",")),[i.pathname+i.search]}),[l,c,o,a,d,r,n,s]),p=t.useMemo((()=>Ce(h,a)),[h,a]),m=$e(h);return t.createElement(t.Fragment,null,f.map((e=>t.createElement("link",{key:e,rel:"prefetch",as:"fetch",href:e,...i}))),p.map((e=>t.createElement("link",{key:e,rel:"modulepreload",href:e,...i}))),m.map((e=>{let{key:n,link:r}=e;return t.createElement("link",{key:n,...r})})))}je.displayName="FrameworkContext";var We=!1;function qe(e){let{manifest:n,serverHandoffString:r,isSpaMode:i,ssr:o,renderMeta:a}=Ue(),{router:s,static:l,staticContext:c}=Le(),{matches:u}=Fe(),d=Me(o);a&&(a.didRenderScripts=!0);let h=Ve(u,null,i);t.useEffect((()=>{0}),[]);let p=t.useMemo((()=>{let i=c?`window.__reactRouterContext = ${r};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());`:" ",o=l?`${n.hmr?.runtime?`import ${JSON.stringify(n.hmr.runtime)};`:""}${d?"":`import ${JSON.stringify(n.url)}`};\n${h.map(((e,t)=>{let r=`route${t}`,i=n.routes[e.route.id];_e(i,`Route ${e.route.id} not found in manifest`);let{clientActionModule:o,clientLoaderModule:a,clientMiddlewareModule:s,hydrateFallbackModule:l,module:c}=i,u=[...o?[{module:o,varName:`${r}_clientAction`}]:[],...a?[{module:a,varName:`${r}_clientLoader`}]:[],...s?[{module:s,varName:`${r}_clientMiddleware`}]:[],...l?[{module:l,varName:`${r}_HydrateFallback`}]:[],{module:c,varName:`${r}_main`}];if(1===u.length)return`import * as ${r} from ${JSON.stringify(c)};`;let d=u.map((e=>`import * as ${e.varName} from "${e.module}";`)).join("\n"),h=`const ${r} = {${u.map((e=>`...${e.varName}`)).join(",")}};`;return[d,h].join("\n")})).join("\n")}\n  ${d?`window.__reactRouterManifest = ${JSON.stringify(function(e,t){let{sri:n,...r}=e,i=new Set(t.state.matches.map((e=>e.route.id))),o=t.state.location.pathname.split("/").filter(Boolean),a=["/"];for(o.pop();o.length>0;)a.push(`/${o.join("/")}`),o.pop();a.forEach((e=>{let n=f(t.routes,e,t.basename);n&&n.forEach((e=>i.add(e.route.id)))}));let s=[...i].reduce(((e,t)=>Object.assign(e,{[t]:r.routes[t]})),{});return{...r,routes:s,sri:!!n||void 0}}(n,s),null,2)};`:""}\n  window.__reactRouterRouteModules = {${h.map(((e,t)=>`${JSON.stringify(e.route.id)}:route${t}`)).join(",")}};\n\nimport(${JSON.stringify(n.entry.module)});`:" ";return t.createElement(t.Fragment,null,t.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Ne(i),type:void 0}),t.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Ne(o),type:"module",async:!0}))}),[]),m=We?[]:(n.entry.imports.concat(Ce(h,n,{includeHydrateFallback:!0})),[...new Set(g)]);var g;let v="object"===typeof n.sri?n.sri:{};return We?null:t.createElement(t.Fragment,null,"object"===typeof n.sri?t.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:v})}}):null,d?null:t.createElement("link",{rel:"modulepreload",href:n.url,crossOrigin:e.crossOrigin,integrity:v[n.url],suppressHydrationWarning:!0}),t.createElement("link",{rel:"modulepreload",href:n.entry.module,crossOrigin:e.crossOrigin,integrity:v[n.entry.module],suppressHydrationWarning:!0}),m.map((n=>t.createElement("link",{key:n,rel:"modulepreload",href:n,crossOrigin:e.crossOrigin,integrity:v[n],suppressHydrationWarning:!0}))),p)}function Ge(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}}var Ke="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{Ke&&(window.__reactRouterVersion="7.5.3")}catch(bO){}function Ye(e){let{basename:n,children:r,window:i}=e,a=t.useRef();null==a.current&&(a.current=o({window:i,v5Compat:!0}));let s=a.current,[l,c]=t.useState({action:s.action,location:s.location}),u=t.useCallback((e=>{t.startTransition((()=>c(e)))}),[c]);return t.useLayoutEffect((()=>s.listen(u)),[s,u]),t.createElement(me,{basename:n,children:r,location:l.location,navigationType:l.action,navigator:s})}var Qe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xe=t.forwardRef((function(e,n){let r,{onClick:i,discover:o="render",prefetch:l="none",relative:c,reloadDocument:d,replace:h,state:f,target:p,to:m,preventScrollReset:g,viewTransition:v,...y}=e,{basename:b}=t.useContext(q),w="string"===typeof m&&Qe.test(m),E=!1;if("string"===typeof m&&w&&(r=m,Ke))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),n=D(t.pathname,b);t.origin===e.origin&&null!=n?m=n+t.search+t.hash:E=!0}catch(bO){s(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a(Q(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:i}=t.useContext(q),{hash:o,pathname:s,search:l}=te(e,{relative:n}),c=s;return"/"!==r&&(c="/"===s?r:P([r,s])),i.createHref({pathname:c,search:l,hash:o})}(m,{relative:c}),[_,x,k]=function(e,n){let r=t.useContext(je),[i,o]=t.useState(!1),[a,s]=t.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=n,f=t.useRef(null);t.useEffect((()=>{if("render"===e&&s(!0),"viewport"===e){let e=new IntersectionObserver((e=>{e.forEach((e=>{s(e.isIntersecting)}))}),{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}}),[e]),t.useEffect((()=>{if(i){let e=setTimeout((()=>{s(!0)}),100);return()=>{clearTimeout(e)}}}),[i]);let p=()=>{o(!0)},m=()=>{o(!1),s(!1)};return r?"intent"!==e?[a,f,{}]:[a,f,{onFocus:Be(l,p),onBlur:Be(c,m),onMouseEnter:Be(u,p),onMouseLeave:Be(d,m),onTouchStart:Be(h,p)}]:[!1,f,{}]}(l,y),T=function(e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:a,viewTransition:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=ee(),c=X(),d=te(e,{relative:a});return t.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:u(c)===u(d);l(e,{replace:n,state:i,preventScrollReset:o,relative:a,viewTransition:s})}}),[c,l,d,r,i,n,e,o,a,s])}(m,{replace:h,state:f,target:p,preventScrollReset:g,relative:c,viewTransition:v});let I=t.createElement("a",{...y,...k,href:r||S,onClick:E||d?i:function(e){i&&i(e),e.defaultPrevented||T(e)},ref:Ge(n,x),target:p,"data-discover":w||"render"!==o?void 0:"true"});return _&&!w?t.createElement(t.Fragment,null,I,t.createElement(ze,{page:S})):I}));Xe.displayName="Link";var Je=t.forwardRef((function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:o="",end:s=!1,style:l,to:c,viewTransition:u,children:d,...h}=e,f=te(c,{relative:h.relative}),p=X(),m=t.useContext(z),{navigator:g,basename:v}=t.useContext(q),y=null!=m&&function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.useContext($);a(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=tt("useViewTransitionState"),o=te(e,{relative:n.relative});if(!r.isTransitioning)return!1;let s=D(r.currentLocation.pathname,i)||r.currentLocation.pathname,l=D(r.nextLocation.pathname,i)||r.nextLocation.pathname;return null!=T(o.pathname,l)||null!=T(o.pathname,s)}(f)&&!0===u,b=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,w=p.pathname,E=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;i||(w=w.toLowerCase(),E=E?E.toLowerCase():null,b=b.toLowerCase()),E&&v&&(E=D(E,v)||E);const S="/"!==b&&b.endsWith("/")?b.length-1:b.length;let _,x=w===b||!s&&w.startsWith(b)&&"/"===w.charAt(S),k=null!=E&&(E===b||!s&&E.startsWith(b)&&"/"===E.charAt(b.length)),I={isActive:x,isPending:k,isTransitioning:y},C=x?r:void 0;_="function"===typeof o?o(I):[o,x?"active":null,k?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let N="function"===typeof l?l(I):l;return t.createElement(Xe,{...h,"aria-current":C,className:_,ref:n,style:N,to:c,viewTransition:u},"function"===typeof d?d(I):d)}));Je.displayName="NavLink";var Ze=t.forwardRef(((e,n)=>{let{discover:r="render",fetcherKey:i,navigate:o,reloadDocument:s,replace:l,state:c,method:d=ge,action:h,onSubmit:f,relative:p,preventScrollReset:m,viewTransition:g,...v}=e,y=it(),b=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:r}=t.useContext(q),i=t.useContext(K);a(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),s={...te(e||".",{relative:n})},l=X();if(null==e){s.search=l.search;let e=new URLSearchParams(s.search),t=e.getAll("index"),n=t.some((e=>""===e));if(n){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let n=e.toString();s.search=n?`?${n}`:""}}e&&"."!==e||!o.route.index||(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index");"/"!==r&&(s.pathname="/"===s.pathname?r:P([r,s.pathname]));return u(s)}(h,{relative:p}),w="get"===d.toLowerCase()?"get":"post",E="string"===typeof h&&Qe.test(h);return t.createElement("form",{ref:n,method:w,action:b,onSubmit:s?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=t?.getAttribute("formmethod")||d;y(t||e.currentTarget,{fetcherKey:i,method:n,navigate:o,replace:l,state:c,relative:p,preventScrollReset:m,viewTransition:g})},...v,"data-discover":E||"render"!==r?void 0:"true"})}));function et(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tt(e){let n=t.useContext(V);return a(n,et(e)),n}Ze.displayName="Form";var nt=0,rt=()=>`__${String(++nt)}__`;function it(){let{router:e}=tt("useSubmit"),{basename:n}=t.useContext(q),r=de("useRouteId");return t.useCallback((async function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:o,method:a,encType:s,formData:l,body:c}=Se(t,n);if(!1===i.navigate){let t=i.fetcherKey||rt();await e.fetch(t,r,i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||s,flushSync:i.flushSync})}else await e.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||s,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})}),[e,n,r])}new TextEncoder;const ot=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},at={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,a=o?e[i+1]:0,s=i+2<e.length,l=s?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;s||(h=64,o||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ot(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const s=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==a||null==s)throw new st;const l=t<<2|o>>4;if(r.push(l),64!==a){const e=o<<4&240|a>>2;if(r.push(e),64!==s){const e=a<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class st extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lt=function(e){return function(e){const t=ot(e);return at.encodeByteArray(t,!0)}(e).replace(/\./g,"")},ct=function(e){try{return at.decodeString(e,!0)}catch(bO){console.error("base64Decode failed: ",bO)}return null};const ut=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,dt=()=>{try{return ut()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/CPSC449-Project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(bO){return}const t=e&&ct(e[1]);return t&&JSON.parse(t)})()}catch(bO){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${bO}`)}},ht=e=>{var t,n;return null===(n=null===(t=dt())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},ft=()=>{var e;return null===(e=dt())||void 0===e?void 0:e.config},pt=e=>{var t;return null===(t=dt())||void 0===t?void 0:t[`_${e}`]};class mt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function gt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function vt(){return!function(){var e;const t=null===(e=dt())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(bO){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yt(){try{return"object"===typeof indexedDB}catch(bO){return!1}}class bt extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,bt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wt.prototype.create)}}class wt{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(Et,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",o=`${this.serviceName}: ${i} (${n}).`;return new bt(n,o,t)}}const Et=/\{\$([^}]+)}/g;function St(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(_t(n)&&_t(o)){if(!St(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function _t(e){return null!==e&&"object"===typeof e}function xt(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function kt(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function Tt(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class It{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Ct),void 0===r.error&&(r.error=Ct),void 0===r.complete&&(r.complete=Ct);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(bO){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(bO){"undefined"!==typeof console&&console.error&&console.error(bO)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Ct(){}function Dt(e){return e&&e._delegate?e._delegate:e}class Nt{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ot="[DEFAULT]";class At{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new mt;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(bO){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(bO){if(r)return null;throw bO}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ot})}catch(bO){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(bO){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===Ot?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(o){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot;return this.component?this.component.multipleInstances?e:Ot:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Rt{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new At(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Pt=[];var Mt;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Mt||(Mt={}));const Lt={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},Ft=Mt.INFO,jt={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},Ut=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=jt[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];console[r](`[${n}]  ${e.name}:`,...o)};class Bt{constructor(e){this.name=e,this._logLevel=Ft,this._logHandler=Ut,this._userLogHandler=null,Pt.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Mt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Lt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...t),this._logHandler(this,Mt.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...t),this._logHandler(this,Mt.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...t),this._logHandler(this,Mt.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...t),this._logHandler(this,Mt.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...t),this._logHandler(this,Mt.ERROR,...t)}}let Vt,zt;const $t=new WeakMap,Ht=new WeakMap,Wt=new WeakMap,qt=new WeakMap,Gt=new WeakMap;let Kt={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Ht.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Wt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xt(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Yt(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(zt||(zt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Jt(this),n),Xt($t.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Xt(e.apply(Jt(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(Jt(this),t,...r);return Wt.set(o,t.sort?t.sort():[t]),Xt(o)}}function Qt(e){return"function"===typeof e?Yt(e):(e instanceof IDBTransaction&&function(e){if(Ht.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));Ht.set(e,t)}(e),t=e,(Vt||(Vt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,Kt):e);var t}function Xt(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(Xt(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&$t.set(t,e)})).catch((()=>{})),Gt.set(t,e),t}(e);if(qt.has(e))return qt.get(e);const t=Qt(e);return t!==e&&(qt.set(e,t),Gt.set(t,e)),t}const Jt=e=>Gt.get(e);const Zt=["get","getKey","getAll","getAllKeys","count"],en=["put","add","delete","clear"],tn=new Map;function nn(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(tn.get(t))return tn.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=en.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Zt.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var a=arguments.length,s=new Array(a>1?a-1:0),l=1;l<a;l++)s[l-1]=arguments[l];return r&&(o=o.index(s.shift())),(await Promise.all([o[n](...s),i&&t.done]))[0]};return tn.set(t,o),o}Kt=(e=>({...e,get:(t,n,r)=>nn(t,n)||e.get(t,n,r),has:(t,n)=>!!nn(t,n)||e.has(t,n)}))(Kt);class rn{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const on="@firebase/app",an="0.11.3",sn=new Bt("@firebase/app"),ln="@firebase/app-compat",cn="@firebase/analytics-compat",un="@firebase/analytics",dn="@firebase/app-check-compat",hn="@firebase/app-check",fn="@firebase/auth",pn="@firebase/auth-compat",mn="@firebase/database",gn="@firebase/data-connect",vn="@firebase/database-compat",yn="@firebase/functions",bn="@firebase/functions-compat",wn="@firebase/installations",En="@firebase/installations-compat",Sn="@firebase/messaging",_n="@firebase/messaging-compat",xn="@firebase/performance",kn="@firebase/performance-compat",Tn="@firebase/remote-config",In="@firebase/remote-config-compat",Cn="@firebase/storage",Dn="@firebase/storage-compat",Nn="@firebase/firestore",On="@firebase/vertexai",An="@firebase/firestore-compat",Rn="firebase",Pn="[DEFAULT]",Mn={[on]:"fire-core",[ln]:"fire-core-compat",[un]:"fire-analytics",[cn]:"fire-analytics-compat",[hn]:"fire-app-check",[dn]:"fire-app-check-compat",[fn]:"fire-auth",[pn]:"fire-auth-compat",[mn]:"fire-rtdb",[gn]:"fire-data-connect",[vn]:"fire-rtdb-compat",[yn]:"fire-fn",[bn]:"fire-fn-compat",[wn]:"fire-iid",[En]:"fire-iid-compat",[Sn]:"fire-fcm",[_n]:"fire-fcm-compat",[xn]:"fire-perf",[kn]:"fire-perf-compat",[Tn]:"fire-rc",[In]:"fire-rc-compat",[Cn]:"fire-gcs",[Dn]:"fire-gcs-compat",[Nn]:"fire-fst",[An]:"fire-fst-compat",[On]:"fire-vertex","fire-js":"fire-js",[Rn]:"fire-js-all"},Ln=new Map,Fn=new Map,jn=new Map;function Un(e,t){try{e.container.addComponent(t)}catch(bO){sn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,bO)}}function Bn(e){const t=e.name;if(jn.has(t))return sn.debug(`There were multiple attempts to register component ${t}.`),!1;jn.set(t,e);for(const n of Ln.values())Un(n,e);for(const n of Fn.values())Un(n,e);return!0}function Vn(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function zn(e){return null!==e&&void 0!==e&&void 0!==e.settings}const $n=new wt("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Hn{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Nt("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $n.create("app-deleted",{appName:this._name})}}const Wn="11.5.0";function qn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Pn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw $n.create("bad-app-name",{appName:String(i)});if(n||(n=ft()),!n)throw $n.create("no-options");const o=Ln.get(i);if(o){if(St(n,o.options)&&St(r,o.config))return o;throw $n.create("duplicate-app",{appName:i})}const a=new Rt(i);for(const l of jn.values())a.addComponent(l);const s=new Hn(n,r,a);return Ln.set(i,s),s}function Gn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pn;const t=Ln.get(e);if(!t&&e===Pn&&ft())return qn();if(!t)throw $n.create("no-app",{appName:e});return t}function Kn(e,t,n){var r;let i=null!==(r=Mn[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=[`Unable to register library "${i}" with version "${t}":`];return o&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void sn.warn(e.join(" "))}Bn(new Nt(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const Yn="firebase-heartbeat-store";let Qn=null;function Xn(){return Qn||(Qn=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),s=Xt(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(Xt(a.result),e.oldVersion,e.newVersion,Xt(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),s.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),s}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Yn)}catch(bO){console.warn(bO)}}}).catch((e=>{throw $n.create("idb-open",{originalErrorMessage:e.message})}))),Qn}async function Jn(e,t){try{const n=(await Xn()).transaction(Yn,"readwrite"),r=n.objectStore(Yn);await r.put(t,Zn(e)),await n.done}catch(bO){if(bO instanceof bt)sn.warn(bO.message);else{const t=$n.create("idb-set",{originalErrorMessage:null===bO||void 0===bO?void 0:bO.message});sn.warn(t.message)}}}function Zn(e){return`${e.name}!${e.options.appId}`}class er{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new nr(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=tr();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(bO){sn.warn(bO)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=tr(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),rr(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),rr(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=lt(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(bO){return sn.warn(bO),""}}}function tr(){return(new Date).toISOString().substring(0,10)}class nr{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!yt()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Xn()).transaction(Yn),n=await t.objectStore(Yn).get(Zn(e));return await t.done,n}catch(bO){if(bO instanceof bt)sn.warn(bO.message);else{const t=$n.create("idb-get",{originalErrorMessage:null===bO||void 0===bO?void 0:bO.message});sn.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Jn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Jn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function rr(e){return lt(JSON.stringify({version:2,heartbeats:e})).length}var ir;ir="",Bn(new Nt("platform-logger",(e=>new rn(e)),"PRIVATE")),Bn(new Nt("heartbeat",(e=>new er(e)),"PRIVATE")),Kn(on,an,ir),Kn(on,an,"esm2017"),Kn("fire-js","");Kn("firebase","11.5.0","app");function or(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function ar(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sr=ar,lr=new wt("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),cr=new Bt("@firebase/auth");function ur(e){if(cr.logLevel<=Mt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];cr.error(`Auth (${Wn}): ${e}`,...n)}}function dr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw gr(e,...n)}function hr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return gr(e,...n)}function fr(e,t,n){const r=Object.assign(Object.assign({},sr()),{[t]:n});return new wt("auth","Firebase",r).create(t,{appName:e.name})}function pr(e){return fr(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mr(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&dr(e,"argument-error"),fr(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function gr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return lr.create(e,...n)}function vr(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw gr(t,...r)}}function yr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw ur(t),new Error(t)}function br(e,t){e||yr(t)}function wr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Er(){return"http:"===Sr()||"https:"===Sr()}function Sr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function _r(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Er()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class xr{constructor(e,t){this.shortDelay=e,this.longDelay=t,br(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gt())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return _r()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function kr(e,t){br(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Tr{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void yr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void yr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void yr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ir={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Cr=new xr(3e4,6e4);function Dr(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Nr(e,t,n,r){return Or(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const a=xt(Object.assign({key:e.config.apiKey},o)).slice(1),s=await e._getAdditionalHeaders();s["Content-Type"]="application/json",e.languageCode&&(s["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:s},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),Tr.fetch()(Rr(e,e.config.apiHost,n,a),l)}))}async function Or(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Ir),t);try{const t=new Mr(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Lr(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Lr(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw Lr(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw Lr(e,"user-disabled",o);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw fr(e,s,a);dr(e,s)}}catch(bO){if(bO instanceof bt)throw bO;dr(e,"network-request-failed",{message:String(bO)})}}async function Ar(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await Nr(e,t,n,r,i);return"mfaPendingCredential"in o&&dr(e,"multi-factor-auth-required",{_serverResponse:o}),o}function Rr(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?kr(e.config,i):`${e.config.apiScheme}://${i}`}function Pr(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Mr{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(hr(this.auth,"network-request-failed"))),Cr.get())}))}}function Lr(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=hr(e,t,r);return i.customData._tokenResponse=n,i}function Fr(e){return void 0!==e&&void 0!==e.enterprise}class jr{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Pr(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Ur(e,t){return Nr(e,"GET","/v2/recaptchaConfig",Dr(e,t))}async function Br(e,t){return Nr(e,"POST","/v1/accounts:lookup",t)}function Vr(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(bO){}}function zr(e){return 1e3*Number(e)}function $r(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return ur("JWT malformed, contained fewer than 3 sections"),null;try{const e=ct(n);return e?JSON.parse(e):(ur("Failed to decode base64 JWT payload"),null)}catch(bO){return ur("Caught error parsing JWT payload as JSON",null===bO||void 0===bO?void 0:bO.toString()),null}}function Hr(e){const t=$r(e);return vr(t,"internal-error"),vr("undefined"!==typeof t.exp,"internal-error"),vr("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Wr(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(bO){throw bO instanceof bt&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(bO)&&e.auth.currentUser===e&&await e.auth.signOut(),bO}}class qr{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(bO){return void("auth/network-request-failed"===(null===bO||void 0===bO?void 0:bO.code)&&this.schedule(!0))}this.schedule()}}class Gr{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vr(this.lastLoginAt),this.creationTime=Vr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Kr(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Wr(e,Br(n,{idToken:r}));vr(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const a=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?Yr(o.providerUserInfo):[],s=(l=e.providerData,c=a,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),h=!!u&&d,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Gr(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function Yr(e){return e.map((e=>{var{providerId:t}=e,n=or(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class Qr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){vr(e.idToken,"internal-error"),vr("undefined"!==typeof e.idToken,"internal-error"),vr("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Hr(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){vr(0!==e.length,"internal-error");const t=Hr(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(vr(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Or(e,{},(async()=>{const n=xt({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=Rr(e,r,"/v1/token",`key=${i}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Tr.fetch()(o,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new Qr;return n&&(vr("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(vr("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(vr("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qr,this.toJSON())}_performRefresh(){return yr("not implemented")}}function Xr(e,t){vr("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Jr{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=or(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Gr(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Wr(this,this.stsTokenManager.getToken(this.auth,e));return vr(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Dt(e),r=await n.getIdToken(t),i=$r(r);vr(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,a=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Vr(zr(i.auth_time)),issuedAtTime:Vr(zr(i.iat)),expirationTime:Vr(zr(i.exp)),signInProvider:a||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Dt(e);await Kr(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(vr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Jr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){vr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Kr(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zn(this.auth.app))return Promise.reject(pr(this.auth));const e=await this.getIdToken();return await Wr(this,async function(e,t){return Nr(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,a,s,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(s=t._redirectEventId)&&void 0!==s?s:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:E,stsTokenManager:S}=t;vr(y&&S,e,"internal-error");const _=Qr.fromJSON(this.name,S);vr("string"===typeof y,e,"internal-error"),Xr(u,e.name),Xr(d,e.name),vr("boolean"===typeof b,e,"internal-error"),vr("boolean"===typeof w,e,"internal-error"),Xr(h,e.name),Xr(f,e.name),Xr(p,e.name),Xr(m,e.name),Xr(g,e.name),Xr(v,e.name);const x=new Jr({uid:y,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:_,createdAt:g,lastLoginAt:v});return E&&Array.isArray(E)&&(x.providerData=E.map((e=>Object.assign({},e)))),m&&(x._redirectEventId=m),x}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Qr;r.updateFromServerResponse(t);const i=new Jr({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Kr(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];vr(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Yr(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),a=new Qr;a.updateFromIdToken(n);const s=new Jr({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Gr(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(s,l),s}}const Zr=new Map;function ei(e){br(e instanceof Function,"Expected a class definition");let t=Zr.get(e);return t?(br(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Zr.set(e,t),t)}class ti{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ti.type="NONE";const ni=ti;function ri(e,t,n){return`firebase:${e}:${t}:${n}`}class ii{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=ri(this.userKey,r.apiKey,i),this.fullPersistenceKey=ri("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Jr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new ii(ei(ni),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||ei(ni);const o=ri(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(o);if(t){const n=Jr._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const s=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&s.length?(i=s[0],a&&await i._set(o,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(l){}}))),new ii(i,e,n)):new ii(i,e,n)}}function oi(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ci(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ai(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(di(t))return"Blackberry";if(hi(t))return"Webos";if(si(t))return"Safari";if((t.includes("chrome/")||li(t))&&!t.includes("edge/"))return"Chrome";if(ui(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function ai(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt();return/firefox\//i.test(e)}function si(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function li(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt();return/crios\//i.test(e)}function ci(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt();return/iemobile/i.test(e)}function ui(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt();return/android/i.test(e)}function di(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt();return/blackberry/i.test(e)}function hi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt();return/webos/i.test(e)}function fi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function pi(){return function(){const e=gt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function mi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt();return fi(e)||ui(e)||hi(e)||di(e)||/windows phone/i.test(e)||ci(e)}function gi(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=oi(gt());break;case"Worker":t=`${oi(gt())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${Wn}/${r}`}class vi{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(bO){r(bO)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(bO){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===bO||void 0===bO?void 0:bO.message})}}}class yi{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,a;const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=null===(t=s.meetsMinPasswordLength)||void 0===t||t),s.isValid&&(s.isValid=null===(n=s.meetsMaxPasswordLength)||void 0===n||n),s.isValid&&(s.isValid=null===(r=s.containsLowercaseLetter)||void 0===r||r),s.isValid&&(s.isValid=null===(i=s.containsUppercaseLetter)||void 0===i||i),s.isValid&&(s.isValid=null===(o=s.containsNumericCharacter)||void 0===o||o),s.isValid&&(s.isValid=null===(a=s.containsNonAlphanumericCharacter)||void 0===a||a),s}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class bi{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ei(this),this.idTokenSubscription=new Ei(this),this.beforeStateQueue=new vi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lr,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ei(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await ii.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(bO){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Br(this,{idToken:e}),n=await Jr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(zn(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==o||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(bO){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(bO)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return vr(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(bO){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Kr(e)}catch(bO){if("auth/network-request-failed"!==(null===bO||void 0===bO?void 0:bO.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zn(this.app))return Promise.reject(pr(this));const t=e?Dt(e):null;return t&&vr(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&vr(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return zn(this.app)?Promise.reject(pr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zn(this.app)?Promise.reject(pr(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(ei(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Nr(e,"GET","/v2/passwordPolicy",Dr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new yi(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new wt("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Nr(e,"POST","/v2/accounts:revokeToken",Dr(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ei(e)||this._popupRedirectResolver;vr(t,this,"argument-error"),this.redirectPersistenceManager=await ii.create(this,[ei(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(vr(a,this,"internal-error"),a.then((()=>{o||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return vr(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(cr.logLevel<=Mt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];cr.warn(`Auth (${Wn}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function wi(e){return Dt(e)}class Ei{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new It(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return vr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Si={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _i(e){return Si.loadJS(e)}function xi(e){return`__${e}${Math.floor(1e6*Math.random())}`}class ki{constructor(){this.enterprise=new Ti}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Ti{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Ii="NO_RECAPTCHA";class Ci{constructor(e){this.type="recaptcha-enterprise",this.auth=wi(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Fr(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n(Ii)}))})):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new ki).execute("siteKey",{action:"verify"})}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Ur(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new jr(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Fr(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Si.recaptchaEnterpriseScript;0!==t.length&&(t+=i),_i(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Di(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=new Ci(e);let a;if(i)a=Ii;else try{a=await o.verify(n)}catch(l){a=await o.verify(n,!0)}const s=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in s){const e=s.phoneEnrollmentInfo.phoneNumber,t=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){const e=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return r?Object.assign(s,{captchaResp:a}):Object.assign(s,{captchaResponse:a}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Ni(e,t,n,r,i){var o,a;if("EMAIL_PASSWORD_PROVIDER"===i){if(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Di(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await Di(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}if("PHONE_PROVIDER"===i){if(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.isProviderEnabled("PHONE_PROVIDER")){const i=await Di(e,t,n);return r(e,i).catch((async i=>{var o;if("AUDIT"===(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===i.code||"auth/invalid-app-credential"===i.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const i=await Di(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)}))}{const i=await Di(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function Oi(e){const t=wi(e),n=await Ur(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new jr(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new Ci(t).verify()}}function Ai(e,t,n){const r=wi(e);vr(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=Ri(t),{host:a,port:s}=function(e){const t=Ri(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Pi(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Pi(t)}}}(t),l={url:`${o}//${a}${null===s?"":`:${s}`}/`},c=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return vr(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void vr(St(l,r.config.emulator)&&St(c,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=l,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Ri(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Pi(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Mi{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return yr("not implemented")}_getIdTokenResponse(e){return yr("not implemented")}_linkToIdToken(e,t){return yr("not implemented")}_getReauthenticationResolver(e){return yr("not implemented")}}async function Li(e,t){return Nr(e,"POST","/v1/accounts:signUp",t)}async function Fi(e,t){return Ar(e,"POST","/v1/accounts:signInWithPassword",Dr(e,t))}class ji extends Mi{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new ji(e,t,"password")}static _fromEmailAndCode(e,t){return new ji(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Ni(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Fi,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Ar(e,"POST","/v1/accounts:signInWithEmailLink",Dr(e,t))}(e,{email:this._email,oobCode:this._password});default:dr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Ni(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Li,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Ar(e,"POST","/v1/accounts:signInWithEmailLink",Dr(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:dr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Ui(e,t){return Ar(e,"POST","/v1/accounts:signInWithIdp",Dr(e,t))}class Bi extends Mi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Bi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):dr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=or(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new Bi(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return Ui(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ui(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ui(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=xt(t)}return e}}async function Vi(e,t){return Nr(e,"POST","/v1/accounts:sendVerificationCode",Dr(e,t))}const zi={USER_NOT_FOUND:"user-not-found"};class $i extends Mi{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new $i({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new $i({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Ar(e,"POST","/v1/accounts:signInWithPhoneNumber",Dr(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Ar(e,"POST","/v1/accounts:signInWithPhoneNumber",Dr(e,t));if(n.temporaryProof)throw Lr(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Ar(e,"POST","/v1/accounts:signInWithPhoneNumber",Dr(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),zi)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new $i({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Hi{constructor(e){var t,n,r,i,o,a;const s=kt(Tt(e)),l=null!==(t=s.apiKey)&&void 0!==t?t:null,c=null!==(n=s.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=s.mode)&&void 0!==r?r:null);vr(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=s.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=s.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=kt(Tt(e)).link,n=t?kt(Tt(t)).deep_link_id:null,r=kt(Tt(e)).deep_link_id;return(r?kt(Tt(r)).link:null)||r||n||t||e}(e);try{return new Hi(t)}catch(n){return null}}}class Wi{constructor(){this.providerId=Wi.PROVIDER_ID}static credential(e,t){return ji._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Hi.parseLink(t);return vr(n,"argument-error"),ji._fromEmailAndCode(e,n.code,n.tenantId)}}Wi.PROVIDER_ID="password",Wi.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Wi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class qi{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Gi extends qi{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ki extends Gi{constructor(){super("facebook.com")}static credential(e){return Bi._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Ki.credential(t.oauthAccessToken)}catch(n){return null}}}Ki.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ki.PROVIDER_ID="facebook.com";class Yi extends Gi{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Bi._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Yi.credential(n,r)}catch(i){return null}}}Yi.GOOGLE_SIGN_IN_METHOD="google.com",Yi.PROVIDER_ID="google.com";class Qi extends Gi{constructor(){super("github.com")}static credential(e){return Bi._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Qi.credential(t.oauthAccessToken)}catch(n){return null}}}Qi.GITHUB_SIGN_IN_METHOD="github.com",Qi.PROVIDER_ID="github.com";class Xi extends Gi{constructor(){super("twitter.com")}static credential(e,t){return Bi._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Xi.credential(n,r)}catch(i){return null}}}Xi.TWITTER_SIGN_IN_METHOD="twitter.com",Xi.PROVIDER_ID="twitter.com";class Ji{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Jr._fromIdTokenResponse(e,n,r),o=Zi(n);return new Ji({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Zi(n);return new Ji({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Zi(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class eo extends bt{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,eo.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new eo(e,t,n,r)}}function to(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw eo._fromErrorAndOperation(e,n,t,r);throw n}))}async function no(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Wr(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ji._forOperation(e,"link",r)}async function ro(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(zn(r.app))return Promise.reject(pr(r));const i="reauthenticate";try{const o=await Wr(e,to(r,i,t,e),n);vr(o.idToken,r,"internal-error");const a=$r(o.idToken);vr(a,r,"internal-error");const{sub:s}=a;return vr(e.uid===s,r,"user-mismatch"),Ji._forOperation(e,i,o)}catch(bO){throw"auth/user-not-found"===(null===bO||void 0===bO?void 0:bO.code)&&dr(r,"user-mismatch"),bO}}async function io(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(zn(e.app))return Promise.reject(pr(e));const r="signIn",i=await to(e,r,t),o=await Ji._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}function oo(e,t){return Nr(e,"POST","/v2/accounts/mfaEnrollment:start",Dr(e,t))}new WeakMap;const ao="__sak";class so{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ao,"1"),this.storage.removeItem(ao),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class lo extends so{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mi(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);pi()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}lo.type="LOCAL";const co=lo;class uo extends so{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}uo.type="SESSION";const ho=uo;class fo{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new fo(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(o).map((async e=>e(t.origin,i))),s=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function po(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}fo.receivers=[];class mo{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((a,s)=>{const l=po("",20);r.port1.start();const c=setTimeout((()=>{s(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),s(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function go(){return window}function vo(){return"undefined"!==typeof go().WorkerGlobalScope&&"function"===typeof go().importScripts}const yo="firebaseLocalStorageDb",bo="firebaseLocalStorage",wo="fbase_key";class Eo{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function So(e,t){return e.transaction([bo],t?"readwrite":"readonly").objectStore(bo)}function _o(){const e=indexedDB.open(yo,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(bo,{keyPath:wo})}catch(bO){n(bO)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(bo)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(yo);return new Eo(e).toPromise()}(),t(await _o()))}))}))}async function xo(e,t,n){const r=So(e,!0).put({[wo]:t,value:n});return new Eo(r).toPromise()}function ko(e,t){const n=So(e,!0).delete(t);return new Eo(n).toPromise()}class To{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await _o()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(bO){if(t++>3)throw bO;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vo()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fo._getInstance(vo()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new mo(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _o();return await xo(e,ao,"1"),await ko(e,ao),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>xo(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=So(e,!1).get(t),r=await new Eo(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>ko(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=So(e,!1).getAll();return new Eo(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}To.type="LOCAL";const Io=To;function Co(e,t){return Nr(e,"POST","/v2/accounts/mfaSignIn:start",Dr(e,t))}xi("rcb"),new xr(3e4,6e4);const Do="recaptcha";async function No(e,t,n){var r;if(!e._getRecaptchaConfig())try{await Oi(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){vr("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},o=async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Ii){vr((null===n||void 0===n?void 0:n.type)===Do,e,"argument-error");return oo(e,await Oo(e,t,n))}return oo(e,t)},a=Ni(e,r,"mfaSmsEnrollment",o,"PHONE_PROVIDER"),s=await a.catch((e=>Promise.reject(e)));return s.phoneSessionInfo.sessionInfo}{vr("signin"===t.type,e,"internal-error");const o=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;vr(o,e,"missing-multi-factor-info");const a={mfaPendingCredential:t.credential,mfaEnrollmentId:o,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},s=async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Ii){vr((null===n||void 0===n?void 0:n.type)===Do,e,"argument-error");return Co(e,await Oo(e,t,n))}return Co(e,t)},l=Ni(e,a,"mfaSmsSignIn",s,"PHONE_PROVIDER"),c=await l.catch((e=>Promise.reject(e)));return c.phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=async(e,t)=>{if(t.captchaResponse===Ii){vr((null===n||void 0===n?void 0:n.type)===Do,e,"argument-error");return Vi(e,await Oo(e,t,n))}return Vi(e,t)},o=Ni(e,t,"sendVerificationCode",r,"PHONE_PROVIDER"),a=await o.catch((e=>Promise.reject(e)));return a.sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function Oo(e,t,n){vr(n.type===Do,e,"argument-error");const r=await n.verify();vr("string"===typeof r,e,"argument-error");const i=Object.assign({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,o=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:o}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class Ao{constructor(e){this.providerId=Ao.PROVIDER_ID,this.auth=wi(e)}verifyPhoneNumber(e,t){return No(this.auth,e,Dt(t))}static credential(e,t){return $i._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Ao.credentialFromTaggedObject(t)}static credentialFromError(e){return Ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?$i._fromTokenResponse(n,r):null}}function Ro(e,t){return t?ei(t):(vr(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Ao.PROVIDER_ID="phone",Ao.PHONE_SIGN_IN_METHOD="phone";class Po extends Mi{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ui(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ui(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ui(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Mo(e){return io(e.auth,new Po(e),e.bypassAuthState)}function Lo(e){const{auth:t,user:n}=e;return vr(n,t,"internal-error"),ro(n,new Po(e),e.bypassAuthState)}async function Fo(e){const{auth:t,user:n}=e;return vr(n,t,"internal-error"),no(n,new Po(e),e.bypassAuthState)}class jo{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(bO){this.reject(bO)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:a}=e;if(o)return void this.reject(o);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(s))}catch(bO){this.reject(bO)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Mo;case"linkViaPopup":case"linkViaRedirect":return Fo;case"reauthViaPopup":case"reauthViaRedirect":return Lo;default:dr(this.auth,"internal-error")}}resolve(e){br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Uo=new xr(2e3,1e4);class Bo extends jo{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Bo.currentPopupAction&&Bo.currentPopupAction.cancel(),Bo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return vr(e,this.auth,"internal-error"),e}async onExecution(){br(1===this.filter.length,"Popup operations only handle one event");const e=po();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(hr(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(hr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Bo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(hr(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Uo.get())};e()}}Bo.currentPopupAction=null;const Vo=new Map;class zo extends jo{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Vo.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Wo(t),r=Ho(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(bO){e=()=>Promise.reject(bO)}Vo.set(this.auth._key(),e)}return this.bypassAuthState||Vo.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function $o(e,t){Vo.set(e._key(),t)}function Ho(e){return ei(e._redirectPersistence)}function Wo(e){return ri("pendingRedirect",e.config.apiKey,e.name)}async function qo(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(zn(e.app))return Promise.reject(pr(e));const r=wi(e),i=Ro(r,t),o=new zo(r,i,n),a=await o.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class Go{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Yo(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Yo(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(hr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ko(e))}saveEventToCache(e){this.cachedEventUids.add(Ko(e)),this.lastProcessedEventTime=Date.now()}}function Ko(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Yo(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}const Qo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Xo=/^https?/;async function Jo(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Nr(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Zo(r))return}catch(n){}dr(e,"unauthorized-domain")}function Zo(e){const t=wr(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Xo.test(n))return!1;if(Qo.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const ea=new xr(3e4,6e4);function ta(){const e=go().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function na(e){return new Promise(((t,n)=>{var r,i,o;function a(){ta(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ta(),n(hr(e,"network-request-failed"))},timeout:ea.get()})}if(null===(i=null===(r=go().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=go().gapi)||void 0===o?void 0:o.load)){const t=xi("iframefcb");return go()[t]=()=>{gapi.load?a():n(hr(e,"network-request-failed"))},_i(`${Si.gapiScript}?onload=${t}`).catch((e=>n(e)))}a()}})).catch((e=>{throw ra=null,e}))}let ra=null;const ia=new xr(5e3,15e3),oa={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aa=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sa(e){const t=e.config;vr(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?kr(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:Wn},i=aa.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${xt(r).slice(1)}`}async function la(e){const t=await function(e){return ra=ra||na(e),ra}(e),n=go().gapi;return vr(n,e,"internal-error"),t.open({where:document.body,url:sa(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oa,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=hr(e,"network-request-failed"),o=go().setTimeout((()=>{r(i)}),ia.get());function a(){go().clearTimeout(o),n(t)}t.ping(a).then(a,(()=>{r(i)}))}))))}const ca={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ua{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(bO){}}}function da(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},ca),{width:r.toString(),height:i.toString(),top:o,left:a}),c=gt().toLowerCase();n&&(s=li(c)?"_blank":n),ai(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`}),"");if(function(){var e;return fi(arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==s)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new ua(null);const d=window.open(t||"",s,u);vr(d,e,"popup-blocked");try{d.focus()}catch(bO){}return new ua(d)}const ha="__/auth/handler",fa="emulator/auth/handler",pa=encodeURIComponent("fac");async function ma(e,t,n,r,i,o){vr(e.config.authDomain,e,"auth-domain-config-required"),vr(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Wn,eventId:i};if(t instanceof qi){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))a[e]=t}if(t instanceof Gi){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const s=a;for(const u of Object.keys(s))void 0===s[u]&&delete s[u];const l=await e._getAppCheckToken(),c=l?`#${pa}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${ha}`;return kr(t,fa)}(e)}?${xt(s).slice(1)}${c}`}const ga="webStorageSupport";const va=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ho,this._completeRedirectFn=qo,this._overrideRedirectResult=$o}async _openPopup(e,t,n,r){var i;br(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return da(e,await ma(e,t,n,wr(),r),po())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){go().location.href=e}(await ma(e,t,n,wr(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(br(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await la(e),n=new Go(e);return t.register("authEvent",(t=>{vr(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ga,{type:ga},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[ga];void 0!==i&&t(!!i),dr(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Jo(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return mi()||si()||fi()}};var ya="@firebase/auth",ba="1.9.1";class wa{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){vr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Ea=pt("authIdTokenMaxAge")||300;let Sa=null;var _a,xa;_a={loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=hr("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Si=_a,xa="Browser",Bn(new Nt("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;vr(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:s,clientPlatform:xa,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gi(xa)},c=new bi(r,i,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ei);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Bn(new Nt("auth-internal",(e=>(e=>new wa(e))(wi(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Kn(ya,ba,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(xa)),Kn(ya,ba,"esm2017");var ka,Ta,Ia="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Ca={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],a=t+(o^n&(i^o))+r[0]+3614090360&4294967295;a=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(a<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((o=(t=n+((a=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=o+((a=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,o=this.h,a=0;a<t;){if(0==o)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(i[o++]=e.charCodeAt(a++),o==this.blockSize){n(this,i),o=0;break}}else for(;a<t;)if(i[o++]=e[a++],o==this.blockSize){n(this,i),o=0;break}}this.h=o,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function o(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return s;if(0>e)return h(a(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var s=o(0),l=o(1),c=o(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(s,s);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=v(n),r=v(r);var i=y(n,1),o=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=o.add(r);0>=c.l(e)&&(i=i.add(n),o=c),r=y(r,1),n=y(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=s;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(o=a(n)).j(t);d(c)||0<c.l(e);)c=(o=a(n-=r)).j(t);u(o)&&(o=l),i=i.add(o),e=f(e,c)}return new m(i,e)}function v(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,o=[],a=0;a<i;a++)o[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(o,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,o=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,o=0;o<=t;o++){var a=i+(65535&this.i(o))+(65535&e.i(o)),s=(a>>>16)+(this.i(o)>>>16)+(e.i(o)>>>16);i=s>>>16,a&=65535,s&=65535,n[o]=s<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return s;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var o=0;o<e.g.length;o++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(o)>>>16,g=65535&e.i(o);n[2*i+2*o]+=f*g,p(n,2*i+2*o),n[2*i+2*o+1]+=l*g,p(n,2*i+2*o+1),n[2*i+2*o+1]+=f*m,p(n,2*i+2*o+1),n[2*i+2*o+2]+=l*m,p(n,2*i+2*o+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Ta=Ca.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),i=s,o=0;o<t.length;o+=8){var l=Math.min(8,t.length-o),c=parseInt(t.substring(o,o+l),n);8>l?(l=a(Math.pow(n,l)),i=i.j(l).add(a(c))):i=(i=i.j(r)).add(a(c))}return i},ka=Ca.Integer=r}).apply("undefined"!==typeof Ia?Ia:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Da,Na,Oa,Aa,Ra,Pa,Ma,La,Fa="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},ja={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Fa&&Fa];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];if(!(a in i))break e;i=i[a]}(r=r(o=i[e=e[e.length-1]]))!=o&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function o(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function s(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?s:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(o(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var v=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function y(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function S(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function _(e){i.setTimeout((()=>{throw e}),0)}function x(){var e=D;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var k=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new T),(e=>e.reset()));class T{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let I,C=!1,D=new class{constructor(){this.h=this.g=null}add(e,t){const n=k.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},N=()=>{const e=i.Promise.resolve(void 0);I=()=>{e.then(O)}};var O=()=>{for(var e;e=x();){try{e.h.call(e.g)}catch(n){_(n)}var t=k;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}C=!1};function A(){this.s=this.s,this.C=this.C}function R(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}A.prototype.s=!1,A.prototype.ma=function(){this.s||(this.s=!0,this.N())},A.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},R.prototype.h=function(){this.defaultPrevented=!0};var P=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function M(e,t){if(R.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{g(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:L[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&M.aa.h.call(this)}}d(M,R);var L={2:"touch",3:"pen",4:"mouse"};M.prototype.h=function(){M.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var F="closure_listenable_"+(1e6*Math.random()|0),j=0;function U(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++j,this.da=this.fa=!1}function B(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function V(e){this.src=e,this.g={},this.h=0}function z(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Array.prototype.indexOf.call(i,t,void 0);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(B(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function $(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.da&&o.listener==t&&o.capture==!!n&&o.ha==r)return i}return-1}V.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=$(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new U(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var H="closure_lm_"+(1e6*Math.random()|0),W={};function q(e,t,n,r,i){if(r&&r.once)return K(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)q(e,t[o],n,r,i);return null}return n=te(n),e&&e[F]?e.K(t,n,a(r)?!!r.capture:!!r,i):G(e,t,n,!1,r,i)}function G(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=a(i)?!!i.capture:!!i,l=Z(e);if(l||(e[H]=l=new V(e)),(n=l.add(t,n,r,s,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)P||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(X(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function K(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)K(e,t[o],n,r,i);return null}return n=te(n),e&&e[F]?e.L(t,n,a(r)?!!r.capture:!!r,i):G(e,t,n,!0,r,i)}function Y(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Y(e,t[o],n,r,i);else r=a(r)?!!r.capture:!!r,n=te(n),e&&e[F]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=$(o=e.g[t],n,r,i))&&(B(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=$(t,n,r,i)),(n=-1<e?t[e]:null)&&Q(n))}function Q(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[F])z(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(X(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(z(n,e),0==n.h&&(n.src=null,t[H]=null)):B(e)}}}function X(e){return e in W?W[e]:W[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new M(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Q(e),e=n.call(r,t)}return e}function Z(e){return(e=e[H])instanceof V?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){A.call(this),this.i=new V(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new R(t,e);else if(t instanceof R)t.target=t.target||e;else{var i=t;E(t=new R(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=ie(a,r,!0,t)&&i}if(i=ie(a=t.g=e,r,!0,t)&&i,i=ie(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=ie(a=t.g=n[o],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.da&&a.capture==n){var s=a.listener,l=a.ha||a.src;a.fa&&z(e.i,a),i=!1!==s.call(l,r)&&i}}return i&&!r.defaultPrevented}function oe(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function ae(e){e.g=oe((()=>{e.g=null,e.i&&(e.i=!1,ae(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,A),ne.prototype[F]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Y(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)B(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class se extends A{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ae(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){A.call(this),this.h=e,this.g={}}d(le,A);var ce=[];function ue(e){y(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Q(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=i.JSON.stringify,he=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ye(){R.call(this,"d")}function be(){R.call(this,"c")}d(ye,R),d(be,R);var we={},Ee=null;function Se(){return Ee=Ee||new ne}function _e(e){R.call(this,we.La,e)}function xe(e){const t=Se();re(t,new _e(t))}function ke(e,t){R.call(this,we.STAT_EVENT,e),this.stat=t}function Te(e){const t=Se();re(t,new ke(t,e))}function Ie(e,t){R.call(this,we.Ma,e),this.size=t}function Ce(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function De(){this.g=!0}function Ne(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return de(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}we.La="serverreachability",d(_e,R),we.STAT_EVENT="statevent",d(ke,R),we.Ma="timingevent",d(Ie,R),De.prototype.xa=function(){this.g=!1},De.prototype.info=function(){};var Oe,Ae={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Re={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Pe(){}function Me(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Le}function Le(){this.i=null,this.g="",this.h=!1}d(Pe,pe),Pe.prototype.g=function(){return new XMLHttpRequest},Pe.prototype.i=function(){return{}},Oe=new Pe;var Fe={},je={};function Ue(e,t,n){e.L=1,e.v=dt(at(t)),e.m=n,e.P=!0,Be(e,null)}function Be(e,t){e.F=Date.now(),$e(e),e.A=at(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),kt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Le,e.g=fn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new se(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var o=0;o<i.length;o++){var a=q(n,i[o],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),xe(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var a="",s=o.split("&"),l=0;l<s.length;l++){var c=s[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function Ve(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function ze(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?je:(n=Number(t.substring(n,r)),isNaN(n)?Fe:(r+=1)+n>t.length?je:(t=t.slice(r,r+n),e.C=r+n,t))}function $e(e){e.S=Date.now()+e.I,He(e,e.I)}function He(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ce(c(e.ba,e),t)}function We(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function qe(e){0==e.j.G||e.J||ln(e.j,e)}function Ge(e){We(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ke(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;sn(n),Qt(n)}rn(n),Te(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ce(c(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else un(n,11)}else if((e.K||n.g==e)&&sn(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(et(o,o.h),o.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=hn(r,r.J?r.ia:null,r.W),a.K){tt(r.h,a);var s=a,l=r.L;l&&(s.I=l),s.B&&(We(s),$e(s)),r.g=a}else nn(r);0<n.i.length&&Jt(n)}else"stop"!=c[0]&&"close"!=c[0]||un(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?un(n,7):Yt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}xe()}catch(u){}}Me.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Wt(e)?t.j():this.Y(e)},Me.prototype.Y=function(e){try{if(e==this.g)e:{const h=Wt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||qt(this.g)))){this.J||4!=h||7==t||xe(),We(this);var n=this.g.Z();this.X=n;t:if(Ve(this)){var r=qt(this.g);e="";var o=r.length,a=4==Wt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ge(this),qe(this);var s="";break t}this.h.i=new i.TextDecoder}for(t=0;t<o;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==o-1)});r.length=0,this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Te(12),Ge(this),qe(this);break e}Ne(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ke(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<s.length;){if(e=ze(this,s),e==je){4==h&&(this.s=4,Te(14),n=!1),Ne(this.i,this.l,null,"[Incomplete Response]");break}if(e==Fe){this.s=4,Te(15),Ne(this.i,this.l,s,"[Invalid Chunk]"),n=!1;break}Ne(this.i,this.l,e,null),Ke(this,e)}if(Ve(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=s.length||this.h.h||(this.s=1,Te(16),n=!1),this.o=this.o&&n,n){if(0<s.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+s.length),on(d),d.M=!0,Te(11))}}else Ne(this.i,this.l,s,"[Invalid Chunked Response]"),Ge(this),qe(this)}else Ne(this.i,this.l,s,null),Ke(this,s);4==h&&Ge(this),this.o&&!this.J&&(4==h?ln(this.j,this):(this.o=!1,$e(this)))}else(function(e){const t={};e=(e.g&&2<=Wt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=S(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,Te(12)):(this.s=0,Te(13)),Ge(this),qe(this)}}}catch(h){}},Me.prototype.cancel=function(){this.J=!0,Ge(this)},Me.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(xe(),Te(17)),Ge(this),this.s=2,qe(this)):He(this,this.S-e)};var Ye=class{constructor(e,t){this.g=e,this.map=t}};function Qe(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xe(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(o(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(o(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(o(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}Qe.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ot(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof ot){this.h=e.h,st(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new Et;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,st(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new Et(null,this.h))}function at(e){return new ot(e)}function st(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof Et?(e.i=t,function(e,t){t&&!e.j&&(St(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(_t(this,t),kt(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,bt)),e.i=new Et(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ot.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?yt:vt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,wt)),e.join("")};var mt,gt=/[#\/\?@]/g,vt=/[#\?:]/g,yt=/[#\?]/g,bt=/[#\?@]/g,wt=/#/g;function Et(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function St(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function _t(e,t){St(e),t=Tt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function xt(e,t){return St(e),t=Tt(e,t),e.g.has(t)}function kt(e,t,n){_t(e,t),0<n.length&&(e.i=null,e.g.set(Tt(e,t),h(n)),e.h+=n.length)}function Tt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function It(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(o){}}function Ct(){this.g=new fe}function Dt(e,t,n){const r=n||"";try{rt(e,(function(e,n){let i=e;a(e)&&(i=de(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(bO){throw t.push(r+"type="+encodeURIComponent("_badmap")),bO}}function Nt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Ot(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function At(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Rt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Pt(e)}function Pt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Mt(e){let t="";return y(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Lt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Mt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Ft(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=Et.prototype).add=function(e,t){St(this),this.i=null,e=Tt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){St(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){St(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){St(this);let t=[];if("string"===typeof e)xt(this,e)&&(t=t.concat(this.g.get(Tt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return St(this),this.i=null,xt(this,e=Tt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var i=o;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")},d(Nt,pe),Nt.prototype.g=function(){return new Ot(this.l,this.j)},Nt.prototype.i=(mt={},function(){return mt}),d(Ot,ne),(e=Ot.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Pt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Rt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Pt(this)),this.g&&(this.readyState=3,Pt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;At(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Rt(this):Pt(this),3==this.readyState&&At(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Rt(this))},e.Qa=function(e){this.g&&(this.response=e,Rt(this))},e.ga=function(){this.g&&Rt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ot.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Ft,ne);var jt=/^https?$/i,Ut=["POST","PUT"];function Bt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Vt(e),$t(e)}function Vt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function zt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Wt(e)||2!=e.Z()))if(e.u&&4==Wt(e))oe(e.Ea,0,e);else if(re(e,"readystatechange"),4==Wt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var o;if(o=0===r){var a=String(e.D).match(it)[1]||null;!a&&i.self&&i.self.location&&(a=i.self.location.protocol.slice(0,-1)),o=!jt.test(a?a.toLowerCase():"")}n=o}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var s=2<Wt(e)?e.g.statusText:""}catch(l){s=""}e.l=s+" ["+e.Z()+"]",Vt(e)}}finally{$t(e)}}}function $t(e,t){if(e.g){Ht(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(bO){}}}function Ht(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Wt(e){return e.g?e.g.readyState:0}function qt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Ba){return null}}function Gt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Kt(e){this.Aa=0,this.i=[],this.j=new De,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gt("baseRetryDelayMs",5e3,e),this.cb=Gt("retryDelaySeedMs",1e4,e),this.Wa=Gt("forwardChannelMaxRetries",2,e),this.wa=Gt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Qe(e&&e.concurrentRequestLimit),this.Da=new Ct,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Yt(e){if(Xt(e),3==e.G){var t=e.U++,n=at(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),en(e,n),(t=new Me(e,e.j,t)).L=2,t.v=dt(at(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=fn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),$e(t)}dn(e)}function Qt(e){e.g&&(on(e),e.g.cancel(),e.g=null)}function Xt(e){Qt(e),e.u&&(i.clearTimeout(e.u),e.u=null),sn(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Jt(e){if(!Xe(e.h)&&!e.s){e.s=!0;var t=e.Ga;I||N(),C||(I(),C=!0),D.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const r=at(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),en(e,r),e.m&&e.o&&Lt(r,e.m,e.o),n=new Me(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Ue(n,r,t)}function en(e,t){e.H&&y(e.H,(function(e,n){ut(t,n,e)})),e.l&&rt({},(function(e,n){ut(t,n,e)}))}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let s=0;s<n;s++){let n=i[s].g;const l=i[s].map;if(n-=t,0>n)t=Math.max(0,i[s].g-100),a=!1;else try{Dt(l,e,"req"+n+"_")}catch(o){r&&r(l)}}if(a){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;I||N(),C||(I(),C=!0),D.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ce(c(e.Fa,e),cn(e,e.v)),e.v++,!0)}function on(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function an(e){e.g=new Me(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=at(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Lt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(at(t)),n.m=null,n.P=!0,Be(n,e)}function sn(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){sn(e),on(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=Se(),new Ie(r,n)),Jt(e)}else nn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ce(c(e.Ga,e,t),cn(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:un(e,5);break;case 4:un(e,10);break;case 3:un(e,6);break;default:un(e,2)}}function cn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function un(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new ot(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||st(r,"https"),dt(r),t?function(e,t){const n=new De;if(i.Image){const r=new Image;r.onload=u(It,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(It,n,"TestLoadImage: error",!1,t,r),r.onabort=u(It,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(It,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new De;const n=new AbortController,r=setTimeout((()=>{n.abort(),It(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?It(0,0,!0,t):It(0,0,!1,t)})).catch((()=>{clearTimeout(r),It(0,0,!1,t)}))}(r.toString(),n)}else Te(2);e.G=0,e.l&&e.l.sa(t),dn(e),Xt(e)}function dn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function hn(e,t,n){var r=n instanceof ot?at(n):new ot(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var o=i.location;r=o.protocol,t=t?t+"."+o.hostname:o.hostname,o=+o.port;var a=new ot(null);r&&st(a,r),t&&(a.g=t),o&&lt(a,o),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),en(e,r),r}function fn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Ft(new Nt({eb:n})):new Ft(e.pa)).Ha(e.J),t}function pn(){}function mn(){}function gn(e,t){ne.call(this),this.g=new Kt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new bn(this)}function vn(e){ye.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yn(){be.call(this),this.status=1}function bn(e){this.g=e}(e=Ft.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Oe.g(),this.v=this.o?me(this.o):me(Oe),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Bt(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),o=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Ut,t,void 0))||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,s]of n)this.g.setRequestHeader(i,s);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ht(this),this.u=!0,this.g.send(e),this.u=!1}catch(a){Bt(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),$t(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$t(this,!0)),Ft.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?zt(this):this.bb())},e.bb=function(){zt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Wt(this)?this.g.status:-1}catch(mt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(mt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Kt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Te(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=hn(this,null,this.W),Jt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Me(this,this.j,e);let o=this.o;if(this.S&&(o?(o=b(o),E(o,this.S)):o=this.S),null!==this.m||this.O||(i.H=o,o=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,i,t),ut(n=at(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),en(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(Mt(o)))+"&"+t:this.m&&Lt(n,this.m,o)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,Ue(i,n,null)):Ue(i,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||Xe(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,an(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ce(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Te(10),Qt(this),an(this))},e.Za=function(){null!=this.C&&(this.C=null,Qt(this),rn(this),Te(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=pn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},mn.prototype.g=function(e,t){return new gn(e,t)},d(gn,ne),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Yt(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Ye(t.Ya++,e)),3==t.G&&Jt(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,Yt(this.g),delete this.g,gn.aa.N.call(this)},d(vn,ye),d(yn,be),d(bn,pn),bn.prototype.ua=function(){re(this.g,"a")},bn.prototype.ta=function(e){re(this.g,new vn(e))},bn.prototype.sa=function(e){re(this.g,new yn)},bn.prototype.ra=function(){re(this.g,"b")},mn.prototype.createWebChannel=mn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,La=ja.createWebChannelTransport=function(){return new mn},Ma=ja.getStatEventTarget=function(){return Se()},Pa=ja.Event=we,Ra=ja.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ae.NO_ERROR=0,Ae.TIMEOUT=8,Ae.HTTP_ERROR=6,Aa=ja.ErrorCode=Ae,Re.COMPLETE="complete",Oa=ja.EventType=Re,ge.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Na=ja.WebChannel=ge,ja.FetchXmlHttpFactory=Nt,Ft.prototype.listenOnce=Ft.prototype.L,Ft.prototype.getLastError=Ft.prototype.Ka,Ft.prototype.getLastErrorCode=Ft.prototype.Ba,Ft.prototype.getStatus=Ft.prototype.Z,Ft.prototype.getResponseJson=Ft.prototype.Oa,Ft.prototype.getResponseText=Ft.prototype.oa,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Ha,Da=ja.XhrIo=Ft}).apply("undefined"!==typeof Fa?Fa:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Ua="@firebase/firestore",Ba="4.7.10";class Va{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Va.UNAUTHENTICATED=new Va(null),Va.GOOGLE_CREDENTIALS=new Va("google-credentials-uid"),Va.FIRST_PARTY=new Va("first-party-uid"),Va.MOCK_USER=new Va("mock-user");let za="11.5.0";const $a=new Bt("@firebase/firestore");function Ha(){return $a.logLevel}function Wa(e){if($a.logLevel<=Mt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ka);$a.debug(`Firestore (${za}): ${e}`,...i)}}function qa(e){if($a.logLevel<=Mt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ka);$a.error(`Firestore (${za}): ${e}`,...i)}}function Ga(e){if($a.logLevel<=Mt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ka);$a.warn(`Firestore (${za}): ${e}`,...i)}}function Ka(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Ya(){const e=`FIRESTORE (${za}) INTERNAL ASSERTION FAILED: `+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state");throw qa(e),new Error(e)}function Qa(e,t){e||Ya()}function Xa(e,t){return e}const Ja={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Za extends bt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class es{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class ts{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ns{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Va.UNAUTHENTICATED)))}shutdown(){}}class rs{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class is{constructor(e){this.t=e,this.currentUser=Va.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Qa(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new es;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new es,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{Wa("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(Wa("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new es)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Wa("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Qa("string"==typeof t.accessToken),new ts(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qa(null===e||"string"==typeof e),new Va(e)}}class os{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Va.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class as{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new os(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Va.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ss{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ls{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,zn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Qa(void 0===this.o);const n=e=>{null!=e.error&&Wa("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.R;return this.R=e.token,Wa("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Wa("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Wa("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.V)return Promise.resolve(new ss(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Qa("string"==typeof e.token),this.R=e.token,new ss(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function cs(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}function us(){return new TextEncoder}class ds{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=cs(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function hs(e,t){return e<t?-1:e>t?1:0}function fs(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),i=t.codePointAt(n);if(r!==i){if(r<128&&i<128)return hs(r,i);{const o=us(),a=ms(o.encode(ps(e,n)),o.encode(ps(t,n)));return 0!==a?a:hs(r,i)}}n+=r>65535?2:1}return hs(e.length,t.length)}function ps(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function ms(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return hs(e[n],t[n]);return hs(e.length,t.length)}function gs(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}const vs=-62135596800,ys=1e6;class bs{static now(){return bs.fromMillis(Date.now())}static fromDate(e){return bs.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*ys);return new bs(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Za(Ja.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Za(Ja.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<vs)throw new Za(Ja.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Za(Ja.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ys}_compareTo(e){return this.seconds===e.seconds?hs(this.nanoseconds,e.nanoseconds):hs(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-vs;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ws{static fromTimestamp(e){return new ws(e)}static min(){return new ws(new bs(0,0))}static max(){return new ws(new bs(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Es="__name__";class Ss{constructor(e,t,n){void 0===t?t=0:t>e.length&&Ya(),void 0===n?n=e.length-t:n>e.length-t&&Ya(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Ss.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ss?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=Ss.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return hs(e.length,t.length)}static compareSegments(e,t){const n=Ss.isNumericId(e),r=Ss.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?Ss.extractNumericId(e).compare(Ss.extractNumericId(t)):fs(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ka.fromString(e.substring(4,e.length-2))}}class _s extends Ss{construct(e,t,n){return new _s(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Za(Ja.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((e=>e.length>0)))}return new _s(e)}static emptyPath(){return new _s([])}}const xs=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ks extends Ss{construct(e,t,n){return new ks(e,t,n)}static isValidIdentifier(e){return xs.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ks.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Es}static keyField(){return new ks([Es])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Za(Ja.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Za(Ja.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Za(Ja.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new Za(Ja.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ks(t)}static emptyPath(){return new ks([])}}class Ts{constructor(e){this.path=e}static fromPath(e){return new Ts(_s.fromString(e))}static fromName(e){return new Ts(_s.fromString(e).popFirst(5))}static empty(){return new Ts(_s.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===_s.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return _s.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ts(new _s(e.slice()))}}const Is=-1;class Cs{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Cs.UNKNOWN_ID=-1;function Ds(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ws.fromTimestamp(1e9===r?new bs(n+1,0):new bs(n,r));return new Os(i,Ts.empty(),t)}function Ns(e){return new Os(e.readTime,e.key,Is)}class Os{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Os(ws.min(),Ts.empty(),Is)}static max(){return new Os(ws.max(),Ts.empty(),Is)}}function As(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Ts.comparator(e.documentKey,t.documentKey),0!==n?n:hs(e.largestBatchId,t.largestBatchId))}const Rs="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ps{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ms(e){if(e.code!==Ja.FAILED_PRECONDITION||e.message!==Rs)throw e;Wa("LocalStore","Unexpectedly lost primary lease")}class Ls{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ya(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ls(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Ls?t:Ls.resolve(t)}catch(e){return Ls.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Ls.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Ls.reject(t)}static resolve(e){return new Ls(((t,n)=>{t(e)}))}static reject(e){return new Ls(((t,n)=>{n(e)}))}static waitFor(e){return new Ls(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=Ls.resolve(!1);for(const n of e)t=t.next((e=>e?Ls.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Ls(((n,r)=>{const i=e.length,o=new Array(i);let a=0;for(let s=0;s<i;s++){const l=s;t(e[l]).next((e=>{o[l]=e,++a,a===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new Ls(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function Fs(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function js(e){return"IndexedDbTransactionError"===e.name}class Us{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.oe(e),this._e=e=>t.writeSequenceNumber(e))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Us.ae=-1;const Bs=-1;function Vs(e){return null==e}function zs(e){return 0===e&&1/e==-1/0}function $s(e){return"number"==typeof e&&Number.isInteger(e)&&!zs(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Hs="\x01";function Ws(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Gs(t)),t=qs(e.get(n),t);return Gs(t)}function qs(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case Hs:n+="\x01\x11";break;default:n+=t}}return n}function Gs(e){return e+Hs+"\x01"}const Ks="remoteDocuments",Ys="owner",Qs="mutationQueues",Xs="mutations";const Js="documentMutations",Zs="remoteDocumentsV14",el="remoteDocumentGlobal",tl="targets",nl="targetDocuments",rl="targetGlobal",il="collectionParents",ol="clientMetadata",al="bundles",sl="namedQueries",ll="indexConfiguration",cl="indexState",ul="indexEntries",dl="documentOverlays",hl="globals",fl=[Qs,Xs,Js,Ks,tl,Ys,rl,nl,ol,el,il,al,sl],pl=[Qs,Xs,Js,Zs,tl,Ys,rl,nl,ol,el,il,al,sl,dl],ml=pl,gl=[...ml,ll,cl,ul];function vl(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function yl(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function bl(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class wl{constructor(e,t){this.comparator=e,this.root=t||Sl.EMPTY}insert(e,t){return new wl(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Sl.BLACK,null,null))}remove(e){return new wl(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Sl.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new El(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new El(this.root,e,this.comparator,!1)}getReverseIterator(){return new El(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new El(this.root,e,this.comparator,!0)}}class El{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Sl{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Sl.RED,this.left=null!=r?r:Sl.EMPTY,this.right=null!=i?i:Sl.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Sl(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Sl.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Sl.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Sl.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Sl.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ya();if(this.right.isRed())throw Ya();const e=this.left.check();if(e!==this.right.check())throw Ya();return e+(this.isRed()?0:1)}}Sl.EMPTY=null,Sl.RED=!0,Sl.BLACK=!1,Sl.EMPTY=new class{constructor(){this.size=0}get key(){throw Ya()}get value(){throw Ya()}get color(){throw Ya()}get left(){throw Ya()}get right(){throw Ya()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Sl(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class _l{constructor(e){this.comparator=e,this.data=new wl(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new xl(this.data.getIterator())}getIteratorFrom(e){return new xl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof _l))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new _l(this.comparator);return t.data=e,t}}class xl{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class kl{constructor(e){this.fields=e,e.sort(ks.comparator)}static empty(){return new kl([])}unionWith(e){let t=new _l(ks.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new kl(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return gs(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Tl extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Il{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Tl("Invalid base64 string: "+e):e}}(e);return new Il(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Il(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return hs(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Il.EMPTY_BYTE_STRING=new Il("");const Cl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Dl(e){if(Qa(!!e),"string"==typeof e){let t=0;const n=Cl.exec(e);if(Qa(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Nl(e.seconds),nanos:Nl(e.nanos)}}function Nl(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ol(e){return"string"==typeof e?Il.fromBase64String(e):Il.fromUint8Array(e)}const Al="server_timestamp",Rl="__type__",Pl="__previous_value__",Ml="__local_write_time__";function Ll(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[Rl])||void 0===n?void 0:n.stringValue)===Al}function Fl(e){const t=e.mapValue.fields[Pl];return Ll(t)?Fl(t):t}function jl(e){const t=Dl(e.mapValue.fields[Ml].timestampValue);return new bs(t.seconds,t.nanos)}class Ul{constructor(e,t,n,r,i,o,a,s,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=s,this.useFetchStreams=l}}const Bl="(default)";class Vl{constructor(e,t){this.projectId=e,this.database=t||Bl}static empty(){return new Vl("","")}get isDefaultDatabase(){return this.database===Bl}isEqual(e){return e instanceof Vl&&e.projectId===this.projectId&&e.database===this.database}}const zl="__type__",$l="__max__",Hl={mapValue:{fields:{__type__:{stringValue:$l}}}},Wl="__vector__",ql="value";function Gl(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ll(e)?4:uc(e)?9007199254740991:lc(e)?10:11:Ya()}function Kl(e,t){if(e===t)return!0;const n=Gl(e);if(n!==Gl(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return jl(e).isEqual(jl(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Dl(e.timestampValue),r=Dl(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ol(e.bytesValue).isEqual(Ol(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Nl(e.geoPointValue.latitude)===Nl(t.geoPointValue.latitude)&&Nl(e.geoPointValue.longitude)===Nl(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Nl(e.integerValue)===Nl(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Nl(e.doubleValue),r=Nl(t.doubleValue);return n===r?zs(n)===zs(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return gs(e.arrayValue.values||[],t.arrayValue.values||[],Kl);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(vl(n)!==vl(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Kl(n[i],r[i])))return!1;return!0}(e,t);default:return Ya()}}function Yl(e,t){return void 0!==(e.values||[]).find((e=>Kl(e,t)))}function Ql(e,t){if(e===t)return 0;const n=Gl(e),r=Gl(t);if(n!==r)return hs(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return hs(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Nl(e.integerValue||e.doubleValue),r=Nl(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Xl(e.timestampValue,t.timestampValue);case 4:return Xl(jl(e),jl(t));case 5:return fs(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Ol(e),r=Ol(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=hs(n[i],r[i]);if(0!==e)return e}return hs(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=hs(Nl(e.latitude),Nl(t.latitude));return 0!==n?n:hs(Nl(e.longitude),Nl(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Jl(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,o;const a=e.fields||{},s=t.fields||{},l=null===(n=a[ql])||void 0===n?void 0:n.arrayValue,c=null===(r=s[ql])||void 0===r?void 0:r.arrayValue,u=hs((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(o=null==c?void 0:c.values)||void 0===o?void 0:o.length)||0);return 0!==u?u:Jl(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Hl.mapValue&&t===Hl.mapValue)return 0;if(e===Hl.mapValue)return 1;if(t===Hl.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let a=0;a<r.length&&a<o.length;++a){const e=fs(r[a],o[a]);if(0!==e)return e;const t=Ql(n[r[a]],i[o[a]]);if(0!==t)return t}return hs(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Ya()}}function Xl(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return hs(e,t);const n=Dl(e),r=Dl(t),i=hs(n.seconds,r.seconds);return 0!==i?i:hs(n.nanos,r.nanos)}function Jl(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Ql(n[i],r[i]);if(e)return e}return hs(n.length,r.length)}function Zl(e){return ec(e)}function ec(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Dl(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Ol(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Ts.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=ec(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${ec(e.fields[i])}`;return n+"}"}(e.mapValue):Ya()}function tc(e){switch(Gl(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Fl(e);return t?16+tc(t):16;case 5:return 2*e.stringValue.length;case 6:return Ol(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+tc(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return yl(e.fields,((e,n)=>{t+=e.length+tc(n)})),t}(e.mapValue);default:throw Ya()}}function nc(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function rc(e){return!!e&&"integerValue"in e}function ic(e){return!!e&&"arrayValue"in e}function oc(e){return!!e&&"nullValue"in e}function ac(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function sc(e){return!!e&&"mapValue"in e}function lc(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[zl])||void 0===n?void 0:n.stringValue)===Wl}function cc(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return yl(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=cc(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=cc(e.arrayValue.values[n]);return t}return Object.assign({},e)}function uc(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===$l}class dc{constructor(e){this.value=e}static empty(){return new dc({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!sc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=cc(t)}setAll(e){let t=ks.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=cc(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());sc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Kl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];sc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){yl(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new dc(cc(this.value))}}function hc(e){const t=[];return yl(e.fields,((e,n)=>{const r=new ks([e]);if(sc(n)){const e=hc(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new kl(t)}class fc{constructor(e,t,n,r,i,o,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new fc(e,0,ws.min(),ws.min(),ws.min(),dc.empty(),0)}static newFoundDocument(e,t,n,r){return new fc(e,1,t,ws.min(),n,r,0)}static newNoDocument(e,t){return new fc(e,2,t,ws.min(),ws.min(),dc.empty(),0)}static newUnknownDocument(e,t){return new fc(e,3,t,ws.min(),ws.min(),dc.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ws.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dc.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dc.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ws.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof fc&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fc(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class pc{constructor(e,t){this.position=e,this.inclusive=t}}function mc(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],a=e.position[i];if(r=o.field.isKeyField()?Ts.comparator(Ts.fromName(a.referenceValue),n.key):Ql(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function gc(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Kl(e.position[n],t.position[n]))return!1;return!0}class vc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function yc(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class bc{}class wc extends bc{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Cc(e,t,n):"array-contains"===t?new Ac(e,n):"in"===t?new Rc(e,n):"not-in"===t?new Pc(e,n):"array-contains-any"===t?new Mc(e,n):new wc(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Dc(e,n):new Nc(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ql(t,this.value)):null!==t&&Gl(this.value)===Gl(t)&&this.matchesComparison(Ql(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ya()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ec extends bc{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Ec(e,t)}matches(e){return Sc(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ce||(this.ce=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Sc(e){return"and"===e.op}function _c(e){return xc(e)&&Sc(e)}function xc(e){for(const t of e.filters)if(t instanceof Ec)return!1;return!0}function kc(e){if(e instanceof wc)return e.field.canonicalString()+e.op.toString()+Zl(e.value);if(_c(e))return e.filters.map((e=>kc(e))).join(",");{const t=e.filters.map((e=>kc(e))).join(",");return`${e.op}(${t})`}}function Tc(e,t){return e instanceof wc?function(e,t){return t instanceof wc&&e.op===t.op&&e.field.isEqual(t.field)&&Kl(e.value,t.value)}(e,t):e instanceof Ec?function(e,t){return t instanceof Ec&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Tc(n,t.filters[r])),!0)}(e,t):void Ya()}function Ic(e){return e instanceof wc?function(e){return`${e.field.canonicalString()} ${e.op} ${Zl(e.value)}`}(e):e instanceof Ec?function(e){return e.op.toString()+" {"+e.getFilters().map(Ic).join(" ,")+"}"}(e):"Filter"}class Cc extends wc{constructor(e,t,n){super(e,t,n),this.key=Ts.fromName(n.referenceValue)}matches(e){const t=Ts.comparator(e.key,this.key);return this.matchesComparison(t)}}class Dc extends wc{constructor(e,t){super(e,"in",t),this.keys=Oc("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Nc extends wc{constructor(e,t){super(e,"not-in",t),this.keys=Oc("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Oc(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Ts.fromName(e.referenceValue)))}class Ac extends wc{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ic(t)&&Yl(t.arrayValue,this.value)}}class Rc extends wc{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Yl(this.value.arrayValue,t)}}class Pc extends wc{constructor(e,t){super(e,"not-in",t)}matches(e){if(Yl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Yl(this.value.arrayValue,t)}}class Mc extends wc{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ic(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Yl(this.value.arrayValue,e)))}}class Lc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.le=null}}function Fc(e){return new Lc(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function jc(e){const t=Xa(e);if(null===t.le){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>kc(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Vs(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Zl(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Zl(e))).join(",")),t.le=e}return t.le}function Uc(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!yc(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Tc(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!gc(e.startAt,t.startAt)&&gc(e.endAt,t.endAt)}function Bc(e){return Ts.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Vc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function zc(e,t,n,r,i,o,a,s){return new Vc(e,t,n,r,i,o,a,s)}function $c(e){return new Vc(e)}function Hc(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Wc(e){return null!==e.collectionGroup}function qc(e){const t=Xa(e);if(null===t.he){t.he=[];const e=new Set;for(const i of t.explicitOrderBy)t.he.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new _l(ks.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.he.push(new vc(r,n))})),e.has(ks.keyField().canonicalString())||t.he.push(new vc(ks.keyField(),n))}return t.he}function Gc(e){const t=Xa(e);return t.Pe||(t.Pe=Kc(t,qc(e))),t.Pe}function Kc(e,t){if("F"===e.limitType)return Fc(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new vc(e.field,t)}));const n=e.endAt?new pc(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new pc(e.startAt.position,e.startAt.inclusive):null;return Fc(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Yc(e,t){const n=e.filters.concat([t]);return new Vc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Qc(e,t,n){return new Vc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Xc(e,t){return Uc(Gc(e),Gc(t))&&e.limitType===t.limitType}function Jc(e){return`${jc(Gc(e))}|lt:${e.limitType}`}function Zc(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>Ic(e))).join(", ")}]`),Vs(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Zl(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Zl(e))).join(",")),`Target(${t})`}(Gc(e))}; limitType=${e.limitType})`}function eu(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Ts.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of qc(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=mc(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,qc(e),t))&&!(e.endAt&&!function(e,t,n){const r=mc(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,qc(e),t))}(e,t)}function tu(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function nu(e){return(t,n)=>{let r=!1;for(const i of qc(e)){const e=ru(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function ru(e,t,n){const r=e.field.isKeyField()?Ts.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Ql(r,i):Ya()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ya()}}class iu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){yl(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return bl(this.inner)}size(){return this.innerSize}}const ou=new wl(Ts.comparator);function au(){return ou}const su=new wl(Ts.comparator);function lu(){let e=su;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function cu(e){let t=su;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function uu(){return hu()}function du(){return hu()}function hu(){return new iu((e=>e.toString()),((e,t)=>e.isEqual(t)))}const fu=new wl(Ts.comparator),pu=new _l(Ts.comparator);function mu(){let e=pu;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const gu=new _l(hs);function vu(){return gu}function yu(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zs(t)?"-0":t}}function bu(e){return{integerValue:""+e}}function wu(e,t){return $s(t)?bu(t):yu(e,t)}class Eu{constructor(){this._=void 0}}function Su(e,t,n){return e instanceof ku?function(e,t){const n={fields:{[Rl]:{stringValue:Al},[Ml]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Ll(t)&&(t=Fl(t)),t&&(n.fields[Pl]=t),{mapValue:n}}(n,t):e instanceof Tu?Iu(e,t):e instanceof Cu?Du(e,t):function(e,t){const n=xu(e,t),r=Ou(n)+Ou(e.Ie);return rc(n)&&rc(e.Ie)?bu(r):yu(e.serializer,r)}(e,t)}function _u(e,t,n){return e instanceof Tu?Iu(e,t):e instanceof Cu?Du(e,t):n}function xu(e,t){return e instanceof Nu?function(e){return rc(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class ku extends Eu{}class Tu extends Eu{constructor(e){super(),this.elements=e}}function Iu(e,t){const n=Au(t);for(const r of e.elements)n.some((e=>Kl(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Cu extends Eu{constructor(e){super(),this.elements=e}}function Du(e,t){let n=Au(t);for(const r of e.elements)n=n.filter((e=>!Kl(e,r)));return{arrayValue:{values:n}}}class Nu extends Eu{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function Ou(e){return Nl(e.integerValue||e.doubleValue)}function Au(e){return ic(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Ru{constructor(e,t){this.field=e,this.transform=t}}class Pu{constructor(e,t){this.version=e,this.transformResults=t}}class Mu{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Mu}static exists(e){return new Mu(void 0,e)}static updateTime(e){return new Mu(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lu(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Fu{}function ju(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Ku(e.key,Mu.none()):new $u(e.key,e.data,Mu.none());{const n=e.data,r=dc.empty();let i=new _l(ks.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Hu(e.key,r,new kl(i.toArray()),Mu.none())}}function Uu(e,t,n){e instanceof $u?function(e,t,n){const r=e.value.clone(),i=qu(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Hu?function(e,t,n){if(!Lu(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=qu(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Wu(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Bu(e,t,n,r){return e instanceof $u?function(e,t,n,r){if(!Lu(e.precondition,t))return n;const i=e.value.clone(),o=Gu(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Hu?function(e,t,n,r){if(!Lu(e.precondition,t))return n;const i=Gu(e.fieldTransforms,r,t),o=t.data;return o.setAll(Wu(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Lu(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Vu(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=xu(r.transform,e||null);null!=i&&(null===n&&(n=dc.empty()),n.set(r.field,i))}return n||null}function zu(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&gs(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Tu&&t instanceof Tu||e instanceof Cu&&t instanceof Cu?gs(e.elements,t.elements,Kl):e instanceof Nu&&t instanceof Nu?Kl(e.Ie,t.Ie):e instanceof ku&&t instanceof ku}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class $u extends Fu{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Hu extends Fu{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Wu(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function qu(e,t,n){const r=new Map;Qa(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,_u(a,s,n[i]))}return r}function Gu(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,Su(e,o,t))}return r}class Ku extends Fu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Yu extends Fu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Qu{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Uu(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Bu(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Bu(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=du();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=t.has(r.key)?null:a;const s=ju(o,a);null!==s&&n.set(r.key,s),o.isValidDocument()||o.convertToNoDocument(ws.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),mu())}isEqual(e){return this.batchId===e.batchId&&gs(this.mutations,e.mutations,((e,t)=>zu(e,t)))&&gs(this.baseMutations,e.baseMutations,((e,t)=>zu(e,t)))}}class Xu{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Qa(e.mutations.length===n.length);let r=fu;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new Xu(e,t,n,r)}}class Ju{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Zu{constructor(e,t){this.count=e,this.unchangedNames=t}}var ed,td;function nd(e){switch(e){case Ja.OK:return Ya();case Ja.CANCELLED:case Ja.UNKNOWN:case Ja.DEADLINE_EXCEEDED:case Ja.RESOURCE_EXHAUSTED:case Ja.INTERNAL:case Ja.UNAVAILABLE:case Ja.UNAUTHENTICATED:return!1;case Ja.INVALID_ARGUMENT:case Ja.NOT_FOUND:case Ja.ALREADY_EXISTS:case Ja.PERMISSION_DENIED:case Ja.FAILED_PRECONDITION:case Ja.ABORTED:case Ja.OUT_OF_RANGE:case Ja.UNIMPLEMENTED:case Ja.DATA_LOSS:return!0;default:return Ya()}}function rd(e){if(void 0===e)return qa("GRPC error has no .code"),Ja.UNKNOWN;switch(e){case ed.OK:return Ja.OK;case ed.CANCELLED:return Ja.CANCELLED;case ed.UNKNOWN:return Ja.UNKNOWN;case ed.DEADLINE_EXCEEDED:return Ja.DEADLINE_EXCEEDED;case ed.RESOURCE_EXHAUSTED:return Ja.RESOURCE_EXHAUSTED;case ed.INTERNAL:return Ja.INTERNAL;case ed.UNAVAILABLE:return Ja.UNAVAILABLE;case ed.UNAUTHENTICATED:return Ja.UNAUTHENTICATED;case ed.INVALID_ARGUMENT:return Ja.INVALID_ARGUMENT;case ed.NOT_FOUND:return Ja.NOT_FOUND;case ed.ALREADY_EXISTS:return Ja.ALREADY_EXISTS;case ed.PERMISSION_DENIED:return Ja.PERMISSION_DENIED;case ed.FAILED_PRECONDITION:return Ja.FAILED_PRECONDITION;case ed.ABORTED:return Ja.ABORTED;case ed.OUT_OF_RANGE:return Ja.OUT_OF_RANGE;case ed.UNIMPLEMENTED:return Ja.UNIMPLEMENTED;case ed.DATA_LOSS:return Ja.DATA_LOSS;default:return Ya()}}(td=ed||(ed={}))[td.OK=0]="OK",td[td.CANCELLED=1]="CANCELLED",td[td.UNKNOWN=2]="UNKNOWN",td[td.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",td[td.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",td[td.NOT_FOUND=5]="NOT_FOUND",td[td.ALREADY_EXISTS=6]="ALREADY_EXISTS",td[td.PERMISSION_DENIED=7]="PERMISSION_DENIED",td[td.UNAUTHENTICATED=16]="UNAUTHENTICATED",td[td.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",td[td.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",td[td.ABORTED=10]="ABORTED",td[td.OUT_OF_RANGE=11]="OUT_OF_RANGE",td[td.UNIMPLEMENTED=12]="UNIMPLEMENTED",td[td.INTERNAL=13]="INTERNAL",td[td.UNAVAILABLE=14]="UNAVAILABLE",td[td.DATA_LOSS=15]="DATA_LOSS";let id=null;const od=new ka([4294967295,4294967295],0);function ad(e){const t=us().encode(e),n=new Ta;return n.update(t),new Uint8Array(n.digest())}function sd(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new ka([n,r],0),new ka([i,o],0)]}class ld{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new cd(`Invalid padding: ${t}`);if(n<0)throw new cd(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new cd(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new cd(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=ka.fromNumber(this.Ee)}Ae(e,t,n){let r=e.add(t.multiply(ka.fromNumber(n)));return 1===r.compare(od)&&(r=new ka([r.getBits(0),r.getBits(1)],0)),r.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ee)return!1;const t=ad(e),[n,r]=sd(t);for(let i=0;i<this.hashCount;i++){const e=this.Ae(n,r,i);if(!this.Re(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new ld(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.Ee)return;const t=ad(e),[n,r]=sd(t);for(let i=0;i<this.hashCount;i++){const e=this.Ae(n,r,i);this.Ve(e)}}Ve(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class cd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ud{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,dd.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new ud(ws.min(),r,new wl(hs),au(),mu())}}class dd{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new dd(n,t,mu(),mu(),mu())}}class hd{constructor(e,t,n,r){this.me=e,this.removedTargetIds=t,this.key=n,this.fe=r}}class fd{constructor(e,t){this.targetId=e,this.ge=t}}class pd{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Il.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class md{constructor(){this.pe=0,this.ye=yd(),this.we=Il.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return 0!==this.pe}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=mu(),t=mu(),n=mu();return this.ye.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Ya()}})),new dd(this.we,this.Se,e,t,n)}Me(){this.be=!1,this.ye=yd()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Qa(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class gd{constructor(e){this.ke=e,this.qe=new Map,this.Qe=au(),this.$e=vd(),this.Ue=vd(),this.Ke=new wl(hs)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,(t=>{const n=this.He(t);switch(e.state){case 0:this.Je(t)&&n.Ce(e.resumeToken);break;case 1:n.Be(),n.De||n.Me(),n.Ce(e.resumeToken);break;case 2:n.Be(),n.De||this.removeTarget(t);break;case 3:this.Je(t)&&(n.Le(),n.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),n.Ce(e.resumeToken));break;default:Ya()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach(((e,n)=>{this.Je(n)&&t(n)}))}Ze(e){const t=e.targetId,n=e.ge.count,r=this.Xe(t);if(r){const i=r.target;if(Bc(i))if(0===n){const e=new Ts(i.path);this.ze(t,e,fc.newNoDocument(e,ws.min()))}else Qa(1===n);else{const r=this.et(t);if(r!==n){const n=this.tt(e),i=n?this.nt(n,e,r):1;if(0!==i){this.Ye(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==id||id.rt(function(e,t,n,r,i){var o,a,s,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(o=null==h?void 0:h.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(l=null===(s=null===(a=null==h?void 0:h.bits)||void 0===a?void 0:a.bitmap)||void 0===s?void 0:s.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.ge,this.ke.it(),n,i))}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,a;try{o=Ol(n).toUint8Array()}catch(e){if(e instanceof Tl)return Ga("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new ld(o,r,i)}catch(e){return Ga(e instanceof cd?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.Ee?null:a}nt(e,t,n){return t.ge.count===n-this.st(e,t.targetId)?0:2}st(e,t){const n=this.ke.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.ke.it(),o=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(o)||(this.ze(t,n,null),r++)})),r}ot(e){const t=new Map;this.qe.forEach(((n,r)=>{const i=this.Xe(r);if(i){if(n.current&&Bc(i.target)){const t=new Ts(i.target.path);this._t(t).has(r)||this.ut(r,t)||this.ze(r,t,fc.newNoDocument(t,e))}n.ve&&(t.set(r,n.Fe()),n.Me())}}));let n=mu();this.Ue.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Xe(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.Qe.forEach(((t,n)=>n.setReadTime(e)));const r=new ud(e,t,this.Ke,this.Qe,n);return this.Qe=au(),this.$e=vd(),this.Ue=vd(),this.Ke=new wl(hs),r}Ge(e,t){if(!this.Je(e))return;const n=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,n),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,n){if(!this.Je(e))return;const r=this.He(e);this.ut(e,t)?r.xe(t,1):r.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),n&&(this.Qe=this.Qe.insert(t,n))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new md,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new _l(hs),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new _l(hs),this.$e=this.$e.insert(e,t)),t}Je(e){const t=null!==this.Xe(e);return t||Wa("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new md),this.ke.getRemoteKeysForTarget(e).forEach((t=>{this.ze(e,t,null)}))}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function vd(){return new wl(Ts.comparator)}function yd(){return new wl(Ts.comparator)}const bd={asc:"ASCENDING",desc:"DESCENDING"},wd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ed={and:"AND",or:"OR"};class Sd{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function _d(e,t){return e.useProto3Json||Vs(t)?t:{value:t}}function xd(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function kd(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Td(e,t){return xd(e,t.toTimestamp())}function Id(e){return Qa(!!e),ws.fromTimestamp(function(e){const t=Dl(e);return new bs(t.seconds,t.nanos)}(e))}function Cd(e,t){return Dd(e,t).canonicalString()}function Dd(e,t){const n=function(e){return new _s(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Nd(e){const t=_s.fromString(e);return Qa(Qd(t)),t}function Od(e,t){return Cd(e.databaseId,t.path)}function Ad(e,t){const n=Nd(t);if(n.get(1)!==e.databaseId.projectId)throw new Za(Ja.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Za(Ja.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ts(Ld(n))}function Rd(e,t){return Cd(e.databaseId,t)}function Pd(e){const t=Nd(e);return 4===t.length?_s.emptyPath():Ld(t)}function Md(e){return new _s(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Ld(e){return Qa(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Fd(e,t,n){return{name:Od(e,t),fields:n.value.mapValue.fields}}function jd(e,t){let n;if(t instanceof $u)n={update:Fd(e,t.key,t.value)};else if(t instanceof Ku)n={delete:Od(e,t.key)};else if(t instanceof Hu)n={update:Fd(e,t.key,t.data),updateMask:Yd(t.fieldMask)};else{if(!(t instanceof Yu))return Ya();n={verify:Od(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof ku)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Tu)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Cu)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Nu)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw Ya()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Td(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ya()}(e,t.precondition)),n}function Ud(e,t){return{documents:[Rd(e,t.path)]}}function Bd(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Rd(e,i);const o=function(e){if(0!==e.length)return Kd(Ec.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const a=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:qd(e.field),direction:$d(e.dir)}}(e)))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const s=_d(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ht:n,parent:i}}function Vd(e){let t=Pd(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Qa(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=zd(e);return t instanceof Ec&&_c(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map((e=>function(e){return new vc(Gd(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let s=null;n.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,Vs(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new pc(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new pc(n,t)}(n.endAt)),zc(t,i,a,o,s,"F",l,c)}function zd(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Gd(e.unaryFilter.field);return wc.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Gd(e.unaryFilter.field);return wc.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Gd(e.unaryFilter.field);return wc.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Gd(e.unaryFilter.field);return wc.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Ya()}}(e):void 0!==e.fieldFilter?function(e){return wc.create(Gd(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ya()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Ec.create(e.compositeFilter.filters.map((e=>zd(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Ya()}}(e.compositeFilter.op))}(e):Ya()}function $d(e){return bd[e]}function Hd(e){return wd[e]}function Wd(e){return Ed[e]}function qd(e){return{fieldPath:e.canonicalString()}}function Gd(e){return ks.fromServerFormat(e.fieldPath)}function Kd(e){return e instanceof wc?function(e){if("=="===e.op){if(ac(e.value))return{unaryFilter:{field:qd(e.field),op:"IS_NAN"}};if(oc(e.value))return{unaryFilter:{field:qd(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ac(e.value))return{unaryFilter:{field:qd(e.field),op:"IS_NOT_NAN"}};if(oc(e.value))return{unaryFilter:{field:qd(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qd(e.field),op:Hd(e.op),value:e.value}}}(e):e instanceof Ec?function(e){const t=e.getFilters().map((e=>Kd(e)));return 1===t.length?t[0]:{compositeFilter:{op:Wd(e.op),filters:t}}}(e):Ya()}function Yd(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Qd(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Xd{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ws.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ws.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Il.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=s}withSequenceNumber(e){return new Xd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Xd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Jd{constructor(e){this.Tt=e}}function Zd(e){const t=Vd({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Qc(t,t.limit,"L"):t}class eh{constructor(){}At(e,t){this.Rt(e,t),t.Vt()}Rt(e,t){if("nullValue"in e)this.ft(t,5);else if("booleanValue"in e)this.ft(t,10),t.gt(e.booleanValue?1:0);else if("integerValue"in e)this.ft(t,15),t.gt(Nl(e.integerValue));else if("doubleValue"in e){const n=Nl(e.doubleValue);isNaN(n)?this.ft(t,13):(this.ft(t,15),zs(n)?t.gt(0):t.gt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.ft(t,20),"string"==typeof n&&(n=Dl(n)),t.yt(`${n.seconds||""}`),t.gt(n.nanos||0)}else if("stringValue"in e)this.wt(e.stringValue,t),this.St(t);else if("bytesValue"in e)this.ft(t,30),t.bt(Ol(e.bytesValue)),this.St(t);else if("referenceValue"in e)this.Dt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ft(t,45),t.gt(n.latitude||0),t.gt(n.longitude||0)}else"mapValue"in e?uc(e)?this.ft(t,Number.MAX_SAFE_INTEGER):lc(e)?this.vt(e.mapValue,t):(this.Ct(e.mapValue,t),this.St(t)):"arrayValue"in e?(this.Ft(e.arrayValue,t),this.St(t)):Ya()}wt(e,t){this.ft(t,25),this.Mt(e,t)}Mt(e,t){t.yt(e)}Ct(e,t){const n=e.fields||{};this.ft(t,55);for(const r of Object.keys(n))this.wt(r,t),this.Rt(n[r],t)}vt(e,t){var n,r;const i=e.fields||{};this.ft(t,53);const o=ql,a=(null===(r=null===(n=i[o].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.ft(t,15),t.gt(Nl(a)),this.wt(o,t),this.Rt(i[o],t)}Ft(e,t){const n=e.values||[];this.ft(t,50);for(const r of n)this.Rt(r,t)}Dt(e,t){this.ft(t,37),Ts.fromName(e).path.forEach((e=>{this.ft(t,60),this.Mt(e,t)}))}ft(e,t){e.gt(t)}St(e){e.gt(2)}}eh.xt=new eh;class th{constructor(){this.Tn=new nh}addToCollectionParentIndex(e,t){return this.Tn.add(t),Ls.resolve()}getCollectionParents(e,t){return Ls.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return Ls.resolve()}deleteFieldIndex(e,t){return Ls.resolve()}deleteAllFieldIndexes(e){return Ls.resolve()}createTargetIndexes(e,t){return Ls.resolve()}getDocumentsMatchingTarget(e,t){return Ls.resolve(null)}getIndexType(e,t){return Ls.resolve(0)}getFieldIndexes(e,t){return Ls.resolve([])}getNextCollectionGroupToUpdate(e){return Ls.resolve(null)}getMinOffset(e,t){return Ls.resolve(Os.min())}getMinOffsetFromCollectionGroup(e,t){return Ls.resolve(Os.min())}updateCollectionGroup(e,t,n){return Ls.resolve()}updateIndexEntries(e,t){return Ls.resolve()}}class nh{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new _l(_s.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new _l(_s.comparator)).toArray()}}new Uint8Array(0);const rh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ih=41943040;class oh{static withCacheSize(e){return new oh(e,oh.DEFAULT_COLLECTION_PERCENTILE,oh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}oh.DEFAULT_COLLECTION_PERCENTILE=10,oh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,oh.DEFAULT=new oh(ih,oh.DEFAULT_COLLECTION_PERCENTILE,oh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),oh.DISABLED=new oh(-1,0,0);class ah{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new ah(0)}static Kn(){return new ah(-1)}}const sh="LruGarbageCollector",lh=1048576;function ch(e,t){let[n,r]=e,[i,o]=t;const a=hs(n,i);return 0===a?hs(r,o):a}class uh{constructor(e){this.Hn=e,this.buffer=new _l(ch),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();ch(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class dh{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Xn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return null!==this.Xn}er(e){Wa(sh,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){js(e)?Wa(sh,"Ignoring IndexedDB error during garbage collection: ",e):await Ms(e)}await this.er(3e5)}))}}class hh{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Ls.resolve(Us.ae);const n=new uh(t);return this.tr.forEachTarget(e,(e=>n.Zn(e.sequenceNumber))).next((()=>this.tr.rr(e,(e=>n.Zn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.tr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Wa("LruGarbageCollector","Garbage collection skipped; disabled"),Ls.resolve(rh)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Wa("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rh):this.ir(e,t)))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let n,r,i,o,a,s,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Wa("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,a=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,s=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),Ha()<=Mt.DEBUG&&Wa("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-c}ms\n\tDetermined least recently used ${r} in `+(a-o)+"ms\n"+`\tRemoved ${i} targets in `+(s-a)+"ms\n"+`\tRemoved ${e} documents in `+(l-s)+"ms\n"+`Total Duration: ${l-c}ms`),Ls.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function fh(e,t){return new hh(e,t)}class ph{constructor(){this.changes=new iu((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,fc.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Ls.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class mh{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class gh{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Bu(n.mutation,e,kl.empty(),bs.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,mu()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:mu();const r=uu();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=lu();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=uu();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,mu())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=au();const o=hu(),a=hu();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof Hu)?i=i.insert(t.key,t):void 0!==a?(o.set(t.key,a.mutation.getFieldMask()),Bu(a.mutation,t,a.mutation.getFieldMask(),bs.now())):o.set(t.key,kl.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new mh(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=hu();let r=new wl(((e,t)=>e-t)),i=mu();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let a=n.get(e)||kl.empty();a=i.applyToLocalView(o,a),n.set(e,a);const s=(r.get(i.batchId)||mu()).add(e);r=r.insert(i.batchId,s)}))})).next((()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),s=r.key,l=r.value,c=du();l.forEach((e=>{if(!i.has(e)){const r=ju(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,s,c))}return Ls.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Ts.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Wc(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Ls.resolve(uu());let a=Is,s=i;return o.next((t=>Ls.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?Ls.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{s=s.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,s,t,mu()))).next((e=>({batchId:a,changes:cu(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ts(t)).next((e=>{let t=lu();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=lu();return this.indexManager.getCollectionParents(e,i).next((a=>Ls.forEach(a,(a=>{const s=function(e,t){return new Vc(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next((e=>{e.forEach(((e,t)=>{o=o.insert(e,t)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,fc.newInvalidDocument(r)))}));let n=lu();return e.forEach(((e,r)=>{const o=i.get(e);void 0!==o&&Bu(o.mutation,r,kl.empty(),bs.now()),eu(t,r)&&(n=n.insert(e,r))})),n}))}}class vh{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return Ls.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Id(e.createTime)}}(t)),Ls.resolve()}getNamedQuery(e,t){return Ls.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(e){return{name:e.name,query:Zd(e.bundledQuery),readTime:Id(e.readTime)}}(t)),Ls.resolve()}}class yh{constructor(){this.overlays=new wl(Ts.comparator),this.Rr=new Map}getOverlay(e,t){return Ls.resolve(this.overlays.get(t))}getOverlays(e,t){const n=uu();return Ls.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.Et(e,t,r)})),Ls.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Rr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Rr.delete(n)),Ls.resolve()}getOverlaysForCollection(e,t,n){const r=uu(),i=t.length+1,o=new Ts(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const e=a.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Ls.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new wl(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=uu(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=uu(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return Ls.resolve(a)}Et(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Rr.get(r.largestBatchId).delete(n.key);this.Rr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Ju(t,n));let i=this.Rr.get(t);void 0===i&&(i=mu(),this.Rr.set(t,i)),this.Rr.set(t,i.add(n.key))}}class bh{constructor(){this.sessionToken=Il.EMPTY_BYTE_STRING}getSessionToken(e){return Ls.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Ls.resolve()}}class wh{constructor(){this.Vr=new _l(Eh.mr),this.gr=new _l(Eh.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const n=new Eh(e,t);this.Vr=this.Vr.add(n),this.gr=this.gr.add(n)}yr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.wr(new Eh(e,t))}Sr(e,t){e.forEach((e=>this.removeReference(e,t)))}br(e){const t=new Ts(new _s([])),n=new Eh(t,e),r=new Eh(t,e+1),i=[];return this.gr.forEachInRange([n,r],(e=>{this.wr(e),i.push(e.key)})),i}Dr(){this.Vr.forEach((e=>this.wr(e)))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Ts(new _s([])),n=new Eh(t,e),r=new Eh(t,e+1);let i=mu();return this.gr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Eh(e,0),n=this.Vr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Eh{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Ts.comparator(e.key,t.key)||hs(e.Cr,t.Cr)}static pr(e,t){return hs(e.Cr,t.Cr)||Ts.comparator(e.key,t.key)}}class Sh{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new _l(Eh.mr)}checkEmpty(e){return Ls.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Qu(i,t,n,r);this.mutationQueue.push(o);for(const a of r)this.Mr=this.Mr.add(new Eh(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Ls.resolve(o)}lookupMutationBatch(e,t){return Ls.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Nr(n),i=r<0?0:r;return Ls.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Ls.resolve(0===this.mutationQueue.length?Bs:this.Fr-1)}getAllMutationBatches(e){return Ls.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Eh(t,0),r=new Eh(t,Number.POSITIVE_INFINITY),i=[];return this.Mr.forEachInRange([n,r],(e=>{const t=this.Or(e.Cr);i.push(t)})),Ls.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new _l(hs);return t.forEach((e=>{const t=new Eh(e,0),r=new Eh(e,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([t,r],(e=>{n=n.add(e.Cr)}))})),Ls.resolve(this.Br(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Ts.isDocumentKey(i)||(i=i.child(""));const o=new Eh(new Ts(i),0);let a=new _l(hs);return this.Mr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.Cr)),!0)}),o),Ls.resolve(this.Br(a))}Br(e){const t=[];return e.forEach((e=>{const n=this.Or(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Qa(0===this.Lr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Mr;return Ls.forEach(t.mutations,(r=>{const i=new Eh(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Mr=n}))}qn(e){}containsKey(e,t){const n=new Eh(t,0),r=this.Mr.firstAfterOrEqual(n);return Ls.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ls.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class _h{constructor(e){this.kr=e,this.docs=new wl(Ts.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.kr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Ls.resolve(n?n.document.mutableCopy():fc.newInvalidDocument(t))}getEntries(e,t){let n=au();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():fc.newInvalidDocument(e))})),Ls.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=au();const o=t.path,a=new Ts(o.child("__id-9223372036854775808__")),s=this.docs.getIteratorFrom(a);for(;s.hasNext();){const{key:e,value:{document:a}}=s.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||As(Ns(a),n)<=0||(r.has(a.key)||eu(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return Ls.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Ya()}qr(e,t){return Ls.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new xh(this)}getSize(e){return Ls.resolve(this.size)}}class xh extends ph{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Ir.addEntry(e,r)):this.Ir.removeEntry(n)})),Ls.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}class kh{constructor(e){this.persistence=e,this.Qr=new iu((e=>jc(e)),Uc),this.lastRemoteSnapshotVersion=ws.min(),this.highestTargetId=0,this.$r=0,this.Ur=new wh,this.targetCount=0,this.Kr=ah.Un()}forEachTarget(e,t){return this.Qr.forEach(((e,n)=>t(n))),Ls.resolve()}getLastRemoteSnapshotVersion(e){return Ls.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ls.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),Ls.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.$r&&(this.$r=t),Ls.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new ah(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,Ls.resolve()}updateTargetData(e,t){return this.zn(t),Ls.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,Ls.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Qr.forEach(((o,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Qr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),Ls.waitFor(i).next((()=>r))}getTargetCount(e){return Ls.resolve(this.targetCount)}getTargetData(e,t){const n=this.Qr.get(t)||null;return Ls.resolve(n)}addMatchingKeys(e,t,n){return this.Ur.yr(t,n),Ls.resolve()}removeMatchingKeys(e,t,n){this.Ur.Sr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Ls.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),Ls.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Ur.vr(t);return Ls.resolve(n)}containsKey(e,t){return Ls.resolve(this.Ur.containsKey(t))}}class Th{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Us(0),this.zr=!1,this.zr=!0,this.jr=new bh,this.referenceDelegate=e(this),this.Hr=new kh(this),this.indexManager=new th,this.remoteDocumentCache=function(e){return new _h(e)}((e=>this.referenceDelegate.Jr(e))),this.serializer=new Jd(t),this.Yr=new vh(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new yh,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Wr[e.toKey()];return n||(n=new Sh(t,this.referenceDelegate),this.Wr[e.toKey()]=n),n}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,n){Wa("MemoryPersistence","Starting transaction:",e);const r=new Ih(this.Gr.next());return this.referenceDelegate.Zr(),n(r).next((e=>this.referenceDelegate.Xr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}ei(e,t){return Ls.or(Object.values(this.Wr).map((n=>()=>n.containsKey(e,t))))}}class Ih extends Ps{constructor(e){super(),this.currentSequenceNumber=e}}class Ch{constructor(e){this.persistence=e,this.ti=new wh,this.ni=null}static ri(e){return new Ch(e)}get ii(){if(this.ni)return this.ni;throw Ya()}addReference(e,t,n){return this.ti.addReference(n,t),this.ii.delete(n.toString()),Ls.resolve()}removeReference(e,t,n){return this.ti.removeReference(n,t),this.ii.add(n.toString()),Ls.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),Ls.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach((e=>this.ii.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.ii.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ls.forEach(this.ii,(n=>{const r=Ts.fromPath(n);return this.si(e,r).next((e=>{e||t.removeEntry(r,ws.min())}))})).next((()=>(this.ni=null,t.apply(e))))}updateLimboDocument(e,t){return this.si(e,t).next((e=>{e?this.ii.delete(t.toString()):this.ii.add(t.toString())}))}Jr(e){return 0}si(e,t){return Ls.or([()=>Ls.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Dh{constructor(e,t){this.persistence=e,this.oi=new iu((e=>Ws(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=fh(this,t)}static ri(e,t){return new Dh(e,t)}Zr(){}Xr(e){return Ls.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}sr(e){let t=0;return this.rr(e,(e=>{t++})).next((()=>t))}rr(e,t){return Ls.forEach(this.oi,((n,r)=>this.ar(e,n,r).next((e=>e?Ls.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.qr(e,(r=>this.ar(e,r,t).next((e=>{e||(n++,i.removeEntry(r,ws.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),Ls.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),Ls.resolve()}removeReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),Ls.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),Ls.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=tc(e.data.value)),t}ar(e,t,n){return Ls.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.oi.get(t);return Ls.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Nh{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Hi=n,this.Ji=r}static Yi(e,t){let n=mu(),r=mu();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Nh(e,t.fromCache,n,r)}}class Oh{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Ah{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=vt()?8:Fs(gt())>0?6:4}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.rs(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.ss(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new Oh;return this._s(e,t,n).next((r=>{if(i.result=r,this.Xi)return this.us(e,t,n,r.size)}))})).next((()=>i.result))}us(e,t,n,r){return n.documentReadCount<this.es?(Ha()<=Mt.DEBUG&&Wa("QueryEngine","SDK will not create cache indexes for query:",Zc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Ls.resolve()):(Ha()<=Mt.DEBUG&&Wa("QueryEngine","Query:",Zc(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ts*r?(Ha()<=Mt.DEBUG&&Wa("QueryEngine","The SDK decides to create cache indexes for query:",Zc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gc(t))):Ls.resolve())}rs(e,t){if(Hc(t))return Ls.resolve(null);let n=Gc(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Qc(t,null,"F"),n=Gc(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=mu(...r);return this.ns.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.cs(t,r);return this.ls(t,o,i,n.readTime)?this.rs(e,Qc(t,null,"F")):this.hs(e,o,t,n)}))))})))))}ss(e,t,n,r){return Hc(t)||r.isEqual(ws.min())?Ls.resolve(null):this.ns.getDocuments(e,n).next((i=>{const o=this.cs(t,i);return this.ls(t,o,n,r)?Ls.resolve(null):(Ha()<=Mt.DEBUG&&Wa("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Zc(t)),this.hs(e,o,t,Ds(r,Is)).next((e=>e)))}))}cs(e,t){let n=new _l(nu(e));return t.forEach(((t,r)=>{eu(e,r)&&(n=n.add(r))})),n}ls(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}_s(e,t,n){return Ha()<=Mt.DEBUG&&Wa("QueryEngine","Using full collection scan to execute query:",Zc(t)),this.ns.getDocumentsMatchingQuery(e,t,Os.min(),n)}hs(e,t,n,r){return this.ns.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}const Rh="LocalStore";class Ph{constructor(e,t,n,r){this.persistence=e,this.Ps=t,this.serializer=r,this.Ts=new wl(hs),this.Is=new iu((e=>jc(e)),Uc),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(n)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gh(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ts)))}}function Mh(e,t,n,r){return new Ph(e,t,n,r)}async function Lh(e,t){const n=Xa(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.As(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let a=mu();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({Rs:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function Fh(e){const t=Xa(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Hr.getLastRemoteSnapshotVersion(e)))}function jh(e,t,n){let r=mu(),i=mu();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=au();return n.forEach(((n,o)=>{const a=e.get(n);o.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(ws.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):Wa(Rh,"Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)})),{Vs:r,fs:i}}))}function Uh(e,t){const n=Xa(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=Bs),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Bh(e,t){const n=Xa(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Hr.getTargetData(e,t).next((i=>i?(r=i,Ls.resolve(r)):n.Hr.allocateTargetId(e).next((i=>(r=new Xd(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Hr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ts.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(e.targetId,e),n.Is.set(t,e.targetId)),e}))}async function Vh(e,t,n){const r=Xa(e),i=r.Ts.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!js(e))throw e;Wa(Rh,`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ts=r.Ts.remove(t),r.Is.delete(i.target)}function zh(e,t,n){const r=Xa(e);let i=ws.min(),o=mu();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=Xa(e),i=r.Is.get(n);return void 0!==i?Ls.resolve(r.Ts.get(i)):r.Hr.getTargetData(t,n)}(r,e,Gc(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.Ps.getDocumentsMatchingQuery(e,t,n?i:ws.min(),n?o:mu()))).next((e=>($h(r,tu(t),e),{documents:e,gs:o})))))}function $h(e,t,n){let r=e.Es.get(t)||ws.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Es.set(t,r)}class Hh{constructor(){this.activeTargetIds=vu()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Wh{constructor(){this.ho=new Hh,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,n){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Hh,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class qh{To(e){}shutdown(){}}const Gh="ConnectivityMonitor";class Kh{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Wa(Gh,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Wa(Gh,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Yh=null;function Qh(){return null===Yh?Yh=268435456+Math.round(2147483648*Math.random()):Yh++,"0x"+Yh.toString(16)}const Xh="RestConnection",Jh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Zh{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${n}/databases/${r}`,this.wo=this.databaseId.database===Bl?`project_id=${n}`:`project_id=${n}&database_id=${r}`}So(e,t,n,r,i){const o=Qh(),a=this.bo(e,t.toUriEncodedString());Wa(Xh,`Sending RPC '${e}' ${o}:`,a,n);const s={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(s,r,i),this.vo(e,a,s,n).then((t=>(Wa(Xh,`Received RPC '${e}' ${o}: `,t),t)),(t=>{throw Ga(Xh,`RPC '${e}' ${o} failed with error: `,t,"url: ",a,"request:",n),t}))}Co(e,t,n,r,i,o){return this.So(e,t,n,r,i)}Do(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+za,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}bo(e,t){const n=Jh[e];return`${this.po}/v1/${t}:${n}`}terminate(){}}class ef{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}const tf="WebChannelConnection";class nf extends Zh{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,n,r){const i=Qh();return new Promise(((o,a)=>{const s=new Da;s.setWithCredentials(!0),s.listenOnce(Oa.COMPLETE,(()=>{try{switch(s.getLastErrorCode()){case Aa.NO_ERROR:const t=s.getResponseJson();Wa(tf,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),o(t);break;case Aa.TIMEOUT:Wa(tf,`RPC '${e}' ${i} timed out`),a(new Za(Ja.DEADLINE_EXCEEDED,"Request time out"));break;case Aa.HTTP_ERROR:const n=s.getStatus();if(Wa(tf,`RPC '${e}' ${i} failed with status:`,n,"response text:",s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ja).indexOf(t)>=0?t:Ja.UNKNOWN}(t.status);a(new Za(e,t.message))}else a(new Za(Ja.UNKNOWN,"Server responded with status "+s.getStatus()))}else a(new Za(Ja.UNAVAILABLE,"Connection failed."));break;default:Ya()}}finally{Wa(tf,`RPC '${e}' ${i} completed.`)}}));const l=JSON.stringify(r);Wa(tf,`RPC '${e}' ${i} sending request:`,r),s.send(t,"POST",l,n,15)}))}Wo(e,t,n){const r=Qh(),i=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=La(),a=Ma(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.useFetchStreams=!0),this.Do(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const c=i.join("");Wa(tf,`Creating RPC '${e}' stream ${r}: ${c}`,s);const u=o.createWebChannel(c,s);let d=!1,h=!1;const f=new ef({Fo:t=>{h?Wa(tf,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(Wa(tf,`Opening RPC '${e}' stream ${r} transport.`),u.open(),d=!0),Wa(tf,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},Mo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,Na.EventType.OPEN,(()=>{h||(Wa(tf,`RPC '${e}' stream ${r} transport opened.`),f.Qo())})),p(u,Na.EventType.CLOSE,(()=>{h||(h=!0,Wa(tf,`RPC '${e}' stream ${r} transport closed`),f.Uo())})),p(u,Na.EventType.ERROR,(t=>{h||(h=!0,Ga(tf,`RPC '${e}' stream ${r} transport errored:`,t),f.Uo(new Za(Ja.UNAVAILABLE,"The operation could not be completed")))})),p(u,Na.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];Qa(!!i);const o=i,a=(null==o?void 0:o.error)||(null===(n=o[0])||void 0===n?void 0:n.error);if(a){Wa(tf,`RPC '${e}' stream ${r} received error:`,a);const t=a.status;let n=function(e){const t=ed[e];if(void 0!==t)return rd(t)}(t),i=a.message;void 0===n&&(n=Ja.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),h=!0,f.Uo(new Za(n,i)),u.close()}else Wa(tf,`RPC '${e}' stream ${r} received:`,i),f.Ko(i)}})),p(a,Pa.STAT_EVENT,(t=>{t.stat===Ra.PROXY?Wa(tf,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===Ra.NOPROXY&&Wa(tf,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.$o()}),0),f}}function rf(){return"undefined"!=typeof document?document:null}function of(e){return new Sd(e,!0)}class af{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Ti=e,this.timerId=t,this.Go=n,this.zo=r,this.jo=i,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),n=Math.max(0,Date.now()-this.Yo),r=Math.max(0,t-n);r>0&&Wa("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,r,(()=>(this.Yo=Date.now(),e()))),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){null!==this.Jo&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){null!==this.Jo&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}const sf="PersistentStream";class lf{constructor(e,t,n,r,i,o,a,s){this.Ti=e,this.n_=n,this.r_=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=s,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new af(e,t)}u_(){return 1===this.state||5===this.state||this.c_()}c_(){return 2===this.state||3===this.state}start(){this.__=0,4!==this.state?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&null===this.s_&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,(()=>this.T_())))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,4!==e?this.a_.reset():t&&t.code===Ja.RESOURCE_EXHAUSTED?(qa(t.toString()),qa("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===Ja.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.i_===t&&this.V_(n,r)}),(t=>{e((()=>{const e=new Za(Ja.UNKNOWN,"Fetching auth token failed: "+t.message);return this.m_(e)}))}))}V_(e,t){const n=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo((()=>{n((()=>this.listener.xo()))})),this.stream.No((()=>{n((()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,(()=>(this.c_()&&(this.state=3),Promise.resolve()))),this.listener.No())))})),this.stream.Lo((e=>{n((()=>this.m_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.__?this.g_(e):this.onNext(e)))}))}l_(){this.state=5,this.a_.Xo((async()=>{this.state=0,this.start()}))}m_(e){return Wa(sf,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget((()=>this.i_===e?t():(Wa(sf,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class cf extends lf{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Ya()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(Qa(void 0===t||"string"==typeof t),Il.fromBase64String(t||"")):(Qa(void 0===t||t instanceof Buffer||t instanceof Uint8Array),Il.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,s=a&&function(e){const t=void 0===e.code?Ja.UNKNOWN:rd(e.code);return new Za(t,e.message||"")}(a);n=new pd(r,i,o,s||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ad(e,r.document.name),o=Id(r.document.updateTime),a=r.document.createTime?Id(r.document.createTime):ws.min(),s=new dc({mapValue:{fields:r.document.fields}}),l=fc.newFoundDocument(i,o,a,s),c=r.targetIds||[],u=r.removedTargetIds||[];n=new hd(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Ad(e,r.document),o=r.readTime?Id(r.readTime):ws.min(),a=fc.newNoDocument(i,o),s=r.removedTargetIds||[];n=new hd([],s,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Ad(e,r.document),o=r.removedTargetIds||[];n=new hd([],o,i,null)}else{if(!("filter"in t))return Ya();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new Zu(r,i),a=e.targetId;n=new fd(a,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return ws.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?ws.min():t.readTime?Id(t.readTime):ws.min()}(e);return this.listener.p_(t,n)}y_(e){const t={};t.database=Md(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Bc(r)?{documents:Ud(e,r)}:{query:Bd(e,r).ht},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=kd(e,t.resumeToken);const r=_d(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(ws.min())>0){n.readTime=xd(e,t.snapshotVersion.toTimestamp());const r=_d(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ya()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.I_(t)}w_(e){const t={};t.database=Md(this.serializer),t.removeTarget=e,this.I_(t)}}class uf extends lf{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Qa(!!e.streamToken),this.lastStreamToken=e.streamToken,Qa(!e.writeResults||0===e.writeResults.length),this.listener.D_()}onNext(e){Qa(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=function(e,t){return e&&e.length>0?(Qa(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Id(e.updateTime):Id(t);return n.isEqual(ws.min())&&(n=Id(t)),new Pu(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Id(e.commitTime);return this.listener.v_(n,t)}C_(){const e={};e.database=Md(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>jd(this.serializer,e)))};this.I_(t)}}class df{}class hf extends df{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.F_=!1}M_(){if(this.F_)throw new Za(Ja.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,n,r){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,a]=i;return this.connection.So(e,Dd(t,n),r,o,a)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Ja.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Za(Ja.UNKNOWN,e.toString())}))}Co(e,t,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((o=>{let[a,s]=o;return this.connection.Co(e,Dd(t,n),r,a,s,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Ja.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Za(Ja.UNKNOWN,e.toString())}))}terminate(){this.F_=!0,this.connection.terminate()}}class ff{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){0===this.x_&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve()))))}q_(e){"Online"===this.state?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,"Online"===e&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(qa(t),this.N_=!1):Wa("OnlineStateTracker",t)}Q_(){null!==this.O_&&(this.O_.cancel(),this.O_=null)}}const pf="RemoteStore";class mf{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=i,this.z_.To((e=>{n.enqueueAndForget((async()=>{xf(this)&&(Wa(pf,"Restarting streams for network reachability change."),await async function(e){const t=Xa(e);t.W_.add(4),await vf(t),t.j_.set("Unknown"),t.W_.delete(4),await gf(t)}(this))}))})),this.j_=new ff(n,r)}}async function gf(e){if(xf(e))for(const t of e.G_)await t(!0)}async function vf(e){for(const t of e.G_)await t(!1)}function yf(e,t){const n=Xa(e);n.K_.has(t.targetId)||(n.K_.set(t.targetId,t),_f(n)?Sf(n):$f(n).c_()&&wf(n,t))}function bf(e,t){const n=Xa(e),r=$f(n);n.K_.delete(t),r.c_()&&Ef(n,t),0===n.K_.size&&(r.c_()?r.P_():xf(n)&&n.j_.set("Unknown"))}function wf(e,t){if(e.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ws.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}$f(e).y_(t)}function Ef(e,t){e.H_.Ne(t),$f(e).w_(t)}function Sf(e){e.H_=new gd({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>e.K_.get(t)||null,it:()=>e.datastore.serializer.databaseId}),$f(e).start(),e.j_.B_()}function _f(e){return xf(e)&&!$f(e).u_()&&e.K_.size>0}function xf(e){return 0===Xa(e).W_.size}function kf(e){e.H_=void 0}async function Tf(e){e.j_.set("Online")}async function If(e){e.K_.forEach(((t,n)=>{wf(e,t)}))}async function Cf(e,t){kf(e),_f(e)?(e.j_.q_(t),Sf(e)):e.j_.set("Unknown")}async function Df(e,t,n){if(e.j_.set("Online"),t instanceof pd&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.K_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.K_.delete(r),e.H_.removeTarget(r))}(e,t)}catch(n){Wa(pf,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Nf(e,n)}else if(t instanceof hd?e.H_.We(t):t instanceof fd?e.H_.Ze(t):e.H_.je(t),!n.isEqual(ws.min()))try{const t=await Fh(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.H_.ot(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.K_.get(r);i&&e.K_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.K_.get(t);if(!r)return;e.K_.set(t,r.withResumeToken(Il.EMPTY_BYTE_STRING,r.snapshotVersion)),Ef(e,t);const i=new Xd(r.target,t,n,r.sequenceNumber);wf(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Wa(pf,"Failed to raise snapshot:",t),await Nf(e,t)}}async function Nf(e,t,n){if(!js(t))throw t;e.W_.add(1),await vf(e),e.j_.set("Offline"),n||(n=()=>Fh(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Wa(pf,"Retrying IndexedDB access"),await n(),e.W_.delete(1),await gf(e)}))}function Of(e,t){return t().catch((n=>Nf(e,n,t)))}async function Af(e){const t=Xa(e),n=Hf(t);let r=t.U_.length>0?t.U_[t.U_.length-1].batchId:Bs;for(;Rf(t);)try{const e=await Uh(t.localStore,r);if(null===e){0===t.U_.length&&n.P_();break}r=e.batchId,Pf(t,e)}catch(e){await Nf(t,e)}Mf(t)&&Lf(t)}function Rf(e){return xf(e)&&e.U_.length<10}function Pf(e,t){e.U_.push(t);const n=Hf(e);n.c_()&&n.S_&&n.b_(t.mutations)}function Mf(e){return xf(e)&&!Hf(e).u_()&&e.U_.length>0}function Lf(e){Hf(e).start()}async function Ff(e){Hf(e).C_()}async function jf(e){const t=Hf(e);for(const n of e.U_)t.b_(n.mutations)}async function Uf(e,t,n){const r=e.U_.shift(),i=Xu.from(r,t,n);await Of(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Af(e)}async function Bf(e,t){t&&Hf(e).S_&&await async function(e,t){if(function(e){return nd(e)&&e!==Ja.ABORTED}(t.code)){const n=e.U_.shift();Hf(e).h_(),await Of(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Af(e)}}(e,t),Mf(e)&&Lf(e)}async function Vf(e,t){const n=Xa(e);n.asyncQueue.verifyOperationInProgress(),Wa(pf,"RemoteStore received new credentials");const r=xf(n);n.W_.add(3),await vf(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await gf(n)}async function zf(e,t){const n=Xa(e);t?(n.W_.delete(2),await gf(n)):t||(n.W_.add(2),await vf(n),n.j_.set("Unknown"))}function $f(e){return e.J_||(e.J_=function(e,t,n){const r=Xa(e);return r.M_(),new cf(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{xo:Tf.bind(null,e),No:If.bind(null,e),Lo:Cf.bind(null,e),p_:Df.bind(null,e)}),e.G_.push((async t=>{t?(e.J_.h_(),_f(e)?Sf(e):e.j_.set("Unknown")):(await e.J_.stop(),kf(e))}))),e.J_}function Hf(e){return e.Y_||(e.Y_=function(e,t,n){const r=Xa(e);return r.M_(),new uf(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{xo:()=>Promise.resolve(),No:Ff.bind(null,e),Lo:Bf.bind(null,e),D_:jf.bind(null,e),v_:Uf.bind(null,e)}),e.G_.push((async t=>{t?(e.Y_.h_(),await Af(e)):(await e.Y_.stop(),e.U_.length>0&&(Wa(pf,`Stopping write stream with ${e.U_.length} pending writes`),e.U_=[]))}))),e.Y_}class Wf{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new es,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,a=new Wf(e,t,o,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Za(Ja.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qf(e,t){if(qa("AsyncQueue",`${t}: ${e}`),js(e))return new Za(Ja.UNAVAILABLE,`${t}: ${e}`);throw e}class Gf{static emptySet(e){return new Gf(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Ts.comparator(t.key,n.key):(e,t)=>Ts.comparator(e.key,t.key),this.keyedMap=lu(),this.sortedSet=new wl(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Gf))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Gf;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Kf{constructor(){this.Z_=new wl(Ts.comparator)}track(e){const t=e.doc.key,n=this.Z_.get(t);n?0!==e.type&&3===n.type?this.Z_=this.Z_.insert(t,e):3===e.type&&1!==n.type?this.Z_=this.Z_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Z_=this.Z_.remove(t):1===e.type&&2===n.type?this.Z_=this.Z_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ya():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Yf{constructor(e,t,n,r,i,o,a,s,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new Yf(e,t,Gf.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Qf{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some((e=>e.ra()))}}class Xf{constructor(){this.queries=Jf(),this.onlineState="Unknown",this.ia=new Set}terminate(){!function(e,t){const n=Xa(e),r=n.queries;n.queries=Jf(),r.forEach(((e,n)=>{for(const r of n.ta)r.onError(t)}))}(this,new Za(Ja.ABORTED,"Firestore shutting down"))}}function Jf(){return new iu((e=>Jc(e)),Xc)}async function Zf(e,t){const n=Xa(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.na()&&t.ra()&&(r=2):(o=new Qf,r=t.ra()?0:1);try{switch(r){case 0:o.ea=await n.onListen(i,!0);break;case 1:o.ea=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=qf(e,`Initialization of query '${Zc(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,o),o.ta.push(t),t.sa(n.onlineState),o.ea&&t.oa(o.ea)&&rp(n)}async function ep(e,t){const n=Xa(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const e=o.ta.indexOf(t);e>=0&&(o.ta.splice(e,1),0===o.ta.length?i=t.ra()?0:1:!o.na()&&t.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function tp(e,t){const n=Xa(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.ta)e.oa(i)&&(r=!0);t.ea=i}}r&&rp(n)}function np(e,t,n){const r=Xa(e),i=r.queries.get(t);if(i)for(const o of i.ta)o.onError(n);r.queries.delete(t)}function rp(e){e.ia.forEach((e=>{e.next()}))}var ip,op;(op=ip||(ip={}))._a="default",op.Cache="cache";class ap{constructor(e,t,n){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=n||{}}oa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Yf(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache)return!0;if(!this.ra())return!0;const n="Offline"!==t;return(!this.options.Ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Pa(e){e=Yf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==ip.Cache}}class sp{constructor(e){this.key=e}}class lp{constructor(e){this.key=e}}class cp{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=mu(),this.mutatedKeys=mu(),this.ya=nu(e),this.wa=new Gf(this.ya)}get Sa(){return this.fa}ba(e,t){const n=t?t.Da:new Kf,r=t?t.wa:this.wa;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,a=!1;const s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=eu(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.va(c,u)||(n.track({type:2,doc:u}),f=!0,(s&&this.ya(u,s)>0||l&&this.ya(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(s||l)&&(a=!0)),f&&(u?(o=o.add(u),i=h?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{wa:o,Da:n,ls:a,mutatedKeys:i}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const o=e.Da.X_();o.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ya()}};return n(e)-n(t)}(e.type,t.type)||this.ya(e.doc,t.doc))),this.Ca(n),r=null!=r&&r;const a=t&&!r?this.Fa():[],s=0===this.pa.size&&this.current&&!r?1:0,l=s!==this.ga;return this.ga=s,0!==o.length||l?{snapshot:new Yf(this.query,e.wa,i,o,e.mutatedKeys,0===s,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Kf,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach((e=>this.fa=this.fa.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.fa=this.fa.delete(e))),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=mu(),this.wa.forEach((e=>{this.xa(e.key)&&(this.pa=this.pa.add(e.key))}));const t=[];return e.forEach((e=>{this.pa.has(e)||t.push(new lp(e))})),this.pa.forEach((n=>{e.has(n)||t.push(new sp(n))})),t}Oa(e){this.fa=e.gs,this.pa=mu();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Yf.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,0===this.ga,this.hasCachedResults)}}const up="SyncEngine";class dp{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class hp{constructor(e){this.key=e,this.Ba=!1}}class fp{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new iu((e=>Jc(e)),Xc),this.qa=new Map,this.Qa=new Set,this.$a=new wl(Ts.comparator),this.Ua=new Map,this.Ka=new wh,this.Wa={},this.Ga=new Map,this.za=ah.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return!0===this.ja}}async function pp(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Mp(e);let i;const o=r.ka.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Na()):i=await gp(r,t,n,!0),i}async function mp(e,t){const n=Mp(e);await gp(n,t,!0,!1)}async function gp(e,t,n,r){const i=await Bh(e.localStore,Gc(t)),o=i.targetId,a=e.sharedClientState.addLocalQueryTarget(o,n);let s;return r&&(s=await vp(e,t,o,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&yf(e.remoteStore,i),s}async function vp(e,t,n,r,i){e.Ha=(t,n,r)=>async function(e,t,n,r){let i=t.view.ba(n);i.ls&&(i=await zh(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ba(n,i)})));const o=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,o,a);return Dp(e,t.targetId,s.Ma),s.snapshot}(e,t,n,r);const o=await zh(e.localStore,t,!0),a=new cp(t,o.gs),s=a.ba(o.documents),l=dd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(s,e.isPrimaryClient,l);Dp(e,n,c.Ma);const u=new dp(t,n,a);return e.ka.set(t,u),e.qa.has(n)?e.qa.get(n).push(t):e.qa.set(n,[t]),c.snapshot}async function yp(e,t,n){const r=Xa(e),i=r.ka.get(t),o=r.qa.get(i.targetId);if(o.length>1)return r.qa.set(i.targetId,o.filter((e=>!Xc(e,t)))),void r.ka.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Vh(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&bf(r.remoteStore,i.targetId),Ip(r,i.targetId)})).catch(Ms)):(Ip(r,i.targetId),await Vh(r.localStore,i.targetId,!0))}async function bp(e,t){const n=Xa(e),r=n.ka.get(t),i=n.qa.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),bf(n.remoteStore,r.targetId))}async function wp(e,t){const n=Xa(e);try{const e=await function(e,t){const n=Xa(e),r=t.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const a=[];t.targetChanges.forEach(((o,s)=>{const l=i.get(s);if(!l)return;a.push(n.Hr.removeMatchingKeys(e,o.removedDocuments,s).next((()=>n.Hr.addMatchingKeys(e,o.addedDocuments,s))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(Il.EMPTY_BYTE_STRING,ws.min()).withLastLimboFreeSnapshotVersion(ws.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,o)&&a.push(n.Hr.updateTargetData(e,c))}));let s=au(),l=mu();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(jh(e,o,t.documentUpdates).next((e=>{s=e.Vs,l=e.fs}))),!r.isEqual(ws.min())){const t=n.Hr.getLastRemoteSnapshotVersion(e).next((t=>n.Hr.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return Ls.waitFor(a).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,s,l))).next((()=>s))})).then((e=>(n.Ts=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Ua.get(t);r&&(Qa(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Ba=!0:e.modifiedDocuments.size>0?Qa(r.Ba):e.removedDocuments.size>0&&(Qa(r.Ba),r.Ba=!1))})),await Ap(n,e,t)}catch(e){await Ms(e)}}function Ep(e,t,n){const r=Xa(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ka.forEach(((n,r)=>{const i=r.view.sa(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Xa(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.ta)i.sa(t)&&(r=!0)})),r&&rp(n)}(r.eventManager,t),e.length&&r.La.p_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Sp(e,t,n){const r=Xa(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Ua.get(t),o=i&&i.key;if(o){let e=new wl(Ts.comparator);e=e.insert(o,fc.newNoDocument(o,ws.min()));const n=mu().add(o),i=new ud(ws.min(),new Map,new wl(hs),e,n);await wp(r,i),r.$a=r.$a.remove(o),r.Ua.delete(t),Op(r)}else await Vh(r.localStore,t,!1).then((()=>Ip(r,t,n))).catch(Ms)}async function _p(e,t){const n=Xa(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Xa(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.ds.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let a=Ls.resolve();return o.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);Qa(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=mu();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Tp(n,r,null),kp(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ap(n,e)}catch(e){await Ms(e)}}async function xp(e,t,n){const r=Xa(e);try{const e=await function(e,t){const n=Xa(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Qa(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Tp(r,t,n),kp(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Ap(r,e)}catch(n){await Ms(n)}}function kp(e,t){(e.Ga.get(t)||[]).forEach((e=>{e.resolve()})),e.Ga.delete(t)}function Tp(e,t,n){const r=Xa(e);let i=r.Wa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Wa[r.currentUser.toKey()]=i}}function Ip(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.qa.get(t))e.ka.delete(r),n&&e.La.Ja(r,n);e.qa.delete(t),e.isPrimaryClient&&e.Ka.br(t).forEach((t=>{e.Ka.containsKey(t)||Cp(e,t)}))}function Cp(e,t){e.Qa.delete(t.path.canonicalString());const n=e.$a.get(t);null!==n&&(bf(e.remoteStore,n),e.$a=e.$a.remove(t),e.Ua.delete(n),Op(e))}function Dp(e,t,n){for(const r of n)r instanceof sp?(e.Ka.addReference(r.key,t),Np(e,r)):r instanceof lp?(Wa(up,"Document no longer in limbo: "+r.key),e.Ka.removeReference(r.key,t),e.Ka.containsKey(r.key)||Cp(e,r.key)):Ya()}function Np(e,t){const n=t.key,r=n.path.canonicalString();e.$a.get(n)||e.Qa.has(r)||(Wa(up,"New document in limbo: "+n),e.Qa.add(r),Op(e))}function Op(e){for(;e.Qa.size>0&&e.$a.size<e.maxConcurrentLimboResolutions;){const t=e.Qa.values().next().value;e.Qa.delete(t);const n=new Ts(_s.fromString(t)),r=e.za.next();e.Ua.set(r,new hp(n)),e.$a=e.$a.insert(n,r),yf(e.remoteStore,new Xd(Gc($c(n.path)),r,"TargetPurposeLimboResolution",Us.ae))}}async function Ap(e,t,n){const r=Xa(e),i=[],o=[],a=[];r.ka.isEmpty()||(r.ka.forEach(((e,s)=>{a.push(r.Ha(s,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(s.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(s.targetId,i?"current":"not-current")}if(e){i.push(e);const t=Nh.Yi(s.targetId,e);o.push(t)}})))})),await Promise.all(a),r.La.p_(i),await async function(e,t){const n=Xa(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Ls.forEach(t,(t=>Ls.forEach(t.Hi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Ls.forEach(t.Ji,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!js(e))throw e;Wa(Rh,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ts.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ts=n.Ts.insert(e,i)}}}(r.localStore,o))}async function Rp(e,t){const n=Xa(e);if(!n.currentUser.isEqual(t)){Wa(up,"User change. New user:",t.toKey());const e=await Lh(n.localStore,t);n.currentUser=t,function(e,t){e.Ga.forEach((e=>{e.forEach((e=>{e.reject(new Za(Ja.CANCELLED,t))}))})),e.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Ap(n,e.Rs)}}function Pp(e,t){const n=Xa(e),r=n.Ua.get(t);if(r&&r.Ba)return mu().add(r.key);{let e=mu();const r=n.qa.get(t);if(!r)return e;for(const t of r){const r=n.ka.get(t);e=e.unionWith(r.view.Sa)}return e}}function Mp(e){const t=Xa(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=wp.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Pp.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Sp.bind(null,t),t.La.p_=tp.bind(null,t.eventManager),t.La.Ja=np.bind(null,t.eventManager),t}function Lp(e){const t=Xa(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=_p.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=xp.bind(null,t),t}class Fp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=of(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return Mh(this.persistence,new Ah,e.initialUser,this.serializer)}Xa(e){return new Th(Ch.ri,this.serializer)}Za(e){return new Wh}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fp.provider={build:()=>new Fp};class jp extends Fp{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Qa(this.persistence.referenceDelegate instanceof Dh);const n=this.persistence.referenceDelegate.garbageCollector;return new dh(n,e.asyncQueue,t)}Xa(e){const t=void 0!==this.cacheSizeBytes?oh.withCacheSize(this.cacheSizeBytes):oh.DEFAULT;return new Th((e=>Dh.ri(e,t)),this.serializer)}}class Up{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Ep(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Rp.bind(null,this.syncEngine),await zf(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Xf}createDatastore(e){const t=of(e.databaseInfo.databaseId),n=function(e){return new nf(e)}(e.databaseInfo);return function(e,t,n,r){return new hf(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new mf(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Ep(this.syncEngine,e,0)),Kh.D()?new Kh:new qh)}createSyncEngine(e,t){return function(e,t,n,r,i,o,a){const s=new fp(e,t,n,r,i,o);return a&&(s.ja=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Xa(e);Wa(pf,"RemoteStore shutting down."),t.W_.add(5),await vf(t),t.z_.shutdown(),t.j_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Up.provider={build:()=>new Up};class Bp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):qa("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Vp="FirestoreClient";class zp{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Va.UNAUTHENTICATED,this.clientId=ds.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{Wa(Vp,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Wa(Vp,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new es;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=qf(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function $p(e,t){e.asyncQueue.verifyOperationInProgress(),Wa(Vp,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Lh(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Hp(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Wp(e);Wa(Vp,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>Vf(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Vf(t.remoteStore,n))),e._onlineComponents=t}async function Wp(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Wa(Vp,"Using user provided OfflineComponentProvider");try{await $p(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===Ja.FAILED_PRECONDITION||e.code===Ja.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;Ga("Error using user provided cache. Falling back to memory cache: "+n),await $p(e,new Fp)}}else Wa(Vp,"Using default OfflineComponentProvider"),await $p(e,new jp(void 0));return e._offlineComponents}async function qp(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Wa(Vp,"Using user provided OnlineComponentProvider"),await Hp(e,e._uninitializedComponentsProvider._online)):(Wa(Vp,"Using default OnlineComponentProvider"),await Hp(e,new Up))),e._onlineComponents}function Gp(e){return qp(e).then((e=>e.syncEngine))}async function Kp(e){const t=await qp(e),n=t.eventManager;return n.onListen=pp.bind(null,t.syncEngine),n.onUnlisten=yp.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=mp.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=bp.bind(null,t.syncEngine),n}function Yp(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new es;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new Bp({next:s=>{o.su(),t.enqueueAndForget((()=>ep(e,a)));const l=s.docs.has(n);!l&&s.fromCache?i.reject(new Za(Ja.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&s.fromCache&&r&&"server"===r.source?i.reject(new Za(Ja.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),a=new ap($c(n.path),o,{includeMetadataChanges:!0,Ta:!0});return Zf(e,a)}(await Kp(e),e.asyncQueue,t,n,r))),r.promise}function Qp(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new es;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new Bp({next:n=>{o.su(),t.enqueueAndForget((()=>ep(e,a))),n.fromCache&&"server"===r.source?i.reject(new Za(Ja.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new ap(n,o,{includeMetadataChanges:!0,Ta:!0});return Zf(e,a)}(await Kp(e),e.asyncQueue,t,n,r))),r.promise}function Xp(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Jp=new Map;function Zp(e,t,n){if(!n)throw new Za(Ja.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function em(e){if(!Ts.isDocumentKey(e))throw new Za(Ja.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function tm(e){if(Ts.isDocumentKey(e))throw new Za(Ja.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function nm(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Ya()}function rm(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Za(Ja.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=nm(e);throw new Za(Ja.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}const im="firestore.googleapis.com",om=!0;class am{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Za(Ja.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=im,this.ssl=om}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:om;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=ih;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<lh)throw new Za(Ja.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Za(Ja.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Xp(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Za(Ja.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new Za(Ja.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new Za(Ja.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sm{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new am({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Za(Ja.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Za(Ja.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new am(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new ns;switch(e.type){case"firstParty":return new as(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Za(Ja.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Jp.get(e);t&&(Wa("ComponentProvider","Removing Datastore"),Jp.delete(e),t.terminate())}(this),Promise.resolve()}}function lm(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(e=rm(e,sm))._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:e._getEmulatorOptions()}),s=`${t}:${n}`;o.host!==im&&o.host!==s&&Ga("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},o),{host:s,ssl:!1,emulatorOptions:r});if(!St(l,a)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Va.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[lt(JSON.stringify({alg:"none",type:"JWT"})),lt(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new Za(Ja.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Va(o)}e._authCredentials=new rs(new ts(t,n))}}class cm{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new cm(this.firestore,e,this._query)}}class um{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new dm(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new um(this.firestore,e,this._key)}}class dm extends cm{constructor(e,t,n){super(e,t,$c(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new um(this.firestore,null,new Ts(e))}withConverter(e){return new dm(this.firestore,e,this._path)}}function hm(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Dt(e),Zp("collection","path",t),e instanceof sm){const n=_s.fromString(t,...r);return tm(n),new dm(e,null,n)}{if(!(e instanceof um||e instanceof dm))throw new Za(Ja.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(_s.fromString(t,...r));return tm(n),new dm(e.firestore,null,n)}}function fm(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Dt(e),1===arguments.length&&(t=ds.newId()),Zp("doc","path",t),e instanceof sm){const n=_s.fromString(t,...r);return em(n),new um(e,null,new Ts(n))}{if(!(e instanceof um||e instanceof dm))throw new Za(Ja.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(_s.fromString(t,...r));return em(n),new um(e.firestore,e instanceof dm?e.converter:null,new Ts(n))}}const pm="AsyncQueue";class mm{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new af(this,"async_queue_retry"),this.Su=()=>{const e=rf();e&&Wa(pm,"Visibility state changed to "+e.visibilityState),this.a_.t_()},this.bu=e;const t=rf();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=rf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise((()=>{}));const t=new es;return this.vu((()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Vu.push(e),this.Cu())))}async Cu(){if(0!==this.Vu.length){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(bO){if(!js(bO))throw bO;Wa(pm,"Operation failed with retryable error: "+bO)}this.Vu.length>0&&this.a_.Xo((()=>this.Cu()))}}vu(e){const t=this.bu.then((()=>(this.pu=!0,e().catch((e=>{this.gu=e,this.pu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw qa("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.pu=!1,e))))));return this.bu=t,t}enqueueAfterDelay(e,t,n){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const r=Wf.createAndSchedule(this,e,t,n,(e=>this.Fu(e)));return this.fu.push(r),r}Du(){this.gu&&Ya()}verifyOperationInProgress(){}async Mu(){let e;do{e=this.bu,await e}while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then((()=>{this.fu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.fu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Mu()}))}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function gm(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class vm extends sm{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new mm,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new mm(e),this._firestoreClient=void 0,await e}}}function ym(e){if(e._terminated)throw new Za(Ja.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||bm(e),e._firestoreClient}function bm(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new Ul(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Xp(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new zp(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class wm{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wm(Il.fromBase64String(e))}catch(e){throw new Za(Ja.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new wm(Il.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Em{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Za(Ja.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ks(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Sm{constructor(e){this._methodName=e}}class _m{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Za(Ja.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Za(Ja.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return hs(this._lat,e._lat)||hs(this._long,e._long)}}class xm{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const km=/^__.*__$/;class Tm{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Hu(e,this.data,this.fieldMask,t,this.fieldTransforms):new $u(e,this.data,t,this.fieldTransforms)}}class Im{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Hu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Cm(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ya()}}class Dm{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Bu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Dm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ku({path:n,Qu:!1});return r.$u(e),r}Uu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ku({path:n,Qu:!1});return r.Bu(),r}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return qm(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(0===e.length)throw this.Wu("Document fields must not be empty");if(Cm(this.Lu)&&km.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class Nm{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||of(e)}ju(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Dm({Lu:e,methodName:t,zu:n,path:ks.emptyPath(),Qu:!1,Gu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Om(e){const t=e._freezeSettings(),n=of(e._databaseId);return new Nm(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Am(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.ju(o.merge||o.mergeFields?2:0,t,n,i);zm("Data must be an object, but it was:",a,r);const s=Bm(r,a);let l,c;if(o.merge)l=new kl(a.fieldMask),c=a.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=$m(t,r,n);if(!a.contains(i))throw new Za(Ja.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Gm(e,i)||e.push(i)}l=new kl(e),c=a.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=a.fieldTransforms;return new Tm(new dc(s),l,c)}class Rm extends Sm{_toFieldTransform(e){if(2!==e.Lu)throw 1===e.Lu?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Rm}}function Pm(e,t,n){return new Dm({Lu:3,zu:t.settings.zu,methodName:e._methodName,Qu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Mm extends Sm{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=Pm(this,e,!0),n=this.Hu.map((e=>Um(e,t))),r=new Tu(n);return new Ru(e.path,r)}isEqual(e){return e instanceof Mm&&St(this.Hu,e.Hu)}}function Lm(e,t,n,r){const i=e.ju(1,t,n);zm("Data must be an object, but it was:",i,r);const o=[],a=dc.empty();yl(r,((e,r)=>{const s=Wm(t,e,n);r=Dt(r);const l=i.Uu(s);if(r instanceof Rm)o.push(s);else{const e=Um(r,l);null!=e&&(o.push(s),a.set(s,e))}}));const s=new kl(o);return new Im(a,s,i.fieldTransforms)}function Fm(e,t,n,r,i,o){const a=e.ju(1,t,n),s=[$m(t,r,n)],l=[i];if(o.length%2!=0)throw new Za(Ja.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)s.push($m(t,o[h])),l.push(o[h+1]);const c=[],u=dc.empty();for(let h=s.length-1;h>=0;--h)if(!Gm(c,s[h])){const e=s[h];let t=l[h];t=Dt(t);const n=a.Uu(e);if(t instanceof Rm)c.push(e);else{const r=Um(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new kl(c);return new Im(u,d,a.fieldTransforms)}function jm(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Um(n,e.ju(r?4:3,t))}function Um(e,t){if(Vm(e=Dt(e)))return zm("Unsupported field value:",t,e),Bm(e,t);if(e instanceof Sm)return function(e,t){if(!Cm(t.Lu))throw t.Wu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Wu(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Qu&&4!==t.Lu)throw t.Wu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Um(i,t.Ku(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Dt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return wu(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=bs.fromDate(e);return{timestampValue:xd(t.serializer,n)}}if(e instanceof bs){const n=new bs(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:xd(t.serializer,n)}}if(e instanceof _m)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof wm)return{bytesValue:kd(t.serializer,e._byteString)};if(e instanceof um){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Wu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Cd(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof xm)return function(e,t){return{mapValue:{fields:{[zl]:{stringValue:Wl},[ql]:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.Wu("VectorValues must only contain numeric values.");return yu(t.serializer,e)}))}}}}}}(e,t);throw t.Wu(`Unsupported field value: ${nm(e)}`)}(e,t)}function Bm(e,t){const n={};return bl(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):yl(e,((e,r)=>{const i=Um(r,t.qu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Vm(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof bs||e instanceof _m||e instanceof wm||e instanceof um||e instanceof Sm||e instanceof xm)}function zm(e,t,n){if(!Vm(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=nm(n);throw"an object"===r?t.Wu(e+" a custom object"):t.Wu(e+" "+r)}}function $m(e,t,n){if((t=Dt(t))instanceof Em)return t._internalPath;if("string"==typeof t)return Wm(e,t);throw qm("Field path arguments must be of type string or ",e,!1,void 0,n)}const Hm=new RegExp("[~\\*/\\[\\]]");function Wm(e,t,n){if(t.search(Hm)>=0)throw qm(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Em(...t.split("."))._internalPath}catch(d_){throw qm(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function qm(e,t,n,r,i){const o=r&&!r.isEmpty(),a=void 0!==i;let s=`Function ${t}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new Za(Ja.INVALID_ARGUMENT,s+e+l)}function Gm(e,t){return e.some((e=>e.isEqual(t)))}class Km{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new um(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ym(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Qm("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Ym extends Km{data(){return super.data()}}function Qm(e,t){return"string"==typeof t?Wm(e,t):t instanceof Em?t._internalPath:t._delegate._internalPath}function Xm(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Za(Ja.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jm{}class Zm extends Jm{}function eg(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof Jm&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof rg)).length,n=e.filter((e=>e instanceof tg)).length;if(t>1||t>0&&n>0)throw new Za(Ja.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class tg extends Zm{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new tg(e,t,n)}_apply(e){const t=this._parse(e);return ag(e._query,t),new cm(e.firestore,e.converter,Yc(e._query,t))}_parse(e){const t=Om(e.firestore),n=function(e,t,n,r,i,o,a){let s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Za(Ja.INVALID_ARGUMENT,`Invalid Query. You can't perform '${o}' queries on documentId().`);if("in"===o||"not-in"===o){og(a,o);const t=[];for(const n of a)t.push(ig(r,e,n));s={arrayValue:{values:t}}}else s=ig(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||og(a,o),s=jm(n,t,a,"in"===o||"not-in"===o);return wc.create(i,o,s)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function ng(e,t,n){const r=t,i=Qm("where",e);return tg._create(i,r,n)}class rg extends Jm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new rg(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Ec.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)ag(n,i),n=Yc(n,i)}(e._query,t),new cm(e.firestore,e.converter,Yc(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function ig(e,t,n){if("string"==typeof(n=Dt(n))){if(""===n)throw new Za(Ja.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Wc(t)&&-1!==n.indexOf("/"))throw new Za(Ja.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(_s.fromString(n));if(!Ts.isDocumentKey(r))throw new Za(Ja.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return nc(e,new Ts(r))}if(n instanceof um)return nc(e,n._key);throw new Za(Ja.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nm(n)}.`)}function og(e,t){if(!Array.isArray(e)||0===e.length)throw new Za(Ja.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function ag(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Za(Ja.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Za(Ja.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class sg{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Gl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nl(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ol(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ya()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return yl(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[ql].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>Nl(e.doubleValue)));return new xm(i)}convertGeoPoint(e){return new _m(Nl(e.latitude),Nl(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Fl(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(jl(e));default:return null}}convertTimestamp(e){const t=Dl(e);return new bs(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=_s.fromString(e);Qa(Qd(n));const r=new Vl(n.get(1),n.get(3)),i=new Ts(n.popFirst(5));return r.isEqual(t)||qa(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function lg(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class cg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ug extends Km{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new dg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Qm("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class dg extends ug{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class hg{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new cg(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new dg(this._firestore,this._userDataWriter,n.key,n,new cg(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Za(Ja.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new dg(e._firestore,e._userDataWriter,n.doc.key,n.doc,new cg(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new dg(e._firestore,e._userDataWriter,t.doc.key,t.doc,new cg(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:fg(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function fg(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ya()}}class pg extends sg{constructor(e){super(),this.firestore=e}convertBytes(e){return new wm(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new um(this.firestore,null,t)}}function mg(e){e=rm(e,cm);const t=rm(e.firestore,vm),n=ym(t),r=new pg(t);return Xm(e._query),Qp(n,e._query).then((n=>new hg(t,r,e,n)))}function gg(e,t,n){e=rm(e,um);const r=rm(e.firestore,vm),i=Om(r);let o;for(var a=arguments.length,s=new Array(a>3?a-3:0),l=3;l<a;l++)s[l-3]=arguments[l];return o="string"==typeof(t=Dt(t))||t instanceof Em?Fm(i,"updateDoc",e._key,t,n,s):Lm(i,"updateDoc",e._key,t),wg(r,[o.toMutation(e._key,Mu.exists(!0))])}function vg(e){return wg(rm(e.firestore,vm),[new Ku(e._key,Mu.none())])}function yg(e,t){const n=rm(e.firestore,vm),r=fm(e),i=lg(e.converter,t);return wg(n,[Am(Om(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Mu.exists(!1))]).then((()=>r))}function bg(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,a;e=Dt(e);let s={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||gm(n[l])||(s=n[l],l++);const c={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(gm(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(o=e.error)||void 0===o?void 0:o.bind(e),n[l+2]=null===(a=e.complete)||void 0===a?void 0:a.bind(e)}let u,d,h;if(e instanceof um)d=rm(e.firestore,vm),h=$c(e._key.path),u={next:t=>{n[l]&&n[l](Eg(d,e,t))},error:n[l+1],complete:n[l+2]};else{const t=rm(e,cm);d=rm(t.firestore,vm),h=t._query;const r=new pg(d);u={next:e=>{n[l]&&n[l](new hg(d,r,t,e))},error:n[l+1],complete:n[l+2]},Xm(e._query)}return function(e,t,n,r){const i=new Bp(r),o=new ap(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>Zf(await Kp(e),o))),()=>{i.su(),e.asyncQueue.enqueueAndForget((async()=>ep(await Kp(e),o)))}}(ym(d),h,c,u)}function wg(e,t){return function(e,t){const n=new es;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Lp(e);try{const e=await function(e,t){const n=Xa(e),r=bs.now(),i=t.reduce(((e,t)=>e.add(t.key)),mu());let o,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let s=au(),l=mu();return n.ds.getEntries(e,i).next((e=>{s=e,s.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,s))).next((i=>{o=i;const a=[];for(const e of t){const t=Vu(e,o.get(e.key).overlayedDocument);null!=t&&a.push(new Hu(e.key,t,hc(t.value.mapValue),Mu.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)})).next((t=>{a=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:cu(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Wa[e.currentUser.toKey()];r||(r=new wl(hs)),r=r.insert(t,n),e.Wa[e.currentUser.toKey()]=r}(r,e.batchId,n),await Ap(r,e.changes),await Af(r.remoteStore)}catch(e){const t=qf(e,"Failed to persist write");n.reject(t)}}(await Gp(e),t,n))),n.promise}(ym(e),t)}function Eg(e,t,n){const r=n.docs.get(t._key),i=new pg(e);return new ug(e,i,t._key,r,new cg(n.hasPendingWrites,n.fromCache),t.converter)}function Sg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Mm("arrayUnion",t)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){za=e}(Wn),Bn(new Nt("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),a=new vm(new is(e.getProvider("auth-internal")),new ls(o,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Za(Ja.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vl(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),Kn(Ua,Ba,e),Kn(Ua,Ba,"esm2017")}();const _g=qn({apiKey:"AIzaSyBlkvKX9nOJLPsoHtKcHAxxBtHHjOaWso8",authDomain:"taskly-1ec10.firebaseapp.com",projectId:"taskly-1ec10",storageBucket:"taskly-1ec10.firebasestorage.app",messagingSenderId:"420087081166",appId:"1:420087081166:web:128f957e5a6821821a089f",measurementId:"G-CEGY9Q9H16"}),xg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gn();const t=Vn(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Vn(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(St(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;dr(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:va,persistence:[Io,co,ho]}),r=pt("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Ea)return;const r=null===t||void 0===t?void 0:t.token;Sa!==r&&(Sa=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){Dt(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){Dt(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var i;const o=ht("auth");return o&&Ai(n,`http://${o}`),n}(_g),kg=new Yi,Tg=function(e,t){const n="object"==typeof e?e:Gn(),r="string"==typeof e?e:t||Bl,i=Vn(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=(e=>{const t=ht(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&lm(i,...e)}return i}(_g);var Ig=n(579);const Cg=(0,t.createContext)(),Dg=e=>{let{children:n}=e;const[r,i]=(0,t.useState)((()=>"true"===localStorage.getItem("darkMode")));return(0,t.useEffect)((()=>{r?document.body.classList.add("dark-mode"):document.body.classList.remove("dark-mode"),localStorage.setItem("darkMode",r)}),[r]),(0,Ig.jsx)(Cg.Provider,{value:{darkMode:r,setDarkMode:i},children:n})},Ng=()=>{const{darkMode:e,setDarkMode:n}=(0,t.useContext)(Cg);return(0,Ig.jsx)("button",{className:"dark-mode-toggle",onClick:()=>{n(!e)},children:e?"Light Mode":"Dark Mode"})},Og=()=>{const[e,n]=(0,t.useState)("");return(0,Ig.jsxs)("div",{className:"signin-container",children:[(0,Ig.jsx)(Ng,{}),(0,Ig.jsxs)("div",{className:"signin-card",children:[(0,Ig.jsx)("h1",{children:"Taskly"}),(0,Ig.jsx)("h2",{children:"Sign In"}),e&&(0,Ig.jsx)("p",{className:"error-message",children:e}),(0,Ig.jsx)("button",{onClick:async()=>{try{const e=await async function(e,t,n){if(zn(e.app))return Promise.reject(hr(e,"operation-not-supported-in-this-environment"));const r=wi(e);mr(e,t,qi);const i=Ro(r,n);return new Bo(r,"signInViaPopup",t,i).executeNotNull()}(xg,kg),t=e.user;await function(e,t,n){e=rm(e,um);const r=rm(e.firestore,vm),i=lg(e.converter,t,n);return wg(r,[Am(Om(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Mu.none())])}(fm(Tg,"users",t.email),{uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL}),window.location.href="/dashboard"}catch(e){n("Failed to sign in with Google. Please try again.")}},className:"signin-button",children:"Sign In with Google"})]})]})};var Ag=n(7950);function Rg(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Pg=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")(),Mg=()=>Math.random().toString(36).substring(7).split("").join("."),Lg={INIT:`@@redux/INIT${Mg()}`,REPLACE:`@@redux/REPLACE${Mg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Mg()}`};function Fg(e){if("object"!==typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function jg(e,t,n){if("function"!==typeof e)throw new Error(Rg(2));if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(Rg(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(Rg(1));return n(jg)(e,t)}let r=e,i=t,o=new Map,a=o,s=0,l=!1;function c(){a===o&&(a=new Map,o.forEach(((e,t)=>{a.set(t,e)})))}function u(){if(l)throw new Error(Rg(3));return i}function d(e){if("function"!==typeof e)throw new Error(Rg(4));if(l)throw new Error(Rg(5));let t=!0;c();const n=s++;return a.set(n,e),function(){if(t){if(l)throw new Error(Rg(6));t=!1,c(),a.delete(n),o=null}}}function h(e){if(!Fg(e))throw new Error(Rg(7));if("undefined"===typeof e.type)throw new Error(Rg(8));if("string"!==typeof e.type)throw new Error(Rg(17));if(l)throw new Error(Rg(9));try{l=!0,i=r(i,e)}finally{l=!1}return(o=a).forEach((e=>{e()})),e}h({type:Lg.INIT});return{dispatch:h,subscribe:d,getState:u,replaceReducer:function(e){if("function"!==typeof e)throw new Error(Rg(10));r=e,h({type:Lg.REPLACE})},[Pg]:function(){const e=d;return{subscribe(t){if("object"!==typeof t||null===t)throw new Error(Rg(11));function n(){const e=t;e.next&&e.next(u())}n();return{unsubscribe:e(n)}},[Pg](){return this}}}}}function Ug(e,t){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t(e.apply(this,r))}}function Bg(e,t){if("function"===typeof e)return Ug(e,t);if("object"!==typeof e||null===e)throw new Error(Rg(16));const n={};for(const r in e){const i=e[r];"function"===typeof i&&(n[r]=Ug(i,t))}return n}function Vg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?e=>e:1===t.length?t[0]:t.reduce(((e,t)=>function(){return e(t(...arguments))}))}n(7237);var zg=t.version.startsWith("19"),$g=Symbol.for(zg?"react.transitional.element":"react.element"),Hg=Symbol.for("react.portal"),Wg=Symbol.for("react.fragment"),qg=Symbol.for("react.strict_mode"),Gg=Symbol.for("react.profiler"),Kg=Symbol.for("react.consumer"),Yg=Symbol.for("react.context"),Qg=Symbol.for("react.forward_ref"),Xg=Symbol.for("react.suspense"),Jg=Symbol.for("react.suspense_list"),Zg=Symbol.for("react.memo"),ev=Symbol.for("react.lazy"),tv=Qg,nv=Zg;function rv(e){if("object"===typeof e&&null!==e){const{$$typeof:t}=e;switch(t){case $g:switch(e=e.type){case Wg:case Gg:case qg:case Xg:case Jg:return e;default:switch(e=e&&e.$$typeof){case Yg:case Qg:case ev:case Zg:case Kg:return e;default:return t}}case Hg:return t}}}function iv(e,t,n,r,i){let o,a,s,l,c,{areStatesEqual:u,areOwnPropsEqual:d,areStatePropsEqual:h}=i,f=!1;function p(i,f){const p=!d(f,a),m=!u(i,o,f,a);return o=i,a=f,p&&m?(s=e(o,a),t.dependsOnOwnProps&&(l=t(r,a)),c=n(s,l,a),c):p?(e.dependsOnOwnProps&&(s=e(o,a)),t.dependsOnOwnProps&&(l=t(r,a)),c=n(s,l,a),c):m?function(){const t=e(o,a),r=!h(t,s);return s=t,r&&(c=n(s,l,a)),c}():c}return function(i,u){return f?p(i,u):(o=i,a=u,s=e(o,a),l=t(r,a),c=n(s,l,a),f=!0,c)}}function ov(e){return function(t){const n=e(t);function r(){return n}return r.dependsOnOwnProps=!1,r}}function av(e){return e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function sv(e,t){return function(t,n){let{displayName:r}=n;const i=function(e,t){return i.dependsOnOwnProps?i.mapToProps(e,t):i.mapToProps(e,void 0)};return i.dependsOnOwnProps=!0,i.mapToProps=function(t,n){i.mapToProps=e,i.dependsOnOwnProps=av(e);let r=i(t,n);return"function"===typeof r&&(i.mapToProps=r,i.dependsOnOwnProps=av(r),r=i(t,n)),r},i}}function lv(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function cv(e,t,n){return{...n,...e,...t}}function uv(e){e()}var dv={notify(){},get:()=>[]};function hv(e,t){let n,r=dv,i=0,o=!1;function a(){c.onStateChange&&c.onStateChange()}function s(){i++,n||(n=t?t.addNestedSub(a):e.subscribe(a),r=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){uv((()=>{let t=e;for(;t;)t.callback(),t=t.next}))},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){r&&null!==e&&(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}())}function l(){i--,n&&0===i&&(n(),n=void 0,r.clear(),r=dv)}const c={addNestedSub:function(e){s();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),l())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:a,isSubscribed:function(){return o},trySubscribe:function(){o||(o=!0,s())},tryUnsubscribe:function(){o&&(o=!1,l())},getListeners:()=>r};return c}var fv=(()=>!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement))(),pv=(()=>"undefined"!==typeof navigator&&"ReactNative"===navigator.product)(),mv=(()=>fv||pv?t.useLayoutEffect:t.useEffect)();function gv(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function vv(e,t){if(gv(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!gv(e[n[i]],t[n[i]]))return!1;return!0}var yv={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},bv={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},wv={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Ev={[tv]:{$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},[nv]:wv};function Sv(e){return rv(e)===Zg?wv:Ev[e.$$typeof]||yv}var _v=Object.defineProperty,xv=Object.getOwnPropertyNames,kv=Object.getOwnPropertySymbols,Tv=Object.getOwnPropertyDescriptor,Iv=Object.getPrototypeOf,Cv=Object.prototype;function Dv(e,t){if("string"!==typeof t){if(Cv){const n=Iv(t);n&&n!==Cv&&Dv(e,n)}let n=xv(t);kv&&(n=n.concat(kv(t)));const r=Sv(e),i=Sv(t);for(let o=0;o<n.length;++o){const a=n[o];if(!bv[a]&&(!i||!i[a])&&(!r||!r[a])){const n=Tv(t,a);try{_v(e,a,n)}catch(bO){}}}}return e}var Nv=Symbol.for("react-redux-context"),Ov="undefined"!==typeof globalThis?globalThis:{};function Av(){if(!t.createContext)return{};const e=Ov[Nv]??=new Map;let n=e.get(t.createContext);return n||(n=t.createContext(null),e.set(t.createContext,n)),n}var Rv=Av(),Pv=[null,null];function Mv(e,t,n,r,i,o){e.current=r,n.current=!1,i.current&&(i.current=null,o())}function Lv(e,t){return e===t}var Fv=function(e,n,r){let{pure:i,areStatesEqual:o=Lv,areOwnPropsEqual:a=vv,areStatePropsEqual:s=vv,areMergedPropsEqual:l=vv,forwardRef:c=!1,context:u=Rv}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const d=u,h=function(e){return e?"function"===typeof e?sv(e):lv(e,"mapStateToProps"):ov((()=>({})))}(e),f=function(e){return e&&"object"===typeof e?ov((t=>function(e,t){const n={};for(const r in e){const i=e[r];"function"===typeof i&&(n[r]=function(){return t(i(...arguments))})}return n}(e,t))):e?"function"===typeof e?sv(e):lv(e,"mapDispatchToProps"):ov((e=>({dispatch:e})))}(n),p=function(e){return e?"function"===typeof e?function(e){return function(t,n){let r,{displayName:i,areMergedPropsEqual:o}=n,a=!1;return function(t,n,i){const s=e(t,n,i);return a?o(s,r)||(r=s):(a=!0,r=s),r}}}(e):lv(e,"mergeProps"):()=>cv}(r),m=Boolean(e);return e=>{const n=e.displayName||e.name||"Component",r=`Connect(${n})`,i={shouldHandleStateChanges:m,displayName:r,wrappedComponentName:n,WrappedComponent:e,initMapStateToProps:h,initMapDispatchToProps:f,initMergeProps:p,areStatesEqual:o,areStatePropsEqual:s,areOwnPropsEqual:a,areMergedPropsEqual:l};function u(n){const[r,o,a]=t.useMemo((()=>{const{reactReduxForwardedRef:e,...t}=n;return[n.context,e,t]}),[n]),s=t.useMemo((()=>d),[r,d]),l=t.useContext(s),c=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch),u=Boolean(l)&&Boolean(l.store);const h=c?n.store:l.store,f=u?l.getServerState:h.getState,p=t.useMemo((()=>function(e,t){let{initMapStateToProps:n,initMapDispatchToProps:r,initMergeProps:i,...o}=t;return iv(n(e,o),r(e,o),i(e,o),e,o)}(h.dispatch,i)),[h]),[g,v]=t.useMemo((()=>{if(!m)return Pv;const e=hv(h,c?void 0:l.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[h,c,l]),y=t.useMemo((()=>c?l:{...l,subscription:g}),[c,l,g]),b=t.useRef(void 0),w=t.useRef(a),E=t.useRef(void 0),S=t.useRef(!1),_=t.useRef(!1),x=t.useRef(void 0);mv((()=>(_.current=!0,()=>{_.current=!1})),[]);const k=t.useMemo((()=>()=>E.current&&a===w.current?E.current:p(h.getState(),a)),[h,a]),T=t.useMemo((()=>e=>g?function(e,t,n,r,i,o,a,s,l,c,u){if(!e)return()=>{};let d=!1,h=null;const f=()=>{if(d||!s.current)return;const e=t.getState();let n,f;try{n=r(e,i.current)}catch(bO){f=bO,h=bO}f||(h=null),n===o.current?a.current||c():(o.current=n,l.current=n,a.current=!0,u())};return n.onStateChange=f,n.trySubscribe(),f(),()=>{if(d=!0,n.tryUnsubscribe(),n.onStateChange=null,h)throw h}}(m,h,g,p,w,b,S,_,E,v,e):()=>{}),[g]);var I,C,D;let N;I=Mv,C=[w,b,S,a,E,v],mv((()=>I(...C)),D);try{N=t.useSyncExternalStore(T,k,f?()=>p(f(),a):k)}catch(A){throw x.current&&(A.message+=`\nThe error may be correlated with this previous error:\n${x.current.stack}\n\n`),A}mv((()=>{x.current=void 0,E.current=void 0,b.current=N}));const O=t.useMemo((()=>t.createElement(e,{...N,ref:o})),[o,e,N]);return t.useMemo((()=>m?t.createElement(s.Provider,{value:y},O):O),[s,O,y])}const g=t.memo(u);if(g.WrappedComponent=e,g.displayName=u.displayName=r,c){const n=t.forwardRef((function(e,n){return t.createElement(g,{...e,reactReduxForwardedRef:n})}));return n.displayName=r,n.WrappedComponent=e,Dv(n,e)}return Dv(g,e)}};var jv=function(e){const{children:n,context:r,serverState:i,store:o}=e,a=t.useMemo((()=>{const e=hv(o);return{store:o,subscription:e,getServerState:i?()=>i:void 0}}),[o,i]),s=t.useMemo((()=>o.getState()),[o]);mv((()=>{const{subscription:e}=a;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==o.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}}),[a,s]);const l=r||Rv;return t.createElement(l.Provider,{value:a},n)};var Uv="Invariant failed";var Bv=function(e){var t=e.top,n=e.right,r=e.bottom,i=e.left;return{top:t,right:n,bottom:r,left:i,width:n-i,height:r-t,x:i,y:t,center:{x:(n+i)/2,y:(r+t)/2}}},Vv=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},zv=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},$v={top:0,right:0,bottom:0,left:0},Hv=function(e){var t=e.borderBox,n=e.margin,r=void 0===n?$v:n,i=e.border,o=void 0===i?$v:i,a=e.padding,s=void 0===a?$v:a,l=Bv(Vv(t,r)),c=Bv(zv(t,o)),u=Bv(zv(c,s));return{marginBox:l,borderBox:Bv(t),paddingBox:c,contentBox:u,margin:r,border:o,padding:s}},Wv=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var n=Number(t);return isNaN(n)&&function(e){if(!e)throw new Error(Uv)}(!1),n},qv=function(e,t){var n,r,i=e.borderBox,o=e.border,a=e.margin,s=e.padding,l=(r=t,{top:(n=i).top+r.y,left:n.left+r.x,bottom:n.bottom+r.y,right:n.right+r.x});return Hv({borderBox:l,border:o,margin:a,padding:s})},Gv=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),qv(e,t)},Kv=function(e,t){var n={top:Wv(t.marginTop),right:Wv(t.marginRight),bottom:Wv(t.marginBottom),left:Wv(t.marginLeft)},r={top:Wv(t.paddingTop),right:Wv(t.paddingRight),bottom:Wv(t.paddingBottom),left:Wv(t.paddingLeft)},i={top:Wv(t.borderTopWidth),right:Wv(t.borderRightWidth),bottom:Wv(t.borderBottomWidth),left:Wv(t.borderLeftWidth)};return Hv({borderBox:e,margin:n,padding:r,border:i})},Yv=function(e){var t=e.getBoundingClientRect(),n=window.getComputedStyle(e);return Kv(t,n)};const Qv=function(e){var t=[],n=null,r=function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];t=i,n||(n=requestAnimationFrame((function(){n=null,e.apply(void 0,t)})))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r};function Xv(){return Xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xv.apply(null,arguments)}function Jv(e,t){}Jv.bind(null,"warn"),Jv.bind(null,"error");function Zv(){}function ey(e,t,n){const r=t.map((t=>{const r=function(e,t){return{...e,...t}}(n,t.options);return e.addEventListener(t.eventName,t.fn,r),function(){e.removeEventListener(t.eventName,t.fn,r)}}));return function(){r.forEach((e=>{e()}))}}const ty="Invariant failed";class ny extends Error{}function ry(e,t){throw new ny(ty)}ny.prototype.toString=function(){return this.message};class iy extends t.Component{constructor(){super(...arguments),this.callbacks=null,this.unbind=Zv,this.onWindowError=e=>{const t=this.getCallbacks();t.isDragging()&&t.tryAbort();e.error instanceof ny&&e.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=e=>{this.callbacks=e}}componentDidMount(){this.unbind=ey(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(e){if(!(e instanceof ny))throw e;this.setState({})}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const oy=e=>e+1,ay=(e,t)=>{const n=e.droppableId===t.droppableId,r=oy(e.index),i=oy(t.index);return n?`\n      You have moved the item from position ${r}\n      to position ${i}\n    `:`\n    You have moved the item from position ${r}\n    in list ${e.droppableId}\n    to list ${t.droppableId}\n    in position ${i}\n  `},sy=(e,t,n)=>t.droppableId===n.droppableId?`\n      The item ${e}\n      has been combined with ${n.draggableId}`:`\n      The item ${e}\n      in list ${t.droppableId}\n      has been combined with ${n.draggableId}\n      in list ${n.droppableId}\n    `,ly=e=>`\n  The item has returned to its starting position\n  of ${oy(e.index)}\n`,cy={dragHandleUsageInstructions:"\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n",onDragStart:e=>`\n  You have lifted an item in position ${oy(e.source.index)}\n`,onDragUpdate:e=>{const t=e.destination;if(t)return ay(e.source,t);const n=e.combine;return n?sy(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},onDragEnd:e=>{if("CANCEL"===e.reason)return`\n      Movement cancelled.\n      ${ly(e.source)}\n    `;const t=e.destination,n=e.combine;return t?`\n      You have dropped the item.\n      ${ay(e.source,t)}\n    `:n?`\n      You have dropped the item.\n      ${sy(e.draggableId,e.source,n)}\n    `:`\n    The item has been dropped while not over a drop area.\n    ${ly(e.source)}\n  `}};function uy(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(n=e[i],r=t[i],!(n===r||Number.isNaN(n)&&Number.isNaN(r)))return!1;var n,r;return!0}function dy(e,n){const r=(0,t.useState)((()=>({inputs:n,result:e()})))[0],i=(0,t.useRef)(!0),o=(0,t.useRef)(r),a=i.current||Boolean(n&&o.current.inputs&&uy(n,o.current.inputs))?o.current:{inputs:n,result:e()};return(0,t.useEffect)((()=>{i.current=!1,o.current=a}),[a]),a.result}function hy(e,t){return dy((()=>e),t)}const fy={x:0,y:0},py=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),my=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),gy=(e,t)=>e.x===t.x&&e.y===t.y,vy=e=>({x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}),yy=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return"x"===e?{x:t,y:n}:{x:n,y:t}},by=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),wy=(e,t)=>Math.min(...t.map((t=>by(e,t)))),Ey=e=>t=>({x:e(t.x),y:e(t.y)});const Sy=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),_y=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],xy=(e,t)=>t&&t.shouldClipSubject?((e,t)=>{const n=Bv({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n})(t.pageMarginBox,e):Bv(e);var ky=e=>{let{page:t,withPlaceholder:n,axis:r,frame:i}=e;const o=((e,t)=>t?Sy(e,t.scroll.diff.displacement):e)(t.marginBox,i),a=((e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e)(o,r,n);return{page:t,withPlaceholder:n,active:xy(a,i)}},Ty=(e,t)=>{e.frame||ry();const n=e.frame,r=my(t,n.scroll.initial),i=vy(r),o={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}},a=ky({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:o});return{...e,frame:o,subject:a}};function Iy(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:uy,n=null;function r(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;const a=e.apply(this,i);return n={lastResult:a,lastArgs:i,lastThis:this},a}return r.clear=function(){n=null},r}const Cy=Iy((e=>e.reduce(((e,t)=>(e[t.descriptor.id]=t,e)),{}))),Dy=Iy((e=>e.reduce(((e,t)=>(e[t.descriptor.id]=t,e)),{}))),Ny=Iy((e=>Object.values(e))),Oy=Iy((e=>Object.values(e)));var Ay=Iy(((e,t)=>{const n=Oy(t).filter((t=>e===t.descriptor.droppableId)).sort(((e,t)=>e.descriptor.index-t.descriptor.index));return n}));function Ry(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function Py(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var My=Iy(((e,t)=>t.filter((t=>t.descriptor.id!==e.descriptor.id)))),Ly=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const Fy={point:fy,value:0},jy={invisible:{},visible:{},all:[]},Uy={displaced:jy,displacedBy:Fy,at:null};var By=(e,t)=>n=>e<=n&&n<=t,Vy=e=>{const t=By(e.top,e.bottom),n=By(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const i=t(r.top)||t(r.bottom),o=n(r.left)||n(r.right);if(i&&o)return!0;const a=r.top<e.top&&r.bottom>e.bottom,s=r.left<e.left&&r.right>e.right;if(a&&s)return!0;return a&&o||s&&i}},zy=e=>{const t=By(e.top,e.bottom),n=By(e.left,e.right);return e=>t(e.top)&&t(e.bottom)&&n(e.left)&&n(e.right)};const $y={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Hy={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};const Wy=e=>{let{target:t,destination:n,viewport:r,withDroppableDisplacement:i,isVisibleThroughFrameFn:o}=e;const a=i?((e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:fy;return Sy(e,n)})(t,n):t;return((e,t,n)=>!!t.subject.active&&n(t.subject.active)(e))(a,n,o)&&((e,t,n)=>n(t)(e))(a,r,o)},qy=e=>Wy({...e,isVisibleThroughFrameFn:zy});function Gy(e){let{afterDragging:t,destination:n,displacedBy:r,viewport:i,forceShouldAnimate:o,last:a}=e;return t.reduce((function(e,t){const s=function(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return Bv(Vv(n,r))}(t,r),l=t.descriptor.id;e.all.push(l);var c;if(!(c={target:s,destination:n,viewport:i,withDroppableDisplacement:!0},Wy({...c,isVisibleThroughFrameFn:Vy})))return e.invisible[t.descriptor.id]=!0,e;const u=((e,t,n)=>{if("boolean"===typeof n)return n;if(!t)return!0;const{invisible:r,visible:i}=t;if(r[e])return!1;const o=i[e];return!o||o.shouldAnimate})(l,a,o),d={draggableId:l,shouldAnimate:u};return e.visible[l]=d,e}),{all:[],visible:{},invisible:{}})}function Ky(e){let{insideDestination:t,inHomeList:n,displacedBy:r,destination:i}=e;const o=function(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}(t,{inHomeList:n});return{displaced:jy,displacedBy:r,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:o}}}}function Yy(e){let{draggable:t,insideDestination:n,destination:r,viewport:i,displacedBy:o,last:a,index:s,forceShouldAnimate:l}=e;const c=Ly(t,r);if(null==s)return Ky({insideDestination:n,inHomeList:c,displacedBy:o,destination:r});const u=n.find((e=>e.descriptor.index===s));if(!u)return Ky({insideDestination:n,inHomeList:c,displacedBy:o,destination:r});const d=My(t,n),h=n.indexOf(u);return{displaced:Gy({afterDragging:d.slice(h),destination:r,displacedBy:o,last:a,viewport:i.frame,forceShouldAnimate:l}),displacedBy:o,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:s}}}}function Qy(e,t){return Boolean(t.effected[e])}var Xy=e=>{let{isMovingForward:t,isInHomeList:n,draggable:r,draggables:i,destination:o,insideDestination:a,previousImpact:s,viewport:l,afterCritical:c}=e;const u=s.at;if(u||ry(),"REORDER"===u.type){const e=(e=>{let{isMovingForward:t,isInHomeList:n,insideDestination:r,location:i}=e;if(!r.length)return null;const o=i.index,a=t?o+1:o-1,s=r[0].descriptor.index,l=r[r.length-1].descriptor.index;return a<s||a>(n?l:l+1)?null:a})({isMovingForward:t,isInHomeList:n,location:u.destination,insideDestination:a});return null==e?null:Yy({draggable:r,insideDestination:a,destination:o,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:e})}const d=(e=>{let{isMovingForward:t,destination:n,draggables:r,combine:i,afterCritical:o}=e;if(!n.isCombineEnabled)return null;const a=i.draggableId,s=r[a].descriptor.index;return Qy(a,o)?t?s:s-1:t?s+1:s})({isMovingForward:t,destination:o,displaced:s.displaced,draggables:i,combine:u.combine,afterCritical:c});return null==d?null:Yy({draggable:r,insideDestination:a,destination:o,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:d})},Jy=e=>{let{afterCritical:t,impact:n,draggables:r}=e;const i=Py(n);i||ry();const o=i.draggableId,a=r[o].page.borderBox.center,s=(e=>{let{displaced:t,afterCritical:n,combineWith:r,displacedBy:i}=e;const o=Boolean(t.visible[r]||t.invisible[r]);return Qy(r,n)?o?fy:vy(i.point):o?i.point:fy})({displaced:n.displaced,afterCritical:t,combineWith:o,displacedBy:n.displacedBy});return py(a,s)};const Zy=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,eb=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,tb=e=>{let{axis:t,moveRelativeTo:n,isMoving:r}=e;return yy(t.line,n.marginBox[t.end]+Zy(t,r),eb(t,n.marginBox,r))},nb=e=>{let{axis:t,moveRelativeTo:n,isMoving:r}=e;return yy(t.line,n.marginBox[t.start]-((e,t)=>t.margin[e.end]+t.borderBox[e.size]/2)(t,r),eb(t,n.marginBox,r))};var rb=e=>{let{impact:t,draggable:n,draggables:r,droppable:i,afterCritical:o}=e;const a=Ay(i.descriptor.id,r),s=n.page,l=i.axis;if(!a.length)return(e=>{let{axis:t,moveInto:n,isMoving:r}=e;return yy(t.line,n.contentBox[t.start]+Zy(t,r),eb(t,n.contentBox,r))})({axis:l,moveInto:i.page,isMoving:s});const{displaced:c,displacedBy:u}=t,d=c.all[0];if(d){const e=r[d];if(Qy(d,o))return nb({axis:l,moveRelativeTo:e.page,isMoving:s});const t=qv(e.page,u.point);return nb({axis:l,moveRelativeTo:t,isMoving:s})}const h=a[a.length-1];if(h.descriptor.id===n.descriptor.id)return s.borderBox.center;if(Qy(h.descriptor.id,o)){const e=qv(h.page,vy(o.displacedBy.point));return tb({axis:l,moveRelativeTo:e,isMoving:s})}return tb({axis:l,moveRelativeTo:h.page,isMoving:s})},ib=(e,t)=>{const n=e.frame;return n?py(t,n.scroll.diff.displacement):t};var ob=e=>{const t=(e=>{let{impact:t,draggable:n,droppable:r,draggables:i,afterCritical:o}=e;const a=n.page.borderBox.center,s=t.at;return r&&s?"REORDER"===s.type?rb({impact:t,draggable:n,draggables:i,droppable:r,afterCritical:o}):Jy({impact:t,draggables:i,afterCritical:o}):a})(e),n=e.droppable;return n?ib(n,t):t},ab=(e,t)=>{const n=my(t,e.scroll.initial),r=vy(n);return{frame:Bv({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function sb(e,t){return e.map((e=>t[e]))}var lb=e=>{let{pageBorderBoxCenter:t,draggable:n,viewport:r}=e;const i=((e,t)=>py(e.scroll.diff.displacement,t))(r,t),o=my(i,n.page.borderBox.center);return py(n.client.borderBox.center,o)},cb=e=>{let{draggable:t,destination:n,newPageBorderBoxCenter:r,viewport:i,withDroppableDisplacement:o,onlyOnMainAxis:a=!1}=e;const s=my(r,t.page.borderBox.center),l={target:Sy(t.page.borderBox,s),destination:n,withDroppableDisplacement:o,viewport:i};return a?(e=>{return Wy({...e,isVisibleThroughFrameFn:(t=e.destination.axis,e=>{const n=By(e.top,e.bottom),r=By(e.left,e.right);return e=>t===$y?n(e.top)&&n(e.bottom):r(e.left)&&r(e.right)})});var t})(l):qy(l)},ub=e=>{let{isMovingForward:t,draggable:n,destination:r,draggables:i,previousImpact:o,viewport:a,previousPageBorderBoxCenter:s,previousClientSelection:l,afterCritical:c}=e;if(!r.isEnabled)return null;const u=Ay(r.descriptor.id,i),d=Ly(n,r),h=(e=>{let{isMovingForward:t,draggable:n,destination:r,insideDestination:i,previousImpact:o}=e;if(!r.isCombineEnabled)return null;if(!Ry(o))return null;function a(e){const t={type:"COMBINE",combine:{draggableId:e,droppableId:r.descriptor.id}};return{...o,at:t}}const s=o.displaced.all,l=s.length?s[0]:null;if(t)return l?a(l):null;const c=My(n,i);if(!l)return c.length?a(c[c.length-1].descriptor.id):null;const u=c.findIndex((e=>e.descriptor.id===l));-1===u&&ry();const d=u-1;return d<0?null:a(c[d].descriptor.id)})({isMovingForward:t,draggable:n,destination:r,insideDestination:u,previousImpact:o})||Xy({isMovingForward:t,isInHomeList:d,draggable:n,draggables:i,destination:r,insideDestination:u,previousImpact:o,viewport:a,afterCritical:c});if(!h)return null;const f=ob({impact:h,draggable:n,droppable:r,draggables:i,afterCritical:c});if(cb({draggable:n,destination:r,newPageBorderBoxCenter:f,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})){return{clientSelection:lb({pageBorderBoxCenter:f,draggable:n,viewport:a}),impact:h,scrollJumpRequest:null}}const p=my(f,s),m=(e=>{let{impact:t,viewport:n,destination:r,draggables:i,maxScrollChange:o}=e;const a=ab(n,py(n.scroll.current,o)),s=r.frame?Ty(r,py(r.frame.scroll.current,o)):r,l=t.displaced,c=Gy({afterDragging:sb(l.all,i),destination:r,displacedBy:t.displacedBy,viewport:a.frame,last:l,forceShouldAnimate:!1}),u=Gy({afterDragging:sb(l.all,i),destination:s,displacedBy:t.displacedBy,viewport:n.frame,last:l,forceShouldAnimate:!1}),d={},h={},f=[l,c,u];return l.all.forEach((e=>{const t=function(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}(e,f);t?h[e]=t:d[e]=!0})),{...t,displaced:{all:l.all,invisible:d,visible:h}}})({impact:h,viewport:a,destination:r,draggables:i,maxScrollChange:p});return{clientSelection:l,impact:m,scrollJumpRequest:p}};const db=e=>{const t=e.subject.active;return t||ry(),t};const hb=(e,t)=>{const n=e.page.borderBox.center;return Qy(e.descriptor.id,t)?my(n,t.displacedBy.point):n},fb=(e,t)=>{const n=e.page.borderBox;return Qy(e.descriptor.id,t)?Sy(n,vy(t.displacedBy.point)):n};var pb=Iy((function(e,t){const n=t[e.line];return{value:n,point:yy(e.line,n)}}));const mb=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),gb=(e,t,n)=>{const r=e.frame;Ly(t,e)&&ry(),e.subject.withPlaceholder&&ry();const i=pb(e.axis,t.displaceBy).point,o=((e,t,n)=>{const r=e.axis;if("virtual"===e.descriptor.mode)return yy(r.line,t[r.line]);const i=e.subject.page.contentBox[r.size],o=Ay(e.descriptor.id,n).reduce(((e,t)=>e+t.client.marginBox[r.size]),0),a=o+t[r.line]-i;return a<=0?null:yy(r.line,a)})(e,i,n),a={placeholderSize:i,increasedBy:o,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const t=ky({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:e.frame});return{...e,subject:t}}const s=o?py(r.scroll.max,o):r.scroll.max,l=mb(r,s),c=ky({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:l});return{...e,subject:c,frame:l}};var vb=e=>{let{isMovingForward:t,previousPageBorderBoxCenter:n,draggable:r,isOver:i,draggables:o,droppables:a,viewport:s,afterCritical:l}=e;const c=(e=>{let{isMovingForward:t,pageBorderBoxCenter:n,source:r,droppables:i,viewport:o}=e;const a=r.subject.active;if(!a)return null;const s=r.axis,l=By(a[s.start],a[s.end]),c=Ny(i).filter((e=>e!==r)).filter((e=>e.isEnabled)).filter((e=>Boolean(e.subject.active))).filter((e=>Vy(o.frame)(db(e)))).filter((e=>{const n=db(e);return t?a[s.crossAxisEnd]<n[s.crossAxisEnd]:n[s.crossAxisStart]<a[s.crossAxisStart]})).filter((e=>{const t=db(e),n=By(t[s.start],t[s.end]);return l(t[s.start])||l(t[s.end])||n(a[s.start])||n(a[s.end])})).sort(((e,n)=>{const r=db(e)[s.crossAxisStart],i=db(n)[s.crossAxisStart];return t?r-i:i-r})).filter(((e,t,n)=>db(e)[s.crossAxisStart]===db(n[0])[s.crossAxisStart]));if(!c.length)return null;if(1===c.length)return c[0];const u=c.filter((e=>By(db(e)[s.start],db(e)[s.end])(n[s.line])));return 1===u.length?u[0]:u.length>1?u.sort(((e,t)=>db(e)[s.start]-db(t)[s.start]))[0]:c.sort(((e,t)=>{const r=wy(n,_y(db(e))),i=wy(n,_y(db(t)));return r!==i?r-i:db(e)[s.start]-db(t)[s.start]}))[0]})({isMovingForward:t,pageBorderBoxCenter:n,source:i,droppables:a,viewport:s});if(!c)return null;const u=Ay(c.descriptor.id,o),d=(e=>{let{pageBorderBoxCenter:t,viewport:n,destination:r,insideDestination:i,afterCritical:o}=e;const a=i.filter((e=>qy({target:fb(e,o),destination:r,viewport:n.frame,withDroppableDisplacement:!0}))).sort(((e,n)=>{const i=by(t,ib(r,hb(e,o))),a=by(t,ib(r,hb(n,o)));return i<a?-1:a<i?1:e.descriptor.index-n.descriptor.index}));return a[0]||null})({pageBorderBoxCenter:n,viewport:s,destination:c,insideDestination:u,afterCritical:l}),h=(e=>{let{previousPageBorderBoxCenter:t,moveRelativeTo:n,insideDestination:r,draggable:i,draggables:o,destination:a,viewport:s,afterCritical:l}=e;if(!n){if(r.length)return null;const e={displaced:jy,displacedBy:Fy,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},t=ob({impact:e,draggable:i,droppable:a,draggables:o,afterCritical:l}),n=Ly(i,a)?a:gb(a,i,o);return cb({draggable:i,destination:n,newPageBorderBoxCenter:t,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?e:null}const c=Boolean(t[a.axis.line]<=n.page.borderBox.center[a.axis.line]),u=(()=>{const e=n.descriptor.index;return n.descriptor.id===i.descriptor.id||c?e:e+1})(),d=pb(a.axis,i.displaceBy);return Yy({draggable:i,insideDestination:r,destination:a,viewport:s,displacedBy:d,last:jy,index:u})})({previousPageBorderBoxCenter:n,destination:c,draggable:r,draggables:o,moveRelativeTo:d,insideDestination:u,viewport:s,afterCritical:l});if(!h)return null;const f=ob({impact:h,draggable:r,droppable:c,draggables:o,afterCritical:l});return{clientSelection:lb({pageBorderBoxCenter:f,draggable:r,viewport:s}),impact:h,scrollJumpRequest:null}},yb=e=>{const t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null};var bb=e=>{let{state:t,type:n}=e;const r=((e,t)=>{const n=yb(e);return n?t[n]:null})(t.impact,t.dimensions.droppables),i=Boolean(r),o=t.dimensions.droppables[t.critical.droppable.id],a=r||o,s=a.axis.direction,l="vertical"===s&&("MOVE_UP"===n||"MOVE_DOWN"===n)||"horizontal"===s&&("MOVE_LEFT"===n||"MOVE_RIGHT"===n);if(l&&!i)return null;const c="MOVE_DOWN"===n||"MOVE_RIGHT"===n,u=t.dimensions.draggables[t.critical.draggable.id],d=t.current.page.borderBoxCenter,{draggables:h,droppables:f}=t.dimensions;return l?ub({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,destination:a,draggables:h,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):vb({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,isOver:a,draggables:h,droppables:f,viewport:t.viewport,afterCritical:t.afterCritical})};function wb(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function Eb(e){const t=By(e.top,e.bottom),n=By(e.left,e.right);return function(e){return t(e.y)&&n(e.x)}}function Sb(e){let{pageBorderBox:t,draggable:n,droppables:r}=e;const i=Ny(r).filter((e=>{if(!e.isEnabled)return!1;const n=e.subject.active;if(!n)return!1;if(i=n,!((r=t).left<i.right&&r.right>i.left&&r.top<i.bottom&&r.bottom>i.top))return!1;var r,i;if(Eb(n)(t.center))return!0;const o=e.axis,a=n.center[o.crossAxisLine],s=t[o.crossAxisStart],l=t[o.crossAxisEnd],c=By(n[o.crossAxisStart],n[o.crossAxisEnd]),u=c(s),d=c(l);return!u&&!d||(u?s<a:l>a)}));return i.length?1===i.length?i[0].descriptor.id:function(e){let{pageBorderBox:t,draggable:n,candidates:r}=e;const i=n.page.borderBox.center,o=r.map((e=>{const n=e.axis,r=yy(e.axis.line,t.center[n.line],e.page.borderBox.center[n.crossAxisLine]);return{id:e.descriptor.id,distance:by(i,r)}})).sort(((e,t)=>t.distance-e.distance));return o[0]?o[0].id:null}({pageBorderBox:t,draggable:n,candidates:i}):null}const _b=(e,t)=>Bv(Sy(e,t));function xb(e){let{displaced:t,id:n}=e;return Boolean(t.visible[n]||t.invisible[n])}var kb=e=>{let{pageOffset:t,draggable:n,draggables:r,droppables:i,previousImpact:o,viewport:a,afterCritical:s}=e;const l=_b(n.page.borderBox,t),c=Sb({pageBorderBox:l,draggable:n,droppables:i});if(!c)return Uy;const u=i[c],d=Ay(u.descriptor.id,r),h=((e,t)=>{const n=e.frame;return n?_b(t,n.scroll.diff.value):t})(u,l);return(e=>{let{draggable:t,pageBorderBoxWithDroppableScroll:n,previousImpact:r,destination:i,insideDestination:o,afterCritical:a}=e;if(!i.isCombineEnabled)return null;const s=i.axis,l=pb(i.axis,t.displaceBy),c=l.value,u=n[s.start],d=n[s.end],h=My(t,o).find((e=>{const t=e.descriptor.id,n=e.page.borderBox,i=n[s.size]/4,o=Qy(t,a),l=xb({displaced:r.displaced,id:t});return o?l?d>n[s.start]+i&&d<n[s.end]-i:u>n[s.start]-c+i&&u<n[s.end]-c-i:l?d>n[s.start]+c+i&&d<n[s.end]+c-i:u>n[s.start]+i&&u<n[s.end]-i}));return h?{displacedBy:l,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:h.descriptor.id,droppableId:i.descriptor.id}}}:null})({pageBorderBoxWithDroppableScroll:h,draggable:n,previousImpact:o,destination:u,insideDestination:d,afterCritical:s})||(e=>{let{pageBorderBoxWithDroppableScroll:t,draggable:n,destination:r,insideDestination:i,last:o,viewport:a,afterCritical:s}=e;const l=r.axis,c=pb(r.axis,n.displaceBy),u=c.value,d=t[l.start],h=t[l.end],f=function(e){let{draggable:t,closest:n,inHomeList:r}=e;return n?r&&n.descriptor.index>t.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}({draggable:n,closest:My(n,i).find((e=>{const t=e.descriptor.id,n=e.page.borderBox.center[l.line],r=Qy(t,s),i=xb({displaced:o,id:t});return r?i?h<=n:d<n-u:i?h<=n+u:d<n}))||null,inHomeList:Ly(n,r)});return Yy({draggable:n,insideDestination:i,destination:r,viewport:a,last:o,displacedBy:c,index:f})})({pageBorderBoxWithDroppableScroll:h,draggable:n,destination:u,insideDestination:d,last:o.displaced,viewport:a,afterCritical:s})},Tb=(e,t)=>({...e,[t.descriptor.id]:t});const Ib=e=>{let{previousImpact:t,impact:n,droppables:r}=e;const i=yb(t),o=yb(n);if(!i)return r;if(i===o)return r;const a=r[i];if(!a.subject.withPlaceholder)return r;const s=(e=>{const t=e.subject.withPlaceholder;t||ry();const n=e.frame;if(!n){const t=ky({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:t}}const r=t.oldFrameMaxScroll;r||ry();const i=mb(n,r),o=ky({page:e.subject.page,axis:e.axis,frame:i,withPlaceholder:null});return{...e,subject:o,frame:i}})(a);return Tb(r,s)};var Cb=e=>{let{state:t,clientSelection:n,dimensions:r,viewport:i,impact:o,scrollJumpRequest:a}=e;const s=i||t.viewport,l=r||t.dimensions,c=n||t.current.client.selection,u=my(c,t.initial.client.selection),d={offset:u,selection:c,borderBoxCenter:py(t.initial.client.borderBoxCenter,u)},h={selection:py(d.selection,s.scroll.current),borderBoxCenter:py(d.borderBoxCenter,s.scroll.current),offset:py(d.offset,s.scroll.diff.value)},f={client:d,page:h};if("COLLECTING"===t.phase)return{...t,dimensions:l,viewport:s,current:f};const p=l.draggables[t.critical.draggable.id],m=o||kb({pageOffset:h.offset,draggable:p,draggables:l.draggables,droppables:l.droppables,previousImpact:t.impact,viewport:s,afterCritical:t.afterCritical}),g=(e=>{let{draggable:t,draggables:n,droppables:r,previousImpact:i,impact:o}=e;const a=Ib({previousImpact:i,impact:o,droppables:r}),s=yb(o);if(!s)return a;const l=r[s];if(Ly(t,l))return a;if(l.subject.withPlaceholder)return a;const c=gb(l,t,n);return Tb(a,c)})({draggable:p,impact:m,previousImpact:t.impact,draggables:l.draggables,droppables:l.droppables});return{...t,current:f,dimensions:{draggables:l.draggables,droppables:g},impact:m,viewport:s,scrollJumpRequest:a||null,forceShouldAnimate:!a&&null}};var Db=e=>{let{impact:t,viewport:n,draggables:r,destination:i,forceShouldAnimate:o}=e;const a=t.displaced,s=function(e,t){return e.map((e=>t[e]))}(a.all,r),l=Gy({afterDragging:s,destination:i,displacedBy:t.displacedBy,viewport:n.frame,forceShouldAnimate:o,last:a});return{...t,displaced:l}},Nb=e=>{let{impact:t,draggable:n,droppable:r,draggables:i,viewport:o,afterCritical:a}=e;const s=ob({impact:t,draggable:n,draggables:i,droppable:r,afterCritical:a});return lb({pageBorderBoxCenter:s,draggable:n,viewport:o})},Ob=e=>{let{state:t,dimensions:n,viewport:r}=e;"SNAP"!==t.movementMode&&ry();const i=t.impact,o=r||t.viewport,a=n||t.dimensions,{draggables:s,droppables:l}=a,c=s[t.critical.draggable.id],u=yb(i);u||ry();const d=l[u],h=Db({impact:i,viewport:o,destination:d,draggables:s}),f=Nb({impact:h,draggable:c,droppable:d,draggables:s,viewport:o,afterCritical:t.afterCritical});return Cb({impact:h,clientSelection:f,state:t,dimensions:a,viewport:o})},Ab=e=>{let{draggable:t,home:n,draggables:r,viewport:i}=e;const o=pb(n.axis,t.displaceBy),a=Ay(n.descriptor.id,r),s=a.indexOf(t);-1===s&&ry();const l=a.slice(s+1),c=l.reduce(((e,t)=>(e[t.descriptor.id]=!0,e)),{}),u={inVirtualList:"virtual"===n.descriptor.mode,displacedBy:o,effected:c};var d;return{impact:{displaced:Gy({afterDragging:l,destination:n,displacedBy:o,last:null,viewport:i.frame,forceShouldAnimate:!1}),displacedBy:o,at:{type:"REORDER",destination:(d=t.descriptor,{index:d.index,droppableId:d.droppableId})}},afterCritical:u}};const Rb=e=>{0},Pb=e=>{0};var Mb=e=>{let{additions:t,updatedDroppables:n,viewport:r}=e;const i=r.scroll.diff.value;return t.map((e=>{const t=e.descriptor.droppableId,o=(e=>{const t=e.frame;return t||ry(),t})(n[t]),a=o.scroll.diff.value,s=(e=>{let{draggable:t,offset:n,initialWindowScroll:r}=e;const i=qv(t.client,n),o=Gv(i,r);return{...t,placeholder:{...t.placeholder,client:i},client:i,page:o}})({draggable:e,offset:py(i,a),initialWindowScroll:r.scroll.initial});return s}))};const Lb=e=>"SNAP"===e.movementMode,Fb=(e,t,n)=>{const r=((e,t)=>({draggables:e.draggables,droppables:Tb(e.droppables,t)}))(e.dimensions,t);return!Lb(e)||n?Cb({state:e,dimensions:r}):Ob({state:e,dimensions:r})};function jb(e){return e.isDragging&&"SNAP"===e.movementMode?{...e,scrollJumpRequest:null}:e}const Ub={phase:"IDLE",completed:null,shouldFlush:!1};var Bb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ub,t=arguments.length>1?arguments[1]:void 0;if("FLUSH"===t.type)return{...Ub,shouldFlush:!0};if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&ry();const{critical:n,clientSelection:r,viewport:i,dimensions:o,movementMode:a}=t.payload,s=o.draggables[n.draggable.id],l=o.droppables[n.droppable.id],c={selection:r,borderBoxCenter:s.client.borderBox.center,offset:fy},u={client:c,page:{selection:py(c.selection,i.scroll.initial),borderBoxCenter:py(c.selection,i.scroll.initial),offset:py(c.selection,i.scroll.diff.value)}},d=Ny(o.droppables).every((e=>!e.isFixedOnPage)),{impact:h,afterCritical:f}=Ab({draggable:s,home:l,draggables:o.draggables,viewport:i});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:a,dimensions:o,initial:u,current:u,isWindowScrollAllowed:d,impact:h,afterCritical:f,onLiftImpact:h,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&ry();return{...e,phase:"COLLECTING"}}if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&ry(),(e=>{let{state:t,published:n}=e;Rb();const r=n.modified.map((e=>{const n=t.dimensions.droppables[e.droppableId];return Ty(n,e.scroll)})),i={...t.dimensions.droppables,...Cy(r)},o=Dy(Mb({additions:n.additions,updatedDroppables:i,viewport:t.viewport})),a={...t.dimensions.draggables,...o};n.removals.forEach((e=>{delete a[e]}));const s={droppables:i,draggables:a},l=yb(t.impact),c=l?s.droppables[l]:null,u=s.draggables[t.critical.draggable.id],d=s.droppables[t.critical.droppable.id],{impact:h,afterCritical:f}=Ab({draggable:u,home:d,draggables:a,viewport:t.viewport}),p=c&&c.isCombineEnabled?t.impact:h,m=kb({pageOffset:t.current.page.offset,draggable:s.draggables[t.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:p,viewport:t.viewport,afterCritical:f});Pb();const g={...t,phase:"DRAGGING",impact:m,onLiftImpact:h,dimensions:s,afterCritical:f,forceShouldAnimate:!1};return"COLLECTING"===t.phase?g:{...g,phase:"DROP_PENDING",reason:t.reason,isWaiting:!1}})({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;wb(e)||ry();const{client:n}=t.payload;return gy(n,e.current.client.selection)?e:Cb({state:e,clientSelection:n,impact:Lb(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return jb(e);if("COLLECTING"===e.phase)return jb(e);wb(e)||ry();const{id:n,newScroll:r}=t.payload,i=e.dimensions.droppables[n];if(!i)return e;const o=Ty(i,r);return Fb(e,o,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;wb(e)||ry();const{id:n,isEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||ry(),i.isEnabled===r&&ry();const o={...i,isEnabled:r};return Fb(e,o,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;wb(e)||ry();const{id:n,isCombineEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||ry(),i.isCombineEnabled===r&&ry();const o={...i,isCombineEnabled:r};return Fb(e,o,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;wb(e)||ry(),e.isWindowScrollAllowed||ry();const n=t.payload.newScroll;if(gy(e.viewport.scroll.current,n))return jb(e);const r=ab(e.viewport,n);return Lb(e)?Ob({state:e,viewport:r}):Cb({state:e,viewport:r})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!wb(e))return e;const n=t.payload.maxScroll;if(gy(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&ry();const n=bb({state:e,type:t.type});return n?Cb({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){const n=t.payload.reason;"COLLECTING"!==e.phase&&ry();return{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if("DROP_ANIMATE"===t.type){const{completed:n,dropDuration:r,newHomeClientOffset:i}=t.payload;"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&ry();return{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:i,dimensions:e.dimensions}}if("DROP_COMPLETE"===t.type){const{completed:e}=t.payload;return{phase:"IDLE",completed:e,shouldFlush:!1}}return e};function Vb(e,t){return e instanceof Object&&"type"in e&&e.type===t}const zb=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),$b=()=>({type:"COLLECTION_STARTING",payload:null}),Hb=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),Wb=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),qb=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),Gb=e=>({type:"MOVE",payload:e}),Kb=()=>({type:"MOVE_UP",payload:null}),Yb=()=>({type:"MOVE_DOWN",payload:null}),Qb=()=>({type:"MOVE_RIGHT",payload:null}),Xb=()=>({type:"MOVE_LEFT",payload:null}),Jb=e=>({type:"DROP_COMPLETE",payload:e}),Zb=e=>({type:"DROP",payload:e}),ew=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});const tw="cubic-bezier(.2,1,.1,1)",nw={drop:0,combining:.7},rw={drop:.75},iw={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},ow=`${iw.outOfTheWay}s ${"cubic-bezier(0.2, 0, 0, 1)"}`,aw={fluid:`opacity ${ow}`,snap:`transform ${ow}, opacity ${ow}`,drop:e=>{const t=`${e}s ${tw}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${ow}`,placeholder:`height ${ow}, width ${ow}, margin ${ow}`},sw=e=>gy(e,fy)?void 0:`translate(${e.x}px, ${e.y}px)`,lw=sw,cw=(e,t)=>{const n=sw(e);if(n)return t?`${n} scale(${rw.drop})`:n},{minDropTime:uw,maxDropTime:dw}=iw,hw=dw-uw;const fw=e=>{let{getState:t,dispatch:n}=e;return e=>r=>{if(!Vb(r,"DROP"))return void e(r);const i=t(),o=r.payload.reason;if("COLLECTING"===i.phase)return void n((e=>({type:"DROP_PENDING",payload:e}))({reason:o}));if("IDLE"===i.phase)return;"DROP_PENDING"===i.phase&&i.isWaiting&&ry(),"DRAGGING"!==i.phase&&"DROP_PENDING"!==i.phase&&ry();const a=i.critical,s=i.dimensions,l=s.draggables[i.critical.draggable.id],{impact:c,didDropInsideDroppable:u}=(e=>{let{draggables:t,reason:n,lastImpact:r,home:i,viewport:o,onLiftImpact:a}=e;if(!r.at||"DROP"!==n)return{impact:Db({draggables:t,impact:a,destination:i,viewport:o,forceShouldAnimate:!0}),didDropInsideDroppable:!1};return"REORDER"===r.at.type?{impact:r,didDropInsideDroppable:!0}:{impact:{...r,displaced:jy},didDropInsideDroppable:!0}})({reason:o,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),d=u?Ry(c):null,h=u?Py(c):null,f={index:a.draggable.index,droppableId:a.droppable.id},p={draggableId:l.descriptor.id,type:l.descriptor.type,source:f,reason:o,mode:i.movementMode,destination:d,combine:h},m=(e=>{let{impact:t,draggable:n,dimensions:r,viewport:i,afterCritical:o}=e;const{draggables:a,droppables:s}=r,l=yb(t),c=l?s[l]:null,u=s[n.descriptor.droppableId],d=Nb({impact:t,draggable:n,draggables:a,afterCritical:o,droppable:c||u,viewport:i});return my(d,n.client.borderBox.center)})({impact:c,draggable:l,dimensions:s,viewport:i.viewport,afterCritical:i.afterCritical}),g={critical:i.critical,afterCritical:i.afterCritical,result:p,impact:c};if(!(!gy(i.current.client.offset,m)||Boolean(p.combine)))return void n(Jb({completed:g}));const v=(e=>{let{current:t,destination:n,reason:r}=e;const i=by(t,n);if(i<=0)return uw;if(i>=1500)return dw;const o=uw+hw*(i/1500);return Number(("CANCEL"===r?.6*o:o).toFixed(2))})({current:i.current.client.offset,destination:m,reason:o});n((e=>({type:"DROP_ANIMATE",payload:e}))({newHomeClientOffset:m,dropDuration:v,completed:g}))}};var pw=()=>({x:window.pageXOffset,y:window.pageYOffset});function mw(e){let{onWindowScroll:t}=e;const n=Qv((function(){t(pw())})),r=function(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}(n);let i=Zv;function o(){return i!==Zv}return{start:function(){o()&&ry(),i=ey(window,[r])},stop:function(){o()||ry(),n.cancel(),i(),i=Zv},isActive:o}}const gw=e=>{const t=mw({onWindowScroll:t=>{e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return e=>n=>{!t.isActive()&&Vb(n,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&(e=>Vb(e,"DROP_COMPLETE")||Vb(e,"DROP_ANIMATE")||Vb(e,"FLUSH"))(n)&&t.stop(),e(n)}};var vw=()=>{const e=[];return{add:t=>{const n=setTimeout((()=>(t=>{const n=e.findIndex((e=>e.timerId===t));-1===n&&ry();const[r]=e.splice(n,1);r.callback()})(n))),r={timerId:n,callback:t};e.push(r)},flush:()=>{if(!e.length)return;const t=[...e];e.length=0,t.forEach((e=>{clearTimeout(e.timerId),e.callback()}))}}};const yw=(e,t)=>{Rb(),t(),Pb()},bw=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function ww(e,t,n,r){if(!e)return void n(r(t));const i=(e=>{let t=!1,n=!1;const r=setTimeout((()=>{n=!0})),i=i=>{t||n||(t=!0,e(i),clearTimeout(r))};return i.wasCalled=()=>t,i})(n);e(t,{announce:i}),i.wasCalled()||n(r(t))}var Ew=(e,t)=>{const n=((e,t)=>{const n=vw();let r=null;const i=n=>{r||ry(),r=null,yw(0,(()=>ww(e().onDragEnd,n,t,cy.onDragEnd)))};return{beforeCapture:(t,n)=>{r&&ry(),yw(0,(()=>{const r=e().onBeforeCapture;r&&r({draggableId:t,mode:n})}))},beforeStart:(t,n)=>{r&&ry(),yw(0,(()=>{const r=e().onBeforeDragStart;r&&r(bw(t,n))}))},start:(i,o)=>{r&&ry();const a=bw(i,o);r={mode:o,lastCritical:i,lastLocation:a.source,lastCombine:null},n.add((()=>{yw(0,(()=>ww(e().onDragStart,a,t,cy.onDragStart)))}))},update:(i,o)=>{const a=Ry(o),s=Py(o);r||ry();const l=!((e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r})(i,r.lastCritical);l&&(r.lastCritical=i);const c=(d=a,!(null==(u=r.lastLocation)&&null==d||null!=u&&null!=d&&u.droppableId===d.droppableId&&u.index===d.index));var u,d;c&&(r.lastLocation=a);const h=!((e,t)=>null==e&&null==t||null!=e&&null!=t&&e.draggableId===t.draggableId&&e.droppableId===t.droppableId)(r.lastCombine,s);if(h&&(r.lastCombine=s),!l&&!c&&!h)return;const f={...bw(i,r.mode),combine:s,destination:a};n.add((()=>{yw(0,(()=>ww(e().onDragUpdate,f,t,cy.onDragUpdate)))}))},flush:()=>{r||ry(),n.flush()},drop:i,abort:()=>{if(!r)return;const e={...bw(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};i(e)}}})(e,t);return e=>t=>r=>{if(Vb(r,"BEFORE_INITIAL_CAPTURE"))return void n.beforeCapture(r.payload.draggableId,r.payload.movementMode);if(Vb(r,"INITIAL_PUBLISH")){const e=r.payload.critical;return n.beforeStart(e,r.payload.movementMode),t(r),void n.start(e,r.payload.movementMode)}if(Vb(r,"DROP_COMPLETE")){const e=r.payload.completed.result;return n.flush(),t(r),void n.drop(e)}if(t(r),Vb(r,"FLUSH"))return void n.abort();const i=e.getState();"DRAGGING"===i.phase&&n.update(i.critical,i.impact)}};const Sw=e=>t=>n=>{if(!Vb(n,"DROP_ANIMATION_FINISHED"))return void t(n);const r=e.getState();"DROP_ANIMATING"!==r.phase&&ry(),e.dispatch(Jb({completed:r.completed}))},_w=e=>{let t=null,n=null;return r=>i=>{if((Vb(i,"FLUSH")||Vb(i,"DROP_COMPLETE")||Vb(i,"DROP_ANIMATION_FINISHED"))&&(n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)),r(i),!Vb(i,"DROP_ANIMATE"))return;const o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};n=requestAnimationFrame((()=>{n=null,t=ey(window,[o])}))}};var xw=e=>t=>n=>r=>{if((e=>Vb(e,"DROP_COMPLETE")||Vb(e,"DROP_ANIMATE")||Vb(e,"FLUSH"))(r))return e.stop(),void n(r);if(Vb(r,"INITIAL_PUBLISH")){n(r);const i=t.getState();return"DRAGGING"!==i.phase&&ry(),void e.start(i)}n(r),e.scroll(t.getState())};const kw=e=>t=>n=>{if(t(n),!Vb(n,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();"DROP_PENDING"===r.phase&&(r.isWaiting||e.dispatch(Zb({reason:r.reason})))},Tw=Vg;var Iw=e=>{let{dimensionMarshal:t,focusMarshal:n,styleMarshal:r,getResponders:i,announce:o,autoScroller:a}=e;return jg(Bb,Tw(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>(n,r)=>{const i=e(n,r);let o=()=>{throw new Error(Rg(15))};const a={getState:i.getState,dispatch:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return o(e,...n)}},s=t.map((e=>e(a)));return o=Vg(...s)(i.dispatch),{...i,dispatch:o}}}((s=r,()=>e=>t=>{Vb(t,"INITIAL_PUBLISH")&&s.dragging(),Vb(t,"DROP_ANIMATE")&&s.dropping(t.payload.completed.result.reason),(Vb(t,"FLUSH")||Vb(t,"DROP_COMPLETE"))&&s.resting(),e(t)}),(e=>()=>t=>n=>{(Vb(n,"DROP_COMPLETE")||Vb(n,"FLUSH")||Vb(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)})(t),(e=>t=>{let{getState:n,dispatch:r}=t;return t=>i=>{if(!Vb(i,"LIFT"))return void t(i);const{id:o,clientSelection:a,movementMode:s}=i.payload,l=n();"DROP_ANIMATING"===l.phase&&r(Jb({completed:l.completed})),"IDLE"!==n().phase&&ry(),r({type:"FLUSH",payload:null}),r({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:o,movementMode:s}});const c={draggableId:o,scrollOptions:{shouldPublishImmediately:"SNAP"===s}},{critical:u,dimensions:d,viewport:h}=e.startPublishing(c);r({type:"INITIAL_PUBLISH",payload:{critical:u,dimensions:d,clientSelection:a,movementMode:s,viewport:h}})}})(t),fw,Sw,_w,kw,xw(a),gw,(e=>{let t=!1;return()=>n=>r=>{if(Vb(r,"INITIAL_PUBLISH"))return t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),void e.tryRestoreFocusRecorded();if(n(r),t){if(Vb(r,"FLUSH"))return t=!1,void e.tryRestoreFocusRecorded();if(Vb(r,"DROP_COMPLETE")){t=!1;const n=r.payload.completed.result;n.combine&&e.tryShiftRecord(n.draggableId,n.combine.draggableId),e.tryRestoreFocusRecorded()}}}})(n),Ew(i,o))));var s};var Cw=e=>{let{scrollHeight:t,scrollWidth:n,height:r,width:i}=e;const o=my({x:n,y:t},{x:i,y:r});return{x:Math.max(0,o.x),y:Math.max(0,o.y)}},Dw=()=>{const e=document.documentElement;return e||ry(),e},Nw=()=>{const e=Dw();return Cw({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},Ow=e=>{let{critical:t,scrollOptions:n,registry:r}=e;Rb();const i=(()=>{const e=pw(),t=Nw(),n=e.y,r=e.x,i=Dw(),o=i.clientWidth,a=i.clientHeight;return{frame:Bv({top:n,left:r,right:r+o,bottom:n+a}),scroll:{initial:e,current:e,max:t,diff:{value:fy,displacement:fy}}}})(),o=i.scroll.current,a=t.droppable,s=r.droppable.getAllByType(a.type).map((e=>e.callbacks.getDimensionAndWatchScroll(o,n))),l=r.draggable.getAllByType(t.draggable.type).map((e=>e.getDimension(o))),c={draggables:Dy(l),droppables:Cy(s)};Pb();return{dimensions:c,critical:t,viewport:i}};function Aw(e,t,n){if(n.descriptor.id===t.id)return!1;if(n.descriptor.type!==t.type)return!1;return"virtual"===e.droppable.getById(n.descriptor.droppableId).descriptor.mode}var Rw=(e,t)=>{let n=null;const r=function(e){let{registry:t,callbacks:n}=e,r={additions:{},removals:{},modified:{}},i=null;const o=()=>{i||(n.collectionStarting(),i=requestAnimationFrame((()=>{i=null,Rb();const{additions:e,removals:o,modified:a}=r,s=Object.keys(e).map((e=>t.draggable.getById(e).getDimension(fy))).sort(((e,t)=>e.descriptor.index-t.descriptor.index)),l=Object.keys(a).map((e=>({droppableId:e,scroll:t.droppable.getById(e).callbacks.getScrollWhileDragging()}))),c={additions:s,removals:Object.keys(o),modified:l};r={additions:{},removals:{},modified:{}},Pb(),n.publish(c)})))};return{add:e=>{const t=e.descriptor.id;r.additions[t]=e,r.modified[e.descriptor.droppableId]=!0,r.removals[t]&&delete r.removals[t],o()},remove:e=>{const t=e.descriptor;r.removals[t.id]=!0,r.modified[t.droppableId]=!0,r.additions[t.id]&&delete r.additions[t.id],o()},stop:()=>{i&&(cancelAnimationFrame(i),i=null,r={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=t=>{n||ry();const i=n.critical.draggable;"ADDITION"===t.type&&Aw(e,i,t.value)&&r.add(t.value),"REMOVAL"===t.type&&Aw(e,i,t.value)&&r.remove(t.value)},o={updateDroppableIsEnabled:(r,i)=>{e.droppable.exists(r)||ry(),n&&t.updateDroppableIsEnabled({id:r,isEnabled:i})},updateDroppableIsCombineEnabled:(r,i)=>{n&&(e.droppable.exists(r)||ry(),t.updateDroppableIsCombineEnabled({id:r,isCombineEnabled:i}))},scrollDroppable:(t,r)=>{n&&e.droppable.getById(t).callbacks.scroll(r)},updateDroppableScroll:(r,i)=>{n&&(e.droppable.exists(r)||ry(),t.updateDroppableScroll({id:r,newScroll:i}))},startPublishing:t=>{n&&ry();const r=e.draggable.getById(t.draggableId),o=e.droppable.getById(r.descriptor.droppableId),a={draggable:r.descriptor,droppable:o.descriptor},s=e.subscribe(i);return n={critical:a,unsubscribe:s},Ow({critical:a,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:()=>{if(!n)return;r.stop();const t=n.critical.droppable;e.droppable.getAllByType(t.type).forEach((e=>e.callbacks.dragStopped())),n.unsubscribe(),n=null}};return o},Pw=(e,t)=>"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&(e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason),Mw=e=>{window.scrollBy(e.x,e.y)};const Lw=Iy((e=>Ny(e).filter((e=>!!e.isEnabled&&!!e.frame))));var Fw=e=>{let{center:t,destination:n,droppables:r}=e;if(n){const e=r[n];return e.frame?e:null}const i=((e,t)=>{const n=Lw(t).find((t=>(t.frame||ry(),Eb(t.frame.pageMarginBox)(e))))||null;return n})(t,r);return i};const jw={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var Uw=e=>{let{startOfRange:t,endOfRange:n,current:r}=e;const i=n-t;if(0===i)return 0;return(r-t)/i},Bw=e=>{let{distanceToEdge:t,thresholds:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:o}=e;const a=function(e,t){const n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>jw)();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return n.maxPixelScroll;if(e===t.startScrollingFrom)return 1;const r=1-Uw({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),i=n.maxPixelScroll*n.ease(r);return Math.ceil(i)}(t,n,o);return 0===a?0:i?Math.max(((e,t,n)=>{const r=n(),i=r.durationDampening.accelerateAt,o=r.durationDampening.stopDampeningAt,a=t,s=o,l=Date.now()-a;if(l>=o)return e;if(l<i)return 1;const c=Uw({startOfRange:i,endOfRange:s,current:l}),u=e*r.ease(c);return Math.ceil(u)})(a,r,o),1):a},Vw=e=>{let{container:t,distanceToEdges:n,dragStartTime:r,axis:i,shouldUseTimeDampening:o,getAutoScrollerOptions:a}=e;const s=function(e,t){const n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>jw)();return{startScrollingFrom:e[t.size]*n.startFromPercentage,maxScrollValueAt:e[t.size]*n.maxScrollAtPercentage}}(t,i,a);return n[i.end]<n[i.start]?Bw({distanceToEdge:n[i.end],thresholds:s,dragStartTime:r,shouldUseTimeDampening:o,getAutoScrollerOptions:a}):-1*Bw({distanceToEdge:n[i.start],thresholds:s,dragStartTime:r,shouldUseTimeDampening:o,getAutoScrollerOptions:a})};const zw=Ey((e=>0===e?0:e));var $w=e=>{let{dragStartTime:t,container:n,subject:r,center:i,shouldUseTimeDampening:o,getAutoScrollerOptions:a}=e;const s={top:i.y-n.top,right:n.right-i.x,bottom:n.bottom-i.y,left:i.x-n.left},l=Vw({container:n,distanceToEdges:s,dragStartTime:t,axis:$y,shouldUseTimeDampening:o,getAutoScrollerOptions:a}),c=Vw({container:n,distanceToEdges:s,dragStartTime:t,axis:Hy,shouldUseTimeDampening:o,getAutoScrollerOptions:a}),u=zw({x:c,y:l});if(gy(u,fy))return null;const d=(e=>{let{container:t,subject:n,proposedScroll:r}=e;const i=n.height>t.height,o=n.width>t.width;return o||i?o&&i?null:{x:o?0:r.x,y:i?0:r.y}:r})({container:n,subject:r,proposedScroll:u});return d?gy(d,fy)?null:d:null};const Hw=Ey((e=>0===e?0:e>0?1:-1)),Ww=(()=>{const e=(e,t)=>e<0?e:e>t?e-t:0;return t=>{let{current:n,max:r,change:i}=t;const o=py(n,i),a={x:e(o.x,r.x),y:e(o.y,r.y)};return gy(a,fy)?null:a}})(),qw=e=>{let{max:t,current:n,change:r}=e;const i={x:Math.max(n.x,t.x),y:Math.max(n.y,t.y)},o=Hw(r),a=Ww({max:i,current:n,change:o});return!a||(0!==o.x&&0===a.x||0!==o.y&&0===a.y)},Gw=(e,t)=>qw({current:e.scroll.current,max:e.scroll.max,change:t}),Kw=(e,t)=>{const n=e.frame;return!!n&&qw({current:n.scroll.current,max:n.scroll.max,change:t})};var Yw=e=>{let{state:t,dragStartTime:n,shouldUseTimeDampening:r,scrollWindow:i,scrollDroppable:o,getAutoScrollerOptions:a}=e;const s=t.current.page.borderBoxCenter,l=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){const e=(e=>{let{viewport:t,subject:n,center:r,dragStartTime:i,shouldUseTimeDampening:o,getAutoScrollerOptions:a}=e;const s=$w({dragStartTime:i,container:t.frame,subject:n,center:r,shouldUseTimeDampening:o,getAutoScrollerOptions:a});return s&&Gw(t,s)?s:null})({dragStartTime:n,viewport:t.viewport,subject:l,center:s,shouldUseTimeDampening:r,getAutoScrollerOptions:a});if(e)return void i(e)}const c=Fw({center:s,destination:yb(t.impact),droppables:t.dimensions.droppables});if(!c)return;const u=(e=>{let{droppable:t,subject:n,center:r,dragStartTime:i,shouldUseTimeDampening:o,getAutoScrollerOptions:a}=e;const s=t.frame;if(!s)return null;const l=$w({dragStartTime:i,container:s.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:o,getAutoScrollerOptions:a});return l&&Kw(t,l)?l:null})({dragStartTime:n,droppable:c,subject:l,center:s,shouldUseTimeDampening:r,getAutoScrollerOptions:a});u&&o(c.descriptor.id,u)},Qw=e=>{let{move:t,scrollDroppable:n,scrollWindow:r}=e;const i=(e,t)=>{if(!Kw(e,t))return t;const r=((e,t)=>{const n=e.frame;return n&&Kw(e,t)?Ww({current:n.scroll.current,max:n.scroll.max,change:t}):null})(e,t);if(!r)return n(e.descriptor.id,t),null;const i=my(t,r);n(e.descriptor.id,i);return my(t,i)},o=(e,t,n)=>{if(!e)return n;if(!Gw(t,n))return n;const i=((e,t)=>{if(!Gw(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return Ww({current:r,max:n,change:t})})(t,n);if(!i)return r(n),null;const o=my(n,i);r(o);return my(n,o)};return e=>{const n=e.scrollJumpRequest;if(!n)return;const r=yb(e.impact);r||ry();const a=i(e.dimensions.droppables[r],n);if(!a)return;const s=e.viewport,l=o(e.isWindowScrollAllowed,s,a);l&&((e,n)=>{const r=py(e.current.client.selection,n);t({client:r})})(e,l)}},Xw=e=>{let{scrollDroppable:t,scrollWindow:n,move:r,getAutoScrollerOptions:i}=e;const o=(e=>{let{scrollWindow:t,scrollDroppable:n,getAutoScrollerOptions:r=()=>jw}=e;const i=Qv(t),o=Qv(n);let a=null;const s=e=>{a||ry();const{shouldUseTimeDampening:t,dragStartTime:n}=a;Yw({state:e,scrollWindow:i,scrollDroppable:o,dragStartTime:n,shouldUseTimeDampening:t,getAutoScrollerOptions:r})};return{start:e=>{Rb(),a&&ry();const t=Date.now();let n=!1;const i=()=>{n=!0};Yw({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:i,scrollDroppable:i,getAutoScrollerOptions:r}),a={dragStartTime:t,shouldUseTimeDampening:n},Pb(),n&&s(e)},stop:()=>{a&&(i.cancel(),o.cancel(),a=null)},scroll:s}})({scrollWindow:n,scrollDroppable:t,getAutoScrollerOptions:i}),a=Qw({move:r,scrollWindow:n,scrollDroppable:t});return{scroll:e=>{i().disabled||"DRAGGING"!==e.phase||("FLUID"!==e.movementMode?e.scrollJumpRequest&&a(e):o.scroll(e))},start:o.start,stop:o.stop}};const Jw="data-rfd",Zw=(()=>{const e=`${Jw}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),eE=(()=>{const e=`${Jw}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),tE=(()=>{const e=`${Jw}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),nE={contextId:`${Jw}-scroll-container-context-id`},rE=(e,t)=>e.map((e=>{const n=e.styles[t];return n?`${e.selector} { ${n} }`:""})).join(" ");const iE="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?t.useLayoutEffect:t.useEffect,oE=()=>{const e=document.querySelector("head");return e||ry(),e},aE=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function sE(e,n){const r=dy((()=>(e=>{const t=(n=e,e=>`[${e}="${n}"]`);var n;const r=(()=>{const e="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ";return{selector:t(Zw.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:e,dragging:"pointer-events: none;",dropAnimating:e}}})(),i=[(()=>{const e=`\n      transition: ${aw.outOfTheWay};\n    `;return{selector:t(eE.contextId),styles:{dragging:e,dropAnimating:e,userCancel:e}}})(),r,{selector:t(tE.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:rE(i,"always"),resting:rE(i,"resting"),dragging:rE(i,"dragging"),dropAnimating:rE(i,"dropAnimating"),userCancel:rE(i,"userCancel")}})(e)),[e]),i=(0,t.useRef)(null),o=(0,t.useRef)(null),a=hy(Iy((e=>{const t=o.current;t||ry(),t.textContent=e})),[]),s=hy((e=>{const t=i.current;t||ry(),t.textContent=e}),[]);iE((()=>{(i.current||o.current)&&ry();const t=aE(n),l=aE(n);return i.current=t,o.current=l,t.setAttribute(`${Jw}-always`,e),l.setAttribute(`${Jw}-dynamic`,e),oE().appendChild(t),oE().appendChild(l),s(r.always),a(r.resting),()=>{const e=e=>{const t=e.current;t||ry(),oE().removeChild(t),e.current=null};e(i),e(o)}}),[n,s,a,r.always,r.resting,e]);const l=hy((()=>a(r.dragging)),[a,r.dragging]),c=hy((e=>{a("DROP"!==e?r.userCancel:r.dropAnimating)}),[a,r.dropAnimating,r.userCancel]),u=hy((()=>{o.current&&a(r.resting)}),[a,r.resting]);return dy((()=>({dragging:l,dropping:c,resting:u})),[l,c,u])}function lE(e,t){return Array.from(e.querySelectorAll(t))}var cE=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function uE(e){return e instanceof cE(e).HTMLElement}function dE(e,t){const n=`[${Zw.contextId}="${e}"]`,r=lE(document,n);if(!r.length)return null;const i=r.find((e=>e.getAttribute(Zw.draggableId)===t));return i&&uE(i)?i:null}function hE(){const e={draggables:{},droppables:{}},t=[];function n(e){t.length&&t.forEach((t=>t(e)))}function r(t){return e.draggables[t]||null}function i(t){return e.droppables[t]||null}return{draggable:{register:t=>{e.draggables[t.descriptor.id]=t,n({type:"ADDITION",value:t})},update:(t,n)=>{const r=e.draggables[n.descriptor.id];r&&r.uniqueId===t.uniqueId&&(delete e.draggables[n.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:t=>{const i=t.descriptor.id,o=r(i);o&&t.uniqueId===o.uniqueId&&(delete e.draggables[i],e.droppables[t.descriptor.droppableId]&&n({type:"REMOVAL",value:t}))},getById:function(e){const t=r(e);return t||ry(),t},findById:r,exists:e=>Boolean(r(e)),getAllByType:t=>Object.values(e.draggables).filter((e=>e.descriptor.type===t))},droppable:{register:t=>{e.droppables[t.descriptor.id]=t},unregister:t=>{const n=i(t.descriptor.id);n&&t.uniqueId===n.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){const t=i(e);return t||ry(),t},findById:i,exists:e=>Boolean(i(e)),getAllByType:t=>Object.values(e.droppables).filter((e=>e.descriptor.type===t))},subscribe:function(e){return t.push(e),function(){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var fE=t.createContext(null),pE=()=>{const e=document.body;return e||ry(),e};const mE={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"};const gE={separator:"::"};function vE(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gE;const r=t.useId();return dy((()=>`${e}${n.separator}${r}`),[n.separator,e,r])}var yE=t.createContext(null);function bE(e){0}function wE(e,t){bE()}function EE(){wE()}function SE(e){const n=(0,t.useRef)(e);return(0,t.useEffect)((()=>{n.current=e})),n}function _E(e){return"IDLE"!==e.phase&&"DROP_ANIMATING"!==e.phase&&e.isDragging}const xE=9,kE=13,TE=33,IE=34,CE=35,DE=36,NE={[kE]:!0,[xE]:!0};var OE=e=>{NE[e.keyCode]&&e.preventDefault()};const AE=(()=>{const e="visibilitychange";if("undefined"===typeof document)return e;return[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find((e=>`on${e}`in document))||e})();const RE={type:"IDLE"};function PE(e){let{cancel:t,completed:n,getPhase:r,setPhase:i}=e;return[{eventName:"mousemove",fn:e=>{const{button:t,clientX:n,clientY:o}=e;if(0!==t)return;const a={x:n,y:o},s=r();if("DRAGGING"===s.type)return e.preventDefault(),void s.actions.move(a);"PENDING"!==s.type&&ry();const l=s.point;if(c=l,u=a,!(Math.abs(u.x-c.x)>=5||Math.abs(u.y-c.y)>=5))return;var c,u;e.preventDefault();const d=s.actions.fluidLift(a);i({type:"DRAGGING",actions:d})}},{eventName:"mouseup",fn:e=>{const i=r();"DRAGGING"===i.type?(e.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"mousedown",fn:e=>{"DRAGGING"===r().type&&e.preventDefault(),t()}},{eventName:"keydown",fn:e=>{if("PENDING"!==r().type)return 27===e.keyCode?(e.preventDefault(),void t()):void OE(e);t()}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{"PENDING"===r().type&&t()}},{eventName:"webkitmouseforcedown",fn:e=>{const n=r();"IDLE"===n.type&&ry(),n.actions.shouldRespectForcePress()?t():e.preventDefault()}},{eventName:AE,fn:t}]}function ME(){}const LE={[IE]:!0,[TE]:!0,[DE]:!0,[CE]:!0};function FE(e,t){function n(){t(),e.cancel()}return[{eventName:"keydown",fn:r=>27===r.keyCode?(r.preventDefault(),void n()):32===r.keyCode?(r.preventDefault(),t(),void e.drop()):40===r.keyCode?(r.preventDefault(),void e.moveDown()):38===r.keyCode?(r.preventDefault(),void e.moveUp()):39===r.keyCode?(r.preventDefault(),void e.moveRight()):37===r.keyCode?(r.preventDefault(),void e.moveLeft()):void(LE[r.keyCode]?r.preventDefault():OE(r))},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:AE,fn:n}]}const jE={type:"IDLE"};const UE=["input","button","textarea","select","option","optgroup","video","audio"];function BE(e,t){if(null==t)return!1;if(UE.includes(t.tagName.toLowerCase()))return!0;const n=t.getAttribute("contenteditable");return"true"===n||""===n||t!==e&&BE(e,t.parentElement)}function VE(e,t){const n=t.target;return!!uE(n)&&BE(e,n)}var zE=e=>Bv(e.getBoundingClientRect()).center;const $E=(()=>{const e="matches";if("undefined"===typeof document)return e;return[e,"msMatchesSelector","webkitMatchesSelector"].find((e=>e in Element.prototype))||e})();function HE(e,t){return null==e?null:e[$E](t)?e:HE(e.parentElement,t)}function WE(e,t){return e.closest?e.closest(t):HE(e,t)}function qE(e,t){const n=t.target;if(!((r=n)instanceof cE(r).Element))return null;var r;const i=function(e){return`[${Zw.contextId}="${e}"]`}(e),o=WE(n,i);return o&&uE(o)?o:null}function GE(e){e.preventDefault()}function KE(e){let{expected:t,phase:n,isLockActive:r,shouldWarn:i}=e;return!!r()&&t===n}function YE(e){let{lockAPI:t,store:n,registry:r,draggableId:i}=e;if(t.isClaimed())return!1;const o=r.draggable.findById(i);return!!o&&(!!o.options.isEnabled&&!!Pw(n.getState(),i))}function QE(e){let{lockAPI:t,contextId:n,store:r,registry:i,draggableId:o,forceSensorStop:a,sourceEvent:s}=e;if(!YE({lockAPI:t,store:r,registry:i,draggableId:o}))return null;const l=i.draggable.getById(o),c=function(e,t){const n=`[${eE.contextId}="${e}"]`,r=lE(document,n).find((e=>e.getAttribute(eE.id)===t));return r&&uE(r)?r:null}(n,l.descriptor.id);if(!c)return null;if(s&&!l.options.canDragInteractiveElements&&VE(c,s))return null;const u=t.claim(a||Zv);let d="PRE_DRAG";function h(){return l.options.shouldRespectForcePress}function f(){return t.isActive(u)}const p=function(e,t){KE({expected:e,phase:d,isLockActive:f,shouldWarn:!0})&&r.dispatch(t())}.bind(null,"DRAGGING");function m(e){function n(){t.release(),d="COMPLETED"}function i(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shouldBlockNextClick:!1};if(e.cleanup(),i.shouldBlockNextClick){const e=ey(window,[{eventName:"click",fn:GE,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(e)}n(),r.dispatch(Zb({reason:t}))}return"PRE_DRAG"!==d&&(n(),ry()),r.dispatch((e=>({type:"LIFT",payload:e}))(e.liftActionArgs)),d="DRAGGING",{isActive:()=>KE({expected:"DRAGGING",phase:d,isLockActive:f,shouldWarn:!1}),shouldRespectForcePress:h,drop:e=>i("DROP",e),cancel:e=>i("CANCEL",e),...e.actions}}const g={isActive:()=>KE({expected:"PRE_DRAG",phase:d,isLockActive:f,shouldWarn:!1}),shouldRespectForcePress:h,fluidLift:function(e){const t=Qv((e=>{p((()=>Gb({client:e})))}));return{...m({liftActionArgs:{id:o,clientSelection:e,movementMode:"FLUID"},cleanup:()=>t.cancel(),actions:{move:t}}),move:t}},snapLift:function(){const e={moveUp:()=>p(Kb),moveRight:()=>p(Qb),moveDown:()=>p(Yb),moveLeft:()=>p(Xb)};return m({liftActionArgs:{id:o,clientSelection:zE(c),movementMode:"SNAP"},cleanup:Zv,actions:e})},abort:function(){KE({expected:"PRE_DRAG",phase:d,isLockActive:f,shouldWarn:!0})&&t.release()}};return g}const XE=[function(e){const n=(0,t.useRef)(RE),r=(0,t.useRef)(Zv),i=dy((()=>({eventName:"mousedown",fn:function(t){if(t.defaultPrevented)return;if(0!==t.button)return;if(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)return;const n=e.findClosestDraggableId(t);if(!n)return;const i=e.tryGetLock(n,s,{sourceEvent:t});if(!i)return;t.preventDefault();const o={x:t.clientX,y:t.clientY};r.current(),u(i,o)}})),[e]),o=dy((()=>({eventName:"webkitmouseforcewillbegin",fn:t=>{if(t.defaultPrevented)return;const n=e.findClosestDraggableId(t);if(!n)return;const r=e.findOptionsForDraggable(n);r&&(r.shouldRespectForcePress||e.canGetLock(n)&&t.preventDefault())}})),[e]),a=hy((function(){r.current=ey(window,[o,i],{passive:!1,capture:!0})}),[o,i]),s=hy((()=>{"IDLE"!==n.current.type&&(n.current=RE,r.current(),a())}),[a]),l=hy((()=>{const e=n.current;s(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[s]),c=hy((function(){const e=PE({cancel:l,completed:s,getPhase:()=>n.current,setPhase:e=>{n.current=e}});r.current=ey(window,e,{capture:!0,passive:!1})}),[l,s]),u=hy((function(e,t){"IDLE"!==n.current.type&&ry(),n.current={type:"PENDING",point:t,actions:e},c()}),[c]);iE((function(){return a(),function(){r.current()}}),[a])},function(e){const n=(0,t.useRef)(ME),r=dy((()=>({eventName:"keydown",fn:function(t){if(t.defaultPrevented)return;if(32!==t.keyCode)return;const r=e.findClosestDraggableId(t);if(!r)return;const o=e.tryGetLock(r,l,{sourceEvent:t});if(!o)return;t.preventDefault();let a=!0;const s=o.snapLift();function l(){a||ry(),a=!1,n.current(),i()}n.current(),n.current=ey(window,FE(s,l),{capture:!0,passive:!1})}})),[e]),i=hy((function(){n.current=ey(window,[r],{passive:!1,capture:!0})}),[r]);iE((function(){return i(),function(){n.current()}}),[i])},function(e){const n=(0,t.useRef)(jE),r=(0,t.useRef)(Zv),i=hy((function(){return n.current}),[]),o=hy((function(e){n.current=e}),[]),a=dy((()=>({eventName:"touchstart",fn:function(t){if(t.defaultPrevented)return;const n=e.findClosestDraggableId(t);if(!n)return;const i=e.tryGetLock(n,l,{sourceEvent:t});if(!i)return;const o=t.touches[0],{clientX:a,clientY:s}=o,c={x:a,y:s};r.current(),h(i,c)}})),[e]),s=hy((function(){r.current=ey(window,[a],{capture:!0,passive:!1})}),[a]),l=hy((()=>{const e=n.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),o(jE),r.current(),s())}),[s,o]),c=hy((()=>{const e=n.current;l(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[l]),u=hy((function(){const e={capture:!0,passive:!1},t={cancel:c,completed:l,getPhase:i},n=ey(window,function(e){let{cancel:t,completed:n,getPhase:r}=e;return[{eventName:"touchmove",options:{capture:!1},fn:e=>{const n=r();if("DRAGGING"!==n.type)return void t();n.hasMoved=!0;const{clientX:i,clientY:o}=e.touches[0],a={x:i,y:o};e.preventDefault(),n.actions.move(a)}},{eventName:"touchend",fn:e=>{const i=r();"DRAGGING"===i.type?(e.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"touchcancel",fn:e=>{"DRAGGING"===r().type?(e.preventDefault(),t()):t()}},{eventName:"touchforcechange",fn:e=>{const n=r();"IDLE"===n.type&&ry();const i=e.touches[0];if(!i)return;if(!(i.force>=.15))return;const o=n.actions.shouldRespectForcePress();if("PENDING"!==n.type)return o?n.hasMoved?void e.preventDefault():void t():void e.preventDefault();o&&t()}},{eventName:AE,fn:t}]}(t),e),o=ey(window,function(e){let{cancel:t,getPhase:n}=e;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:e=>{e.preventDefault()}},{eventName:"keydown",fn:e=>{"DRAGGING"===n().type?(27===e.keyCode&&e.preventDefault(),t()):t()}},{eventName:AE,fn:t}]}(t),e);r.current=function(){n(),o()}}),[c,i,l]),d=hy((function(){const e=i();"PENDING"!==e.type&&ry();const t=e.actions.fluidLift(e.point);o({type:"DRAGGING",actions:t,hasMoved:!1})}),[i,o]),h=hy((function(e,t){"IDLE"!==i().type&&ry();const n=setTimeout(d,120);o({type:"PENDING",point:t,actions:e,longPressTimerId:n}),u()}),[u,i,o,d]);iE((function(){return s(),function(){r.current();const e=i();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),o(jE))}}),[i,s,o]),iE((function(){return ey(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])}),[])}];function JE(e){let{contextId:n,store:r,registry:i,customSensors:o,enableDefaultSensors:a}=e;const s=[...a?XE:[],...o||[]],l=(0,t.useState)((()=>function(){let e=null;function t(){e||ry(),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&ry();const n={abandon:t};return e=n,n},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}()))[0],c=hy((function(e,t){_E(e)&&!_E(t)&&l.tryAbandon()}),[l]);iE((function(){let e=r.getState();return r.subscribe((()=>{const t=r.getState();c(e,t),e=t}))}),[l,r,c]),iE((()=>l.tryAbandon),[l.tryAbandon]);const u=hy((e=>YE({lockAPI:l,registry:i,store:r,draggableId:e})),[l,i,r]),d=hy(((e,t,o)=>QE({lockAPI:l,registry:i,contextId:n,store:r,draggableId:e,forceSensorStop:t||null,sourceEvent:o&&o.sourceEvent?o.sourceEvent:null})),[n,l,i,r]),h=hy((e=>function(e,t){const n=qE(e,t);return n?n.getAttribute(Zw.draggableId):null}(n,e)),[n]),f=hy((e=>{const t=i.draggable.findById(e);return t?t.options:null}),[i.draggable]),p=hy((function(){l.isClaimed()&&(l.tryAbandon(),"IDLE"!==r.getState().phase&&r.dispatch({type:"FLUSH",payload:null}))}),[l,r]),m=hy((()=>l.isClaimed()),[l]),g=dy((()=>({canGetLock:u,tryGetLock:d,findClosestDraggableId:h,findOptionsForDraggable:f,tryReleaseLock:p,isLockClaimed:m})),[u,d,h,f,p,m]);bE();for(let t=0;t<s.length;t++)s[t](g)}function ZE(e){return e.current||ry(),e.current}function eS(e){const{contextId:n,setCallbacks:r,sensors:i,nonce:o,dragHandleUsageInstructions:a}=e,s=(0,t.useRef)(null);EE();const l=SE(e),c=hy((()=>(e=>({onBeforeCapture:t=>{(0,Ag.flushSync)((()=>{e.onBeforeCapture&&e.onBeforeCapture(t)}))},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}))(l.current)),[l]),u=hy((()=>(e=>({...jw,...e.autoScrollerOptions,durationDampening:{...jw.durationDampening,...e.autoScrollerOptions}}))(l.current)),[l]),d=function(e){const n=dy((()=>(e=>`rfd-announcement-${e}`)(e)),[e]),r=(0,t.useRef)(null);(0,t.useEffect)((function(){const e=document.createElement("div");return r.current=e,e.id=n,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),Xv(e.style,mE),pE().appendChild(e),function(){setTimeout((function(){const t=pE();t.contains(e)&&t.removeChild(e),e===r.current&&(r.current=null)}))}}),[n]);const i=hy((e=>{const t=r.current;t&&(t.textContent=e)}),[]);return i}(n),h=function(e){let{contextId:n,text:r}=e;const i=vE("hidden-text",{separator:"-"}),o=dy((()=>function(e){let{contextId:t,uniqueId:n}=e;return`rfd-hidden-text-${t}-${n}`}({contextId:n,uniqueId:i})),[i,n]);return(0,t.useEffect)((function(){const e=document.createElement("div");return e.id=o,e.textContent=r,e.style.display="none",pE().appendChild(e),function(){const t=pE();t.contains(e)&&t.removeChild(e)}}),[o,r]),o}({contextId:n,text:a}),f=sE(n,o),p=hy((e=>{ZE(s).dispatch(e)}),[]),m=dy((()=>Bg({publishWhileDragging:zb,updateDroppableScroll:Hb,updateDroppableIsEnabled:Wb,updateDroppableIsCombineEnabled:qb,collectionStarting:$b},p)),[p]),g=function(){const e=dy(hE,[]);return(0,t.useEffect)((()=>function(){e.clean()}),[e]),e}(),v=dy((()=>Rw(g,m)),[g,m]),y=dy((()=>Xw({scrollWindow:Mw,scrollDroppable:v.scrollDroppable,getAutoScrollerOptions:u,...Bg({move:Gb},p)})),[v.scrollDroppable,p,u]),b=function(e){const n=(0,t.useRef)({}),r=(0,t.useRef)(null),i=(0,t.useRef)(null),o=(0,t.useRef)(!1),a=hy((function(e,t){const r={id:e,focus:t};return n.current[e]=r,function(){const t=n.current;t[e]!==r&&delete t[e]}}),[]),s=hy((function(t){const n=dE(e,t);n&&n!==document.activeElement&&n.focus()}),[e]),l=hy((function(e,t){r.current===e&&(r.current=t)}),[]),c=hy((function(){i.current||o.current&&(i.current=requestAnimationFrame((()=>{i.current=null;const e=r.current;e&&s(e)})))}),[s]),u=hy((function(e){r.current=null;const t=document.activeElement;t&&t.getAttribute(Zw.draggableId)===e&&(r.current=e)}),[]);return iE((()=>(o.current=!0,function(){o.current=!1;const e=i.current;e&&cancelAnimationFrame(e)})),[]),dy((()=>({register:a,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:l})),[a,u,c,l])}(n),w=dy((()=>Iw({announce:d,autoScroller:y,dimensionMarshal:v,focusMarshal:b,getResponders:c,styleMarshal:f})),[d,y,v,b,c,f]);s.current=w;const E=hy((()=>{const e=ZE(s);"IDLE"!==e.getState().phase&&e.dispatch({type:"FLUSH",payload:null})}),[]),S=hy((()=>{const e=ZE(s).getState();return"DROP_ANIMATING"===e.phase||"IDLE"!==e.phase&&e.isDragging}),[]);r(dy((()=>({isDragging:S,tryAbort:E})),[S,E]));const _=hy((e=>Pw(ZE(s).getState(),e)),[]),x=hy((()=>wb(ZE(s).getState())),[]),k=dy((()=>({marshal:v,focus:b,contextId:n,canLift:_,isMovementAllowed:x,dragHandleUsageInstructionsId:h,registry:g})),[n,v,h,b,_,x,g]);return JE({contextId:n,store:w,registry:g,customSensors:i||null,enableDefaultSensors:!1!==e.enableDefaultSensors}),(0,t.useEffect)((()=>E),[E]),t.createElement(yE.Provider,{value:k},t.createElement(jv,{context:fE,store:w},e.children))}function tS(e){const n=t.useId(),r=e.dragHandleUsageInstructions||cy.dragHandleUsageInstructions;return t.createElement(iy,null,(i=>t.createElement(eS,{nonce:e.nonce,contextId:n,setCallbacks:i,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children)))}const nS=5e3,rS=4500,iS=(e,t)=>t?aw.drop(t.duration):e?aw.snap:aw.fluid,oS=(e,t)=>{if(e)return t?nw.drop:nw.combining};function aS(e){return"DRAGGING"===e.type?function(e){const t=e.dimension.client,{offset:n,combineWith:r,dropping:i}=e,o=Boolean(r),a=(e=>null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode)(e),s=Boolean(i),l=s?cw(n,o):lw(n);return{position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:iS(a,i),transform:l,opacity:oS(o,s),zIndex:s?rS:nS,pointerEvents:"none"}}(e):{transform:lw((t=e).offset),transition:t.shouldAnimateDisplacement?void 0:"none"};var t}function sS(e){const n=vE("draggable"),{descriptor:r,registry:i,getDraggableRef:o,canDragInteractiveElements:a,shouldRespectForcePress:s,isEnabled:l}=e,c=dy((()=>({canDragInteractiveElements:a,shouldRespectForcePress:s,isEnabled:l})),[a,l,s]),u=hy((e=>{const t=o();return t||ry(),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fy;const r=window.getComputedStyle(t),i=t.getBoundingClientRect(),o=Kv(i,r),a=Gv(o,n);return{descriptor:e,placeholder:{client:o,tagName:t.tagName.toLowerCase(),display:r.display},displaceBy:{x:o.marginBox.width,y:o.marginBox.height},client:o,page:a}}(r,t,e)}),[r,o]),d=dy((()=>({uniqueId:n,descriptor:r,options:c,getDimension:u})),[r,u,c,n]),h=(0,t.useRef)(d),f=(0,t.useRef)(!0);iE((()=>(i.draggable.register(h.current),()=>i.draggable.unregister(h.current))),[i.draggable]),iE((()=>{if(f.current)return void(f.current=!1);const e=h.current;h.current=d,i.draggable.update(d,e)}),[d,i.draggable])}var lS=t.createContext(null);function cS(e){const n=(0,t.useContext)(e);return n||ry(),n}function uS(e){e.preventDefault()}var dS=(e,t)=>e===t,hS=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};function fS(){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,combineWith:null}}const pS={mapped:{type:"SECONDARY",offset:fy,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:fS(null)}};const mS=Fv((()=>{const e=function(){const e=Iy(((e,t)=>({x:e,y:t}))),t=Iy((function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return{isDragging:!0,isClone:t,isDropAnimating:Boolean(i),dropAnimation:i,mode:e,draggingOver:n,combineWith:r,combineTargetFor:null}})),n=Iy((function(e,n,r,i){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;return{mapped:{type:"DRAGGING",dropping:null,draggingOver:o,combineWith:a,mode:n,offset:e,dimension:r,forceShouldAnimate:arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,snapshot:t(n,i,o,a,null)}}}));return(r,i)=>{if(_E(r)){if(r.critical.draggable.id!==i.draggableId)return null;const t=r.current.client.offset,a=r.dimensions.draggables[i.draggableId],s=yb(r.impact),l=(o=r.impact).at&&"COMBINE"===o.at.type?o.at.combine.draggableId:null,c=r.forceShouldAnimate;return n(e(t.x,t.y),r.movementMode,a,i.isClone,s,l,c)}var o;if("DROP_ANIMATING"===r.phase){const e=r.completed;if(e.result.draggableId!==i.draggableId)return null;const n=i.isClone,o=r.dimensions.draggables[i.draggableId],a=e.result,s=a.mode,l=hS(a),c=(e=>e.combine?e.combine.draggableId:null)(a),u={duration:r.dropDuration,curve:tw,moveTo:r.newHomeClientOffset,opacity:c?nw.drop:null,scale:c?rw.drop:null};return{mapped:{type:"DRAGGING",offset:r.newHomeClientOffset,dimension:o,dropping:u,draggingOver:l,combineWith:c,mode:s,forceShouldAnimate:null,snapshot:t(s,n,l,c,u)}}}return null}}(),t=function(){const e=Iy(((e,t)=>({x:e,y:t}))),t=Iy(fS),n=Iy((function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{mapped:{type:"SECONDARY",offset:e,combineTargetFor:n,shouldAnimateDisplacement:arguments.length>2?arguments[2]:void 0,snapshot:t(n)}}})),r=e=>e?n(fy,e,!0):null,i=(t,i,o,a)=>{const s=o.displaced.visible[t],l=Boolean(a.inVirtualList&&a.effected[t]),c=Py(o),u=c&&c.draggableId===t?i:null;if(!s){if(!l)return r(u);if(o.displaced.invisible[t])return null;const i=vy(a.displacedBy.point),s=e(i.x,i.y);return n(s,u,!0)}if(l)return r(u);const d=o.displacedBy.point,h=e(d.x,d.y);return n(h,u,s.shouldAnimate)};return(e,t)=>{if(_E(e))return e.critical.draggable.id===t.draggableId?null:i(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){const n=e.completed;return n.result.draggableId===t.draggableId?null:i(t.draggableId,n.result.draggableId,n.impact,n.afterCritical)}return null}}();return(n,r)=>e(n,r)||t(n,r)||pS}),{dropAnimationFinished:ew},null,{context:fE,areStatePropsEqual:dS})((e=>{const n=(0,t.useRef)(null),r=hy((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;n.current=e}),[]),i=hy((()=>n.current),[]),{contextId:o,dragHandleUsageInstructionsId:a,registry:s}=cS(yE),{type:l,droppableId:c}=cS(lS),u=dy((()=>({id:e.draggableId,index:e.index,type:l,droppableId:c})),[e.draggableId,e.index,l,c]),{children:d,draggableId:h,isEnabled:f,shouldRespectForcePress:p,canDragInteractiveElements:m,isClone:g,mapped:v,dropAnimationFinished:y}=e;if(wE(),bE(),!g){sS(dy((()=>({descriptor:u,registry:s,getDraggableRef:i,canDragInteractiveElements:m,shouldRespectForcePress:p,isEnabled:f})),[u,s,i,m,p,f]))}const b=dy((()=>f?{tabIndex:0,role:"button","aria-describedby":a,"data-rfd-drag-handle-draggable-id":h,"data-rfd-drag-handle-context-id":o,draggable:!1,onDragStart:uS}:null),[o,a,h,f]),w=hy((e=>{"DRAGGING"===v.type&&v.dropping&&"transform"===e.propertyName&&(0,Ag.flushSync)(y)}),[y,v]),E=dy((()=>{const e=aS(v),t="DRAGGING"===v.type&&v.dropping?w:void 0;return{innerRef:r,draggableProps:{"data-rfd-draggable-context-id":o,"data-rfd-draggable-id":h,style:e,onTransitionEnd:t},dragHandleProps:b}}),[o,b,h,v,w,r]),S=dy((()=>({draggableId:u.id,type:u.type,source:{index:u.index,droppableId:u.droppableId}})),[u.droppableId,u.id,u.index,u.type]);return t.createElement(t.Fragment,null,d(E,v.snapshot,S))}));function gS(e){return cS(lS).isUsingCloneFor!==e.draggableId||e.isClone?t.createElement(mS,e):null}function vS(e){const n="boolean"!==typeof e.isDragDisabled||!e.isDragDisabled,r=Boolean(e.disableInteractiveElementBlocking),i=Boolean(e.shouldRespectForcePress);return t.createElement(gS,Xv({},e,{isClone:!1,isEnabled:n,canDragInteractiveElements:r,shouldRespectForcePress:i}))}const yS=e=>t=>e===t,bS=yS("scroll"),wS=yS("auto"),ES=(yS("visible"),(e,t)=>t(e.overflowX)||t(e.overflowY)),SS=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return ES(n,bS)||ES(n,wS)},_S=e=>null==e||e===document.body||e===document.documentElement?null:SS(e)?e:_S(e.parentElement);var xS=e=>({x:e.scrollLeft,y:e.scrollTop});const kS=e=>{if(!e)return!1;return"fixed"===window.getComputedStyle(e).position||kS(e.parentElement)};var TS=e=>{let{ref:t,descriptor:n,env:r,windowScroll:i,direction:o,isDropDisabled:a,isCombineEnabled:s,shouldClipSubject:l}=e;const c=r.closestScrollable,u=((e,t)=>{const n=Yv(e);if(!t)return n;if(e!==t)return n;const r=n.paddingBox.top-t.scrollTop,i=n.paddingBox.left-t.scrollLeft,o=r+t.scrollHeight,a=i+t.scrollWidth,s=Vv({top:r,right:a,bottom:o,left:i},n.border);return Hv({borderBox:s,margin:n.margin,border:n.border,padding:n.padding})})(t,c),d=Gv(u,i),h=(()=>{if(!c)return null;const e=Yv(c),t={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:e,page:Gv(e,i),scroll:xS(c),scrollSize:t,shouldClipSubject:l}})(),f=(e=>{let{descriptor:t,isEnabled:n,isCombineEnabled:r,isFixedOnPage:i,direction:o,client:a,page:s,closest:l}=e;const c=(()=>{if(!l)return null;const{scrollSize:e,client:t}=l,n=Cw({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:n,diff:{value:fy,displacement:fy}}}})(),u="vertical"===o?$y:Hy;return{descriptor:t,isCombineEnabled:r,isFixedOnPage:i,axis:u,isEnabled:n,client:a,page:s,frame:c,subject:ky({page:s,withPlaceholder:null,axis:u,frame:c})}})({descriptor:n,isEnabled:!a,isCombineEnabled:s,isFixedOnPage:r.isFixedOnPage,direction:o,client:u,page:d,closest:h});return f};const IS={passive:!1},CS={passive:!0};var DS=e=>e.shouldPublishImmediately?IS:CS;const NS=e=>e&&e.env.closestScrollable||null;function OS(e){const n=(0,t.useRef)(null),r=cS(yE),i=vE("droppable"),{registry:o,marshal:a}=r,s=SE(e),l=dy((()=>({id:e.droppableId,type:e.type,mode:e.mode})),[e.droppableId,e.mode,e.type]),c=(0,t.useRef)(l),u=dy((()=>Iy(((e,t)=>{n.current||ry();const r={x:e,y:t};a.updateDroppableScroll(l.id,r)}))),[l.id,a]),d=hy((()=>{const e=n.current;return e&&e.env.closestScrollable?xS(e.env.closestScrollable):fy}),[]),h=hy((()=>{const e=d();u(e.x,e.y)}),[d,u]),f=dy((()=>Qv(h)),[h]),p=hy((()=>{const e=n.current,t=NS(e);e&&t||ry();e.scrollOptions.shouldPublishImmediately?h():f()}),[f,h]),m=hy(((e,t)=>{n.current&&ry();const i=s.current,o=i.getDroppableRef();o||ry();const a=(e=>({closestScrollable:_S(e),isFixedOnPage:kS(e)}))(o),c={ref:o,descriptor:l,env:a,scrollOptions:t};n.current=c;const u=TS({ref:o,descriptor:l,env:a,windowScroll:e,direction:i.direction,isDropDisabled:i.isDropDisabled,isCombineEnabled:i.isCombineEnabled,shouldClipSubject:!i.ignoreContainerClipping}),d=a.closestScrollable;return d&&(d.setAttribute(nE.contextId,r.contextId),d.addEventListener("scroll",p,DS(c.scrollOptions))),u}),[r.contextId,l,p,s]),g=hy((()=>{const e=n.current,t=NS(e);return e&&t||ry(),xS(t)}),[]),v=hy((()=>{const e=n.current;e||ry();const t=NS(e);n.current=null,t&&(f.cancel(),t.removeAttribute(nE.contextId),t.removeEventListener("scroll",p,DS(e.scrollOptions)))}),[p,f]),y=hy((e=>{const t=n.current;t||ry();const r=NS(t);r||ry(),r.scrollTop+=e.y,r.scrollLeft+=e.x}),[]),b=dy((()=>({getDimensionAndWatchScroll:m,getScrollWhileDragging:g,dragStopped:v,scroll:y})),[v,m,g,y]),w=dy((()=>({uniqueId:i,descriptor:l,callbacks:b})),[b,l,i]);iE((()=>(c.current=w.descriptor,o.droppable.register(w),()=>{n.current&&v(),o.droppable.unregister(w)})),[b,l,v,w,a,o.droppable]),iE((()=>{n.current&&a.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)}),[e.isDropDisabled,a]),iE((()=>{n.current&&a.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)}),[e.isCombineEnabled,a])}function AS(){}const RS={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},PS=e=>{let{isAnimatingOpenOnMount:t,placeholder:n,animate:r}=e;const i=(e=>{let{isAnimatingOpenOnMount:t,placeholder:n,animate:r}=e;return t||"close"===r?RS:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}})({isAnimatingOpenOnMount:t,placeholder:n,animate:r});return{display:n.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==r?aw.placeholder:null}};var MS=t.memo((e=>{const n=(0,t.useRef)(null),r=hy((()=>{n.current&&(clearTimeout(n.current),n.current=null)}),[]),{animate:i,onTransitionEnd:o,onClose:a,contextId:s}=e,[l,c]=(0,t.useState)("open"===e.animate);(0,t.useEffect)((()=>l?"open"!==i?(r(),c(!1),AS):n.current?AS:(n.current=setTimeout((()=>{n.current=null,c(!1)})),r):AS),[i,l,r]);const u=hy((e=>{"height"===e.propertyName&&(o(),"close"===i&&a())}),[i,a,o]),d=PS({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return t.createElement(e.placeholder.tagName,{style:d,"data-rfd-placeholder-context-id":s,onTransitionEnd:u,ref:e.innerRef})}));class LS extends t.PureComponent{constructor(){super(...arguments),this.state={isVisible:Boolean(this.props.on),data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{"close"===this.state.animate&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)}}const FS={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||ry(),document.body}},jS=e=>{let t,n={...e};for(t in FS)void 0===e[t]&&(n={...n,[t]:FS[t]});return n},US=(e,t)=>e===t.droppable.type,BS=(e,t)=>t.draggables[e.draggable.id],VS={updateViewportMaxScroll:e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e})},zS=Fv((()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=Iy((e=>({draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}}))),r=Iy(((r,i,o,a,s,l)=>{const c=s.descriptor.id;if(s.descriptor.droppableId===r){const e=l?{render:l,dragging:n(s.descriptor)}:null,t={isDraggingOver:o,draggingOverWith:o?c:null,draggingFromThisWith:c,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!1,snapshot:t,useClone:e}}if(!i)return t;if(!a)return e;const u={isDraggingOver:o,draggingOverWith:c,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!0,snapshot:u,useClone:null}}));return(n,i)=>{const o=jS(i),a=o.droppableId,s=o.type,l=!o.isDropDisabled,c=o.renderClone;if(_E(n)){const e=n.critical;if(!US(s,e))return t;const i=BS(e,n.dimensions),o=yb(n.impact)===a;return r(a,l,o,o,i,c)}if("DROP_ANIMATING"===n.phase){const e=n.completed;if(!US(s,e.critical))return t;const i=BS(e.critical,n.dimensions);return r(a,l,hS(e.result)===a,yb(e.impact)===a,i,c)}if("IDLE"===n.phase&&n.completed&&!n.shouldFlush){const r=n.completed;if(!US(s,r.critical))return t;const i=yb(r.impact)===a,o=Boolean(r.impact.at&&"COMBINE"===r.impact.at.type),l=r.critical.droppable.id===a;return i?o?e:t:l?e:t}return t}}),VS,((e,t,n)=>({...jS(n),...e,...t})),{context:fE,areStatePropsEqual:dS})((e=>{const n=(0,t.useContext)(yE);n||ry();const{contextId:r,isMovementAllowed:i}=n,o=(0,t.useRef)(null),a=(0,t.useRef)(null),{children:s,droppableId:l,type:c,mode:u,direction:d,ignoreContainerClipping:h,isDropDisabled:f,isCombineEnabled:p,snapshot:m,useClone:g,updateViewportMaxScroll:v,getContainerForClone:y}=e,b=hy((()=>o.current),[]),w=hy((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;o.current=e}),[]),E=(hy((()=>a.current),[]),hy((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;a.current=e}),[]));wE();const S=hy((()=>{i()&&v({maxScroll:Nw()})}),[i,v]);OS({droppableId:l,type:c,mode:u,direction:d,isDropDisabled:f,isCombineEnabled:p,ignoreContainerClipping:h,getDroppableRef:b});const _=dy((()=>t.createElement(LS,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},(e=>{let{onClose:n,data:i,animate:o}=e;return t.createElement(MS,{placeholder:i,onClose:n,innerRef:E,animate:o,contextId:r,onTransitionEnd:S})}))),[r,S,e.placeholder,e.shouldAnimatePlaceholder,E]),x=dy((()=>({innerRef:w,placeholder:_,droppableProps:{"data-rfd-droppable-id":l,"data-rfd-droppable-context-id":r}})),[r,l,_,w]),k=g?g.dragging.draggableId:null,T=dy((()=>({droppableId:l,type:c,isUsingCloneFor:k})),[l,k,c]);return t.createElement(lS.Provider,{value:T},s(x,m),function(){if(!g)return null;const{dragging:e,render:n}=g,r=t.createElement(gS,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},((t,r)=>n(t,r,e)));return Ag.createPortal(r,y())}())})),$S=e=>{let{todos:t,user:n}=e;return(0,Ig.jsx)("div",{children:t.map(((e,t)=>(0,Ig.jsx)(vS,{draggableId:e.id,index:t,children:(t,r)=>(0,Ig.jsxs)("div",{ref:t.innerRef,...t.draggableProps,...t.dragHandleProps,className:"task-item "+(r.isDragging?"task-dragging":""),style:{...t.draggableProps.style,opacity:r.isDragging?.5:1},children:[(0,Ig.jsx)("span",{children:e.title}),(0,Ig.jsx)("button",{onClick:t=>{t.stopPropagation(),(async e=>{try{console.log("Deleting task:",e);const t=hm(Tg,"users",n.uid,"todos",e,"subtasks"),r=await mg(t);if(!r.empty){const t=r.docs.map((t=>vg(fm(Tg,"users",n.uid,"todos",e,"subtasks",t.id))));await Promise.all(t)}const i=fm(Tg,"users",n.uid,"todos",e);await vg(i),alert("Task deleted successfully!")}catch(t){alert("Failed to delete task")}})(e.id)},className:"delete-task-button",children:"x"})]})},e.id)))})};function HS(e){return HS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},HS(e)}function WS(e){var t=function(e,t){if("object"!=HS(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=HS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==HS(t)?t:t+""}function qS(e,t,n){return(t=WS(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function KS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?GS(Object(n),!0).forEach((function(t){qS(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function YS(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}function QS(e,t){if(null==e)return{};var n,r,i=YS(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function XS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,WS(r.key),r)}}function ZS(e,t,n){return t&&JS(e.prototype,t),n&&JS(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function e_(e){return e_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e_(e)}function t_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(t_=function(){return!!e})()}function n_(e,t){if(t&&("object"==HS(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function r_(e,t,n){return t=e_(t),n_(e,t_()?Reflect.construct(t,n||[],e_(e).constructor):t.apply(e,n))}function i_(e,t){return i_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},i_(e,t)}function o_(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i_(e,t)}function a_(e){if(Array.isArray(e))return e}function s_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function l_(e,t){if(e){if("string"==typeof e)return s_(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s_(e,t):void 0}}function c_(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u_(e,t){return a_(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||l_(e,t)||c_()}function d_(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=d_(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}const h_=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=d_(e))&&(r&&(r+=" "),r+=t);return r};var f_=n(2740),p_=n.n(f_),m_=function(){};function g_(e,t){return void 0!==e[t]}function v_(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function y_(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function b_(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function w_(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}y_.__suppressDeprecationWarning=!0,b_.__suppressDeprecationWarning=!0,w_.__suppressDeprecationWarning=!0;var E_=n(5173),S_=n.n(E_),__="milliseconds",x_="seconds",k_="minutes",T_="hours",I_="day",C_="week",D_="month",N_="year",O_="decade",A_="century",R_={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,day:864e5,week:6048e5},P_={month:1,year:12,decade:120,century:1200};function M_(e){return e%4===0&&e%100!==0||e%400===0?29:28}function L_(e,t,n){switch(e=new Date(e),n){case __:case x_:case k_:case T_:case I_:case C_:return function(e,t){var n=new Date(+e+t);return function(e,t){var n=e.getTimezoneOffset(),r=t.getTimezoneOffset();return new Date(+t+(r-n)*R_.minutes)}(e,n)}(e,t*R_[n]);case D_:case N_:case O_:case A_:return function(e,t){var n=e.getFullYear(),r=e.getMonth(),i=e.getDate(),o=12*n+r+t,a=Math.trunc(o/12),s=o%12,l=Math.min(i,function(e){return[31,M_(e),31,30,31,30,31,31,30,31,30,31]}(a)[s]),c=new Date(e);return c.setFullYear(a),c.setDate(1),c.setMonth(s),c.setDate(l),c}(e,t*P_[n])}throw new TypeError('Invalid units: "'+n+'"')}function F_(e,t,n){return L_(e,-t,n)}function j_(e,t,n){switch(e=new Date(e),t){case A_:case O_:case N_:e=tx(e,0);case D_:e=ex(e,1);case C_:case I_:e=J_(e,0);case T_:e=X_(e,0);case k_:e=Q_(e,0);case x_:e=Y_(e,0)}return t===O_&&(e=F_(e,nx(e)%10,"year")),t===A_&&(e=F_(e,nx(e)%100,"year")),t===C_&&(e=ox(e,0,n)),e}function U_(e,t,n){switch(e=j_(e=new Date(e),t,n),t){case A_:case O_:case N_:case D_:case C_:(e=F_(e=L_(e,1,t),1,I_)).setHours(23,59,59,999);break;case I_:e.setHours(23,59,59,999);break;case T_:case k_:case x_:e=F_(e=L_(e,1,t),1,__)}return e}var B_=lx((function(e,t){return e===t})),V_=lx((function(e,t){return e!==t})),z_=lx((function(e,t){return e>t})),$_=lx((function(e,t){return e>=t})),H_=lx((function(e,t){return e<t})),W_=lx((function(e,t){return e<=t}));function q_(){return new Date(Math.min.apply(Math,arguments))}function G_(){return new Date(Math.max.apply(Math,arguments))}function K_(e,t,n,r){return r=r||"day",(!t||$_(e,t,r))&&(!n||W_(e,n,r))}var Y_=sx("Milliseconds"),Q_=sx("Seconds"),X_=sx("Minutes"),J_=sx("Hours"),Z_=sx("Day"),ex=sx("Date"),tx=sx("Month"),nx=sx("FullYear");function rx(e,t){return void 0===t?nx(j_(e,O_)):L_(e,t+10,N_)}function ix(e,t){return void 0===t?nx(j_(e,A_)):L_(e,t+100,N_)}function ox(e,t,n){var r=(Z_(e)+7-(n||0))%7;return void 0===t?r:L_(e,t-r,I_)}function ax(e,t,n,r){var i,o,a;switch(n){case __:case x_:case k_:case T_:case I_:case C_:i=t.getTime()-e.getTime();break;case D_:case N_:case O_:case A_:i=12*(nx(t)-nx(e))+tx(t)-tx(e);break;default:throw new TypeError('Invalid units: "'+n+'"')}switch(n){case __:o=1;break;case x_:o=1e3;break;case k_:o=6e4;break;case T_:o=36e5;break;case I_:o=864e5;break;case C_:o=6048e5;break;case D_:o=1;break;case N_:o=12;break;case O_:o=120;break;case A_:o=1200;break;default:throw new TypeError('Invalid units: "'+n+'"')}return a=i/o,r?a:Math.round(a)}function sx(e){var t=function(e){switch(e){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(e);return function(n,r){if(void 0===r)return n["get"+e]();var i=new Date(n);return i["set"+e](r),t&&i["get"+e]()!=r&&("Hours"===e||r>=t&&i.getHours()-n.getHours()<Math.floor(r/t))&&i["set"+e](r+t),i}}function lx(e){return function(t,n,r){return e(+j_(t,r),+j_(n,r))}}function cx(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function ux(e){return function(e){if(Array.isArray(e))return s_(e)}(e)||cx(e)||l_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var dx=n(7084),hx=n.n(dx);function fx(e){return e&&e.ownerDocument||document}function px(e,t){return function(e){var t=fx(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var mx=/([A-Z])/g;var gx=/^ms-/;function vx(e){return function(e){return e.replace(mx,"-$1").toLowerCase()}(e).replace(gx,"-ms-")}var yx=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;const bx=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(vx(t))||px(e).getPropertyValue(vx(t));Object.keys(t).forEach((function(i){var o=t[i];o||0===o?!function(e){return!(!e||!yx.test(e))}(i)?n+=vx(i)+": "+o+";":r+=i+"("+o+") ":e.style.removeProperty(vx(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n};function wx(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function Ex(e){return"window"in e&&e.window===e?e:"nodeType"in(t=e)&&t.nodeType===document.DOCUMENT_NODE&&e.defaultView||!1;var t}function Sx(e){var t="pageXOffset"===e?"scrollLeft":"scrollTop";return function(n,r){var i=Ex(n);if(void 0===r)return i?i[e]:n[t];i?i.scrollTo(i[e],r):n[t]=r}}const _x=Sx("pageXOffset"),xx=Sx("pageYOffset");function kx(e){var t=fx(e),n={top:0,left:0,height:0,width:0},r=t&&t.documentElement;return r&&wx(r,e)?(void 0!==e.getBoundingClientRect&&(n=e.getBoundingClientRect()),n={top:n.top+xx(r)-(r.clientTop||0),left:n.left+_x(r)-(r.clientLeft||0),width:n.width,height:n.height}):n}function Tx(e,t){var n,r={top:0,left:0};if("fixed"===bx(e,"position"))n=e.getBoundingClientRect();else{var i=t||function(e){for(var t,n=fx(e),r=e&&e.offsetParent;(t=r)&&"offsetParent"in t&&"HTML"!==r.nodeName&&"static"===bx(r,"position");)r=r.offsetParent;return r||n.documentElement}(e);n=kx(e),"html"!==function(e){return e.nodeName&&e.nodeName.toLowerCase()}(i)&&(r=kx(i));var o=String(bx(i,"borderTopWidth")||0);r.top+=parseInt(o,10)-xx(i)||0;var a=String(bx(i,"borderLeftWidth")||0);r.left+=parseInt(a,10)-_x(i)||0}var s=String(bx(e,"marginTop")||0),l=String(bx(e,"marginLeft")||0);return Xv({},n,{top:n.top-r.top-(parseInt(s,10)||0),left:n.left-r.left-(parseInt(l,10)||0)})}const Ix=!("undefined"===typeof window||!window.document||!window.document.createElement);var Cx=(new Date).getTime();var Dx="clearTimeout",Nx=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-Cx)),r=setTimeout(e,n);return Cx=t,r},Ox=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};Ix&&["","webkit","moz","o","ms"].some((function(e){var t=Ox(e,"request");return t in window&&(Dx=Ox(e,"cancel"),Nx=function(e){return window[t](e)}),!!Nx}));var Ax=function(e){"function"===typeof window[Dx]&&window[Dx](e)},Rx=Nx;function Px(){return(0,t.useState)(null)}const Mx=e=>e&&"function"!==typeof e?t=>{e.current=t}:e;const Lx=function(e,n){return(0,t.useMemo)((()=>function(e,t){const n=Mx(e),r=Mx(t);return e=>{n&&n(e),r&&r(e)}}(e,n)),[e,n])};var Fx="top",jx="bottom",Ux="right",Bx="left",Vx="auto",zx=[Fx,jx,Ux,Bx],$x="start",Hx="end",Wx="viewport",qx="popper",Gx=zx.reduce((function(e,t){return e.concat([t+"-"+$x,t+"-"+Hx])}),[]),Kx=[].concat(zx,[Vx]).reduce((function(e,t){return e.concat([t,t+"-"+$x,t+"-"+Hx])}),[]),Yx=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];const Qx=function(e){const n=function(){const e=(0,t.useRef)(!0),n=(0,t.useRef)((()=>e.current));return(0,t.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]),n.current}();return[e[0],(0,t.useCallback)((t=>{if(n())return e[1](t)}),[n,e[1]])]};function Xx(e){return e.split("-")[0]}function Jx(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Zx(e){return e instanceof Jx(e).Element||e instanceof Element}function ek(e){return e instanceof Jx(e).HTMLElement||e instanceof HTMLElement}function tk(e){return"undefined"!==typeof ShadowRoot&&(e instanceof Jx(e).ShadowRoot||e instanceof ShadowRoot)}var nk=Math.max,rk=Math.min,ik=Math.round;function ok(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function ak(){return!/^((?!chrome|android).)*safari/i.test(ok())}function sk(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),i=1,o=1;t&&ek(e)&&(i=e.offsetWidth>0&&ik(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&ik(r.height)/e.offsetHeight||1);var a=(Zx(e)?Jx(e):window).visualViewport,s=!ak()&&n,l=(r.left+(s&&a?a.offsetLeft:0))/i,c=(r.top+(s&&a?a.offsetTop:0))/o,u=r.width/i,d=r.height/o;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l,x:l,y:c}}function lk(e){var t=sk(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function ck(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&tk(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function uk(e){return e?(e.nodeName||"").toLowerCase():null}function dk(e){return Jx(e).getComputedStyle(e)}function hk(e){return["table","td","th"].indexOf(uk(e))>=0}function fk(e){return((Zx(e)?e.ownerDocument:e.document)||window.document).documentElement}function pk(e){return"html"===uk(e)?e:e.assignedSlot||e.parentNode||(tk(e)?e.host:null)||fk(e)}function mk(e){return ek(e)&&"fixed"!==dk(e).position?e.offsetParent:null}function gk(e){for(var t=Jx(e),n=mk(e);n&&hk(n)&&"static"===dk(n).position;)n=mk(n);return n&&("html"===uk(n)||"body"===uk(n)&&"static"===dk(n).position)?t:n||function(e){var t=/firefox/i.test(ok());if(/Trident/i.test(ok())&&ek(e)&&"fixed"===dk(e).position)return null;var n=pk(e);for(tk(n)&&(n=n.host);ek(n)&&["html","body"].indexOf(uk(n))<0;){var r=dk(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function vk(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function yk(e,t,n){return nk(e,rk(t,n))}function bk(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function wk(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}const Ek={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,s=Xx(n.placement),l=vk(s),c=[Bx,Ux].indexOf(s)>=0?"height":"width";if(o&&a){var u=function(e,t){return bk("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:wk(e,zx))}(i.padding,n),d=lk(o),h="y"===l?Fx:Bx,f="y"===l?jx:Ux,p=n.rects.reference[c]+n.rects.reference[l]-a[l]-n.rects.popper[c],m=a[l]-n.rects.reference[l],g=gk(o),v=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,y=p/2-m/2,b=u[h],w=v-d[c]-u[f],E=v/2-d[c]/2+y,S=yk(b,E,w),_=l;n.modifiersData[r]=((t={})[_]=S,t.centerOffset=S-E,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&ck(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Sk(e){return e.split("-")[1]}var _k={top:"auto",right:"auto",bottom:"auto",left:"auto"};function xk(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,a=e.offsets,s=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,d=e.isFixed,h=a.x,f=void 0===h?0:h,p=a.y,m=void 0===p?0:p,g="function"===typeof u?u({x:f,y:m}):{x:f,y:m};f=g.x,m=g.y;var v=a.hasOwnProperty("x"),y=a.hasOwnProperty("y"),b=Bx,w=Fx,E=window;if(c){var S=gk(n),_="clientHeight",x="clientWidth";if(S===Jx(n)&&"static"!==dk(S=fk(n)).position&&"absolute"===s&&(_="scrollHeight",x="scrollWidth"),i===Fx||(i===Bx||i===Ux)&&o===Hx)w=jx,m-=(d&&S===E&&E.visualViewport?E.visualViewport.height:S[_])-r.height,m*=l?1:-1;if(i===Bx||(i===Fx||i===jx)&&o===Hx)b=Ux,f-=(d&&S===E&&E.visualViewport?E.visualViewport.width:S[x])-r.width,f*=l?1:-1}var k,T=Object.assign({position:s},c&&_k),I=!0===u?function(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:ik(n*i)/i||0,y:ik(r*i)/i||0}}({x:f,y:m},Jx(n)):{x:f,y:m};return f=I.x,m=I.y,l?Object.assign({},T,((k={})[w]=y?"0":"",k[b]=v?"0":"",k.transform=(E.devicePixelRatio||1)<=1?"translate("+f+"px, "+m+"px)":"translate3d("+f+"px, "+m+"px, 0)",k)):Object.assign({},T,((t={})[w]=y?m+"px":"",t[b]=v?f+"px":"",t.transform="",t))}const kk={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,a=void 0===o||o,s=n.roundOffsets,l=void 0===s||s,c={placement:Xx(t.placement),variation:Sk(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,xk(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,xk(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var Tk={passive:!0};const Ik={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=void 0===i||i,a=r.resize,s=void 0===a||a,l=Jx(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach((function(e){e.addEventListener("scroll",n.update,Tk)})),s&&l.addEventListener("resize",n.update,Tk),function(){o&&c.forEach((function(e){e.removeEventListener("scroll",n.update,Tk)})),s&&l.removeEventListener("resize",n.update,Tk)}},data:{}};var Ck={left:"right",right:"left",bottom:"top",top:"bottom"};function Dk(e){return e.replace(/left|right|bottom|top/g,(function(e){return Ck[e]}))}var Nk={start:"end",end:"start"};function Ok(e){return e.replace(/start|end/g,(function(e){return Nk[e]}))}function Ak(e){var t=Jx(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Rk(e){return sk(fk(e)).left+Ak(e).scrollLeft}function Pk(e){var t=dk(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Mk(e){return["html","body","#document"].indexOf(uk(e))>=0?e.ownerDocument.body:ek(e)&&Pk(e)?e:Mk(pk(e))}function Lk(e,t){var n;void 0===t&&(t=[]);var r=Mk(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),o=Jx(r),a=i?[o].concat(o.visualViewport||[],Pk(r)?r:[]):r,s=t.concat(a);return i?s:s.concat(Lk(pk(a)))}function Fk(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function jk(e,t,n){return t===Wx?Fk(function(e,t){var n=Jx(e),r=fk(e),i=n.visualViewport,o=r.clientWidth,a=r.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;var c=ak();(c||!c&&"fixed"===t)&&(s=i.offsetLeft,l=i.offsetTop)}return{width:o,height:a,x:s+Rk(e),y:l}}(e,n)):Zx(t)?function(e,t){var n=sk(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):Fk(function(e){var t,n=fk(e),r=Ak(e),i=null==(t=e.ownerDocument)?void 0:t.body,o=nk(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=nk(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+Rk(e),l=-r.scrollTop;return"rtl"===dk(i||n).direction&&(s+=nk(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:l}}(fk(e)))}function Uk(e,t,n,r){var i="clippingParents"===t?function(e){var t=Lk(pk(e)),n=["absolute","fixed"].indexOf(dk(e).position)>=0&&ek(e)?gk(e):e;return Zx(n)?t.filter((function(e){return Zx(e)&&ck(e,n)&&"body"!==uk(e)})):[]}(e):[].concat(t),o=[].concat(i,[n]),a=o[0],s=o.reduce((function(t,n){var i=jk(e,n,r);return t.top=nk(i.top,t.top),t.right=rk(i.right,t.right),t.bottom=rk(i.bottom,t.bottom),t.left=nk(i.left,t.left),t}),jk(e,a,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function Bk(e){var t,n=e.reference,r=e.element,i=e.placement,o=i?Xx(i):null,a=i?Sk(i):null,s=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(o){case Fx:t={x:s,y:n.y-r.height};break;case jx:t={x:s,y:n.y+n.height};break;case Ux:t={x:n.x+n.width,y:l};break;case Bx:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var c=o?vk(o):null;if(null!=c){var u="y"===c?"height":"width";switch(a){case $x:t[c]=t[c]-(n[u]/2-r[u]/2);break;case Hx:t[c]=t[c]+(n[u]/2-r[u]/2)}}return t}function Vk(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,o=n.strategy,a=void 0===o?e.strategy:o,s=n.boundary,l=void 0===s?"clippingParents":s,c=n.rootBoundary,u=void 0===c?Wx:c,d=n.elementContext,h=void 0===d?qx:d,f=n.altBoundary,p=void 0!==f&&f,m=n.padding,g=void 0===m?0:m,v=bk("number"!==typeof g?g:wk(g,zx)),y=h===qx?"reference":qx,b=e.rects.popper,w=e.elements[p?y:h],E=Uk(Zx(w)?w:w.contextElement||fk(e.elements.popper),l,u,a),S=sk(e.elements.reference),_=Bk({reference:S,element:b,strategy:"absolute",placement:i}),x=Fk(Object.assign({},b,_)),k=h===qx?x:S,T={top:E.top-k.top+v.top,bottom:k.bottom-E.bottom+v.bottom,left:E.left-k.left+v.left,right:k.right-E.right+v.right},I=e.modifiersData.offset;if(h===qx&&I){var C=I[i];Object.keys(T).forEach((function(e){var t=[Ux,jx].indexOf(e)>=0?1:-1,n=[Fx,jx].indexOf(e)>=0?"y":"x";T[e]+=C[n]*t}))}return T}const zk={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0===a||a,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,f=n.flipVariations,p=void 0===f||f,m=n.allowedAutoPlacements,g=t.options.placement,v=Xx(g),y=l||(v===g||!p?[Dk(g)]:function(e){if(Xx(e)===Vx)return[];var t=Dk(e);return[Ok(e),t,Ok(t)]}(g)),b=[g].concat(y).reduce((function(e,n){return e.concat(Xx(n)===Vx?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?Kx:l,u=Sk(r),d=u?s?Gx:Gx.filter((function(e){return Sk(e)===u})):zx,h=d.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=d);var f=h.reduce((function(t,n){return t[n]=Vk(e,{placement:n,boundary:i,rootBoundary:o,padding:a})[Xx(n)],t}),{});return Object.keys(f).sort((function(e,t){return f[e]-f[t]}))}(t,{placement:n,boundary:u,rootBoundary:d,padding:c,flipVariations:p,allowedAutoPlacements:m}):n)}),[]),w=t.rects.reference,E=t.rects.popper,S=new Map,_=!0,x=b[0],k=0;k<b.length;k++){var T=b[k],I=Xx(T),C=Sk(T)===$x,D=[Fx,jx].indexOf(I)>=0,N=D?"width":"height",O=Vk(t,{placement:T,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),A=D?C?Ux:Bx:C?jx:Fx;w[N]>E[N]&&(A=Dk(A));var R=Dk(A),P=[];if(o&&P.push(O[I]<=0),s&&P.push(O[A]<=0,O[R]<=0),P.every((function(e){return e}))){x=T,_=!1;break}S.set(T,P)}if(_)for(var M=function(e){var t=b.find((function(t){var n=S.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return x=t,"break"},L=p?3:1;L>0;L--){if("break"===M(L))break}t.placement!==x&&(t.modifiersData[r]._skip=!0,t.placement=x,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function $k(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Hk(e){return[Fx,Ux,jx,Bx].some((function(t){return e[t]>=0}))}const Wk={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=void 0===i?[0,0]:i,a=Kx.reduce((function(e,n){return e[n]=function(e,t,n){var r=Xx(e),i=[Bx,Fx].indexOf(r)>=0?-1:1,o="function"===typeof n?n(Object.assign({},t,{placement:e})):n,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[Bx,Ux].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}(n,t.rects,o),e}),{}),s=a[t.placement],l=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=a}};const qk={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0!==a&&a,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,f=void 0===h||h,p=n.tetherOffset,m=void 0===p?0:p,g=Vk(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),v=Xx(t.placement),y=Sk(t.placement),b=!y,w=vk(v),E="x"===w?"y":"x",S=t.modifiersData.popperOffsets,_=t.rects.reference,x=t.rects.popper,k="function"===typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,T="number"===typeof k?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),I=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,C={x:0,y:0};if(S){if(o){var D,N="y"===w?Fx:Bx,O="y"===w?jx:Ux,A="y"===w?"height":"width",R=S[w],P=R+g[N],M=R-g[O],L=f?-x[A]/2:0,F=y===$x?_[A]:x[A],j=y===$x?-x[A]:-_[A],U=t.elements.arrow,B=f&&U?lk(U):{width:0,height:0},V=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},z=V[N],$=V[O],H=yk(0,_[A],B[A]),W=b?_[A]/2-L-H-z-T.mainAxis:F-H-z-T.mainAxis,q=b?-_[A]/2+L+H+$+T.mainAxis:j+H+$+T.mainAxis,G=t.elements.arrow&&gk(t.elements.arrow),K=G?"y"===w?G.clientTop||0:G.clientLeft||0:0,Y=null!=(D=null==I?void 0:I[w])?D:0,Q=R+q-Y,X=yk(f?rk(P,R+W-Y-K):P,R,f?nk(M,Q):M);S[w]=X,C[w]=X-R}if(s){var J,Z="x"===w?Fx:Bx,ee="x"===w?jx:Ux,te=S[E],ne="y"===E?"height":"width",re=te+g[Z],ie=te-g[ee],oe=-1!==[Fx,Bx].indexOf(v),ae=null!=(J=null==I?void 0:I[E])?J:0,se=oe?re:te-_[ne]-x[ne]-ae+T.altAxis,le=oe?te+_[ne]+x[ne]-ae-T.altAxis:ie,ce=f&&oe?function(e,t,n){var r=yk(e,t,n);return r>n?n:r}(se,te,le):yk(f?se:re,te,f?le:ie);S[E]=ce,C[E]=ce-te}t.modifiersData[r]=C}},requiresIfExists:["offset"]};function Gk(e,t,n){void 0===n&&(n=!1);var r=ek(t),i=ek(t)&&function(e){var t=e.getBoundingClientRect(),n=ik(t.width)/e.offsetWidth||1,r=ik(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),o=fk(t),a=sk(e,i,n),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&(("body"!==uk(t)||Pk(o))&&(s=function(e){return e!==Jx(e)&&ek(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:Ak(e);var t}(t)),ek(t)?((l=sk(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=Rk(o))),{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}function Kk(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function Yk(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var Qk={placement:"bottom",modifiers:[],strategy:"absolute"};function Xk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function Jk(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,o=void 0===i?Qk:i;return function(e,t,n){void 0===n&&(n=o);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},Qk,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},a=[],s=!1,l={state:i,setOptions:function(n){var s="function"===typeof n?n(i.options):n;c(),i.options=Object.assign({},o,i.options,s),i.scrollParents={reference:Zx(e)?Lk(e):e.contextElement?Lk(e.contextElement):[],popper:Lk(t)};var u=function(e){var t=Kk(e);return Yx.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,i.options.modifiers)));return i.orderedModifiers=u.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,o=e.effect;if("function"===typeof o){var s=o({state:i,name:t,instance:l,options:r}),c=function(){};a.push(s||c)}})),l.update()},forceUpdate:function(){if(!s){var e=i.elements,t=e.reference,n=e.popper;if(Xk(t,n)){i.rects={reference:Gk(t,gk(n),"fixed"===i.options.strategy),popper:lk(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var o=i.orderedModifiers[r],a=o.fn,c=o.options,u=void 0===c?{}:c,d=o.name;"function"===typeof a&&(i=a({state:i,options:u,name:d,instance:l})||i)}else i.reset=!1,r=-1}}},update:Yk((function(){return new Promise((function(e){l.forceUpdate(),e(i)}))})),destroy:function(){c(),s=!0}};if(!Xk(e,t))return l;function c(){a.forEach((function(e){return e()})),a=[]}return l.setOptions(n).then((function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)})),l}}var Zk=Jk({defaultModifiers:[{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,a=Vk(t,{elementContext:"reference"}),s=Vk(t,{altBoundary:!0}),l=$k(a,r),c=$k(s,i,o),u=Hk(l),d=Hk(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=Bk({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},kk,Ik,Wk,zk,qk,Ek]}),eT=function(e){return{position:e,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},tT={name:"applyStyles",enabled:!1},nT={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var t=e.state;return function(){var e=t.elements,n=e.reference,r=e.popper;if("removeAttribute"in n){var i=(n.getAttribute("aria-describedby")||"").split(",").filter((function(e){return e.trim()!==r.id}));i.length?n.setAttribute("aria-describedby",i.join(",")):n.removeAttribute("aria-describedby")}}},fn:function(e){var t,n=e.state.elements,r=n.popper,i=n.reference,o=null==(t=r.getAttribute("role"))?void 0:t.toLowerCase();if(r.id&&"tooltip"===o&&"setAttribute"in i){var a=i.getAttribute("aria-describedby");if(a&&-1!==a.split(",").indexOf(r.id))return;i.setAttribute("aria-describedby",a?a+","+r.id:r.id)}}},rT=[];const iT=function(e,n,r){var i=void 0===r?{}:r,o=i.enabled,a=void 0===o||o,s=i.placement,l=void 0===s?"bottom":s,c=i.strategy,u=void 0===c?"absolute":c,d=i.modifiers,h=void 0===d?rT:d,f=YS(i,["enabled","placement","strategy","modifiers"]),p=(0,t.useRef)(),m=(0,t.useCallback)((function(){var e;null==(e=p.current)||e.update()}),[]),g=(0,t.useCallback)((function(){var e;null==(e=p.current)||e.forceUpdate()}),[]),v=Qx((0,t.useState)({placement:l,update:m,forceUpdate:g,attributes:{},styles:{popper:eT(u),arrow:{}}})),y=v[0],b=v[1],w=(0,t.useMemo)((function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(e){var t=e.state,n={},r={};Object.keys(t.elements).forEach((function(e){n[e]=t.styles[e],r[e]=t.attributes[e]})),b({state:t,styles:n,attributes:r,update:m,forceUpdate:g,placement:t.placement})}}}),[m,g,b]);return(0,t.useEffect)((function(){p.current&&a&&p.current.setOptions({placement:l,strategy:u,modifiers:[].concat(h,[w,tT])})}),[u,l,w,a]),(0,t.useEffect)((function(){if(a&&null!=e&&null!=n)return p.current=Zk(e,n,Xv({},f,{placement:l,strategy:u,modifiers:[].concat(h,[nT,w])})),function(){null!=p.current&&(p.current.destroy(),p.current=void 0,b((function(e){return Xv({},e,{attributes:{},styles:{popper:eT(u)}})})))}}),[a,e,n]),y};var oT=!1,aT=!1;try{var sT={get passive(){return oT=!0},get once(){return aT=oT=!0}};Ix&&(window.addEventListener("test",sT,sT),window.removeEventListener("test",sT,!0))}catch(bO){}const lT=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!aT){var i=r.once,o=r.capture,a=n;!aT&&i&&(a=n.__once||function e(r){this.removeEventListener(t,e,o),n.call(this,r)},n.__once=a),e.addEventListener(t,a,oT?r:o)}e.addEventListener(t,n,r)};const cT=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};const uT=function(e,t,n,r){return lT(e,t,n,r),function(){cT(e,t,n,r)}};const dT=function(e){const n=(0,t.useRef)(e);return(0,t.useEffect)((()=>{n.current=e}),[e]),n};function hT(e){const n=dT(e);return(0,t.useCallback)((function(){return n.current&&n.current(...arguments)}),[n])}var fT=n(6440),pT=n.n(fT);const mT=function(e){return fx(function(e){return e&&"setState"in e?Ag.findDOMNode(e):null!=e?e:null}(e))};var gT=function(){};var vT=function(e){return e&&("current"in e?e.current:e)};const yT=function(e,n,r){var i=void 0===r?{}:r,o=i.disabled,a=i.clickTrigger,s=void 0===a?"click":a,l=(0,t.useRef)(!1),c=n||gT,u=(0,t.useCallback)((function(t){var n,r,i=vT(e);pT()(!!i,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),l.current=!i||!!((r=t).metaKey||r.altKey||r.ctrlKey||r.shiftKey)||!function(e){return 0===e.button}(t)||!!wx(i,null!=(n=null==t.composedPath?void 0:t.composedPath()[0])?n:t.target)}),[e]),d=hT((function(e){l.current||c(e)})),h=hT((function(e){27===e.keyCode&&c(e)}));(0,t.useEffect)((function(){if(!o&&null!=e){var t=window.event,n=mT(vT(e)),r=uT(n,s,u,!0),i=uT(n,s,(function(e){e!==t?d(e):t=void 0})),a=uT(n,"keyup",(function(e){e!==t?h(e):t=void 0})),l=[];return"ontouchstart"in n.documentElement&&(l=[].slice.call(n.body.children).map((function(e){return uT(e,"mousemove",gT)}))),function(){r(),i(),a(),l.forEach((function(e){return e()}))}}}),[e,o,s,u,d,h])};var bT=function(e){var t;return"undefined"===typeof document?null:null==e?fx().body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),null!=(t=e)&&t.nodeType&&e||null)};function wT(e,n){var r=(0,t.useState)((function(){return bT(e)})),i=r[0],o=r[1];if(!i){var a=bT(e);a&&o(a)}return(0,t.useEffect)((function(){n&&i&&n(i)}),[n,i]),(0,t.useEffect)((function(){var t=bT(e);t!==i&&o(t)}),[e,i]),i}function ET(e){return void 0===e&&(e={}),Array.isArray(e)?e:Object.keys(e).map((function(t){return e[t].name=t,e[t]}))}function ST(e){var t,n,r,i,o=e.enabled,a=e.enableEvents,s=e.placement,l=e.flip,c=e.offset,u=e.fixed,d=e.containerPadding,h=e.arrowElement,f=e.popperConfig,p=void 0===f?{}:f,m=function(e){var t={};return Array.isArray(e)?(null==e||e.forEach((function(e){t[e.name]=e})),t):e||t}(p.modifiers);return Xv({},p,{placement:s,enabled:o,strategy:u?"fixed":p.strategy,modifiers:ET(Xv({},m,{eventListeners:{enabled:a},preventOverflow:Xv({},m.preventOverflow,{options:d?Xv({padding:d},null==(t=m.preventOverflow)?void 0:t.options):null==(n=m.preventOverflow)?void 0:n.options}),offset:{options:Xv({offset:c},null==(r=m.offset)?void 0:r.options)},arrow:Xv({},m.arrow,{enabled:!!h,options:Xv({},null==(i=m.arrow)?void 0:i.options,{element:h})}),flip:Xv({enabled:!!l},m.flip)}))})}var _T=t.forwardRef((function(e,n){var r=e.flip,i=e.offset,o=e.placement,a=e.containerPadding,s=void 0===a?5:a,l=e.popperConfig,c=void 0===l?{}:l,u=e.transition,d=Px(),h=d[0],f=d[1],p=Px(),m=p[0],g=p[1],v=Lx(f,n),y=wT(e.container),b=wT(e.target),w=(0,t.useState)(!e.show),E=w[0],S=w[1],_=iT(b,h,ST({placement:o,enableEvents:!!e.show,containerPadding:s||5,flip:r,offset:i,arrowElement:m,popperConfig:c})),x=_.styles,k=_.attributes,T=YS(_,["styles","attributes"]);e.show?E&&S(!1):e.transition||E||S(!0);var I=e.show||u&&!E;if(yT(h,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!I)return null;var C=e.children(Xv({},T,{show:!!e.show,props:Xv({},k.popper,{style:x.popper,ref:v}),arrowProps:Xv({},k.arrow,{style:x.arrow,ref:g})}));if(u){var D=e.onExit,N=e.onExiting,O=e.onEnter,A=e.onEntering,R=e.onEntered;C=t.createElement(u,{in:e.show,appear:!0,onExit:D,onExiting:N,onExited:function(){S(!0),e.onExited&&e.onExited.apply(e,arguments)},onEnter:O,onEntering:A,onEntered:R},C)}return y?Ag.createPortal(C,y):null}));_T.displayName="Overlay",_T.propTypes={show:S_().bool,placement:S_().oneOf(Kx),target:S_().any,container:S_().any,flip:S_().bool,children:S_().func.isRequired,containerPadding:S_().number,popperConfig:S_().object,rootClose:S_().bool,rootCloseEvent:S_().oneOf(["click","mousedown"]),rootCloseDisabled:S_().bool,onHide:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i;return e.rootClose?(i=S_().func).isRequired.apply(i,[e].concat(n)):S_().func.apply(S_(),[e].concat(n))},transition:S_().elementType,onEnter:S_().func,onEntering:S_().func,onEntered:S_().func,onExit:S_().func,onExiting:S_().func,onExited:S_().func};const xT=_T;var kT=n(9853),TT=n.n(kT);function IT(e,t){var n=Ex(e);return n?n.innerHeight:t?e.clientHeight:kx(e).height}var CT,DT=Function.prototype.bind.call(Function.prototype.call,[].slice);function NT(e,t){if(!CT){var n=document.body,r=n.matches||n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector;CT=function(e,t){return r.call(e,t)}}return CT(e,t)}function OT(e,t,n){e.closest&&!n&&e.closest(t);var r=e;do{if(NT(r,t))return r;r=r.parentElement}while(r&&r!==n&&r.nodeType===document.ELEMENT_NODE);return null}var AT=n(2520),RT=n.n(AT),PT=n(6604),MT=n.n(PT),LT=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function FT(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],i=t[n],!(r===i||LT(r)&&LT(i)))return!1;var r,i;return!0}function jT(e,t){void 0===t&&(t=FT);var n=null;function r(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var o=e.apply(this,r);return n={lastResult:o,lastArgs:r,lastThis:this},o}return r.clear=function(){n=null},r}function UT(e,t){var n=Ex(e);return n?n.innerWidth:t?e.clientWidth:kx(e).width}var BT,VT=n(7424),zT=n.n(VT);function $T(e){if((!BT&&0!==BT||e)&&Ix){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),BT=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return BT}function HT(e){return a_(e)||cx(e)||l_(e)||c_()}function WT(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var qT=n(1163),GT=n.n(qT),KT=n(1733),YT=n.n(KT),QT=n(1488),XT=n.n(QT),JT=n(2717),ZT=n.n(JT);n(1525),n(4462),n(8933),n(199),n(4443),n(7227),n(640);function eI(e){return e.children}var tI="PREV",nI="NEXT",rI="TODAY",iI="DATE",oI={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},aI=Object.keys(oI).map((function(e){return oI[e]}));S_().oneOfType([S_().string,S_().func]),S_().any,S_().func,S_().oneOfType([S_().arrayOf(S_().oneOf(aI)),S_().objectOf((function(e,t){if(-1!==aI.indexOf(t)&&"boolean"===typeof e[t])return null;for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return S_().elementType.apply(S_(),[e,t].concat(r))}))]),S_().oneOfType([S_().oneOf(["overlap","no-overlap"]),S_().func]);var sI={seconds:1e3,minutes:6e4,hours:36e5,day:864e5};function lI(e,t){var n=j_(e,"month");return j_(n,"week",t.startOfWeek())}function cI(e,t){var n=U_(e,"month");return U_(n,"week",t.startOfWeek())}function uI(e,t){for(var n=lI(e,t),r=cI(e,t),i=[];W_(n,r,"day");)i.push(n),n=L_(n,1,"day");return i}function dI(e,t){var n=j_(e,t);return B_(n,e)?n:L_(n,1,t)}function hI(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"day",r=e,i=[];W_(r,t,n);)i.push(r),r=L_(r,1,n);return i}function fI(e,t){return null==t&&null==e?null:(null==t&&(t=new Date),null==e&&(e=new Date),e=j_(e,"day"),e=J_(e,J_(t)),e=X_(e,X_(t)),e=Q_(e,Q_(t)),Y_(e,Y_(t)))}function pI(e){return 0===J_(e)&&0===X_(e)&&0===Q_(e)&&0===Y_(e)}function mI(e,t,n){return n&&"milliseconds"!==n?Math.round(Math.abs(+j_(e,n)/sI[n]-+j_(t,n)/sI[n])):Math.abs(+e-+t)}var gI=S_().oneOfType([S_().string,S_().func]);function vI(e,t,n,r,i){var o="function"===typeof r?r(n,i,e):t.call(e,n,r,i);return p_()(null==o||"string"===typeof o,"`localizer format(..)` must return a string, null, or undefined"),o}function yI(e,t,n){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,t+n,0,0)}function bI(e,t){return e.getTimezoneOffset()-t.getTimezoneOffset()}function wI(e,t){return mI(e,t,"minutes")+bI(e,t)}function EI(e){var t=j_(e,"day");return mI(t,e,"minutes")+bI(t,e)}function SI(e,t){return H_(e,t,"day")}function _I(e,t,n){return B_(e,t,"minutes")?$_(t,n,"minutes"):z_(t,n,"minutes")}function xI(t,n){return function(t,n,r,i){return"day"===r&&(r="date"),Math.abs(e[r](t,void 0,i)-e[r](n,void 0,i))}(t,n,"day")}function kI(e){var t=e.evtA,n=t.start,r=t.end,i=t.allDay,o=e.evtB,a=o.start,s=o.end,l=o.allDay,c=+j_(n,"day")-+j_(a,"day"),u=xI(n,r),d=xI(a,s);return c||d-u||!!l-!!i||+n-+a||+r-+s}function TI(e){var t=e.event,n=t.start,r=t.end,i=e.range,o=i.start,a=i.end,s=j_(n,"day"),l=W_(s,a,"day"),c=V_(s,r,"minutes")?z_(r,o,"minutes"):$_(r,o,"minutes");return l&&c}function II(e,t){return B_(e,t,"day")}function CI(e,t){return pI(e)&&pI(t)}var DI=ZS((function e(t){var n=this;XS(this,e),p_()("function"===typeof t.format,"date localizer `format(..)` must be a function"),p_()("function"===typeof t.firstOfWeek,"date localizer `firstOfWeek(..)` must be a function"),this.propType=t.propType||gI,this.formats=t.formats,this.format=function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return vI.apply(void 0,[n,t.format].concat(r))},this.startOfWeek=t.firstOfWeek,this.merge=t.merge||fI,this.inRange=t.inRange||K_,this.lt=t.lt||H_,this.lte=t.lte||W_,this.gt=t.gt||z_,this.gte=t.gte||$_,this.eq=t.eq||B_,this.neq=t.neq||V_,this.startOf=t.startOf||j_,this.endOf=t.endOf||U_,this.add=t.add||L_,this.range=t.range||hI,this.diff=t.diff||mI,this.ceil=t.ceil||dI,this.min=t.min||q_,this.max=t.max||G_,this.minutes=t.minutes||X_,this.daySpan=t.daySpan||xI,this.firstVisibleDay=t.firstVisibleDay||lI,this.lastVisibleDay=t.lastVisibleDay||cI,this.visibleDays=t.visibleDays||uI,this.getSlotDate=t.getSlotDate||yI,this.getTimezoneOffset=t.getTimezoneOffset||function(e){return e.getTimezoneOffset()},this.getDstOffset=t.getDstOffset||bI,this.getTotalMin=t.getTotalMin||wI,this.getMinutesFromMidnight=t.getMinutesFromMidnight||EI,this.continuesPrior=t.continuesPrior||SI,this.continuesAfter=t.continuesAfter||_I,this.sortEvents=t.sortEvents||kI,this.inEventRange=t.inEventRange||TI,this.isSameDate=t.isSameDate||II,this.startAndEndAreDateOnly=t.startAndEndAreDateOnly||CI,this.segmentOffset=t.browserTZOffset?t.browserTZOffset():0}));function NI(e,t,n,r){var i=KS(KS({},e.formats),n);return KS(KS({},e),{},{messages:r,startOfWeek:function(){return e.startOfWeek(t)},format:function(n,r){return e.format(n,i[r]||r,t)}})}var OI=function(e){function n(){var e;XS(this,n);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return(e=r_(this,n,[].concat(r))).navigate=function(t){e.props.onNavigate(t)},e.view=function(t){e.props.onView(t)},e}return o_(n,e),ZS(n,[{key:"render",value:function(){var e=this.props,n=e.localizer.messages,r=e.label;return t.createElement("div",{className:"rbc-toolbar"},t.createElement("span",{className:"rbc-btn-group"},t.createElement("button",{type:"button",onClick:this.navigate.bind(null,rI)},n.today),t.createElement("button",{type:"button",onClick:this.navigate.bind(null,tI)},n.previous),t.createElement("button",{type:"button",onClick:this.navigate.bind(null,nI)},n.next)),t.createElement("span",{className:"rbc-toolbar-label"},r),t.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(n)))}},{key:"viewNamesGroup",value:function(e){var n=this,r=this.props.views,i=this.props.view;if(r.length>1)return r.map((function(r){return t.createElement("button",{type:"button",key:r,className:h_({"rbc-active":i===r}),onClick:n.view.bind(null,r)},e[r])}))}}])}(t.Component);function AI(e,t){e&&e.apply(null,[].concat(t))}var RI={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(e){return"+".concat(e," more")}};var PI=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],MI=function(e){function n(){return XS(this,n),r_(this,n,arguments)}return o_(n,e),ZS(n,[{key:"render",value:function(){var e=this.props,n=e.style,r=e.className,i=e.event,o=e.selected,a=e.isAllDay,s=e.onSelect,l=e.onDoubleClick,c=e.onKeyPress,u=e.localizer,d=e.continuesPrior,h=e.continuesAfter,f=e.accessors,p=e.getters,m=e.children,g=e.components,v=g.event,y=g.eventWrapper,b=e.slotStart,w=e.slotEnd,E=QS(e,PI);delete E.resizable;var S=f.title(i),_=f.tooltip(i),x=f.end(i),k=f.start(i),T=f.allDay(i),I=a||T||u.diff(k,u.ceil(x,"day"),"day")>1,C=p.eventProp(i,k,x,o),D=t.createElement("div",{className:"rbc-event-content",title:_||void 0},v?t.createElement(v,{event:i,continuesPrior:d,continuesAfter:h,title:S,isAllDay:T,localizer:u,slotStart:b,slotEnd:w}):S);return t.createElement(y,Object.assign({},this.props,{type:"date"}),t.createElement("div",Object.assign({},E,{style:KS(KS({},C.style),n),className:h_("rbc-event",r,C.className,{"rbc-selected":o,"rbc-event-allday":I,"rbc-event-continues-prior":d,"rbc-event-continues-after":h}),onClick:function(e){return s&&s(i,e)},onDoubleClick:function(e){return l&&l(i,e)},onKeyDown:function(e){return c&&c(i,e)}}),"function"===typeof m?m(D):D))}}])}(t.Component);function LI(e,t){return!(!e||null==t)&&TT()(e,t)}function FI(e,t){return(e.right-e.left)/t}function jI(e,t,n,r){var i=FI(e,r);return n?r-1-Math.floor((t-e.left)/i):Math.floor((t-e.left)/i)}function UI(e){var n=e.containerRef,r=e.accessors,i=e.getters,o=e.selected,a=e.components,s=e.localizer,l=e.position,c=e.show,u=e.events,d=e.slotStart,h=e.slotEnd,f=e.onSelect,p=e.onDoubleClick,m=e.onKeyPress,g=e.handleDragStart,v=e.popperRef,y=e.target,b=e.offset;!function(e){var n=e.ref,r=e.callback;(0,t.useEffect)((function(){var e=function(e){n.current&&!n.current.contains(e.target)&&r()};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[n,r])}({ref:v,callback:c}),(0,t.useLayoutEffect)((function(){var e=function(e){var t=e.target,n=e.offset,r=e.container,i=e.box,o=kx(t),a=o.top,s=o.left,l=o.width,c=o.height,u=kx(r),d=u.top,h=u.left,f=u.width,p=u.height,m=kx(i),g=m.width,v=m.height,y=d+p,b=h+f,w=a+v,E=s+g,S=n.x,_=n.y;return{topOffset:w>y?a-v-_:a+_+c,leftOffset:E>b?s+S-g+l:s+S}}({target:y,offset:b,container:n.current,box:v.current}),t=e.topOffset,r=e.leftOffset;v.current.style.top="".concat(t,"px"),v.current.style.left="".concat(r,"px")}),[b.x,b.y,y]);var w=l.width,E={minWidth:w+w/2};return t.createElement("div",{style:E,className:"rbc-overlay",ref:v},t.createElement("div",{className:"rbc-overlay-header"},s.format(d,"dayHeaderFormat")),u.map((function(e,n){return t.createElement(MI,{key:n,type:"popup",localizer:s,event:e,getters:i,onSelect:f,accessors:r,components:a,onDoubleClick:p,onKeyPress:m,continuesPrior:s.lt(r.end(e),d,"day"),continuesAfter:s.gte(r.start(e),h,"day"),slotStart:d,slotEnd:h,selected:LI(e,o),draggable:!0,onDragStart:function(){return g(e)},onDragEnd:function(){return c()}})})))}var BI=t.forwardRef((function(e,n){return t.createElement(UI,Object.assign({},e,{popperRef:n}))}));function VI(e){var n=e.containerRef,r=e.popupOffset,i=void 0===r?5:r,o=e.overlay,a=e.accessors,s=e.localizer,l=e.components,c=e.getters,u=e.selected,d=e.handleSelectEvent,h=e.handleDoubleClickEvent,f=e.handleKeyPressEvent,p=e.handleDragStart,m=e.onHide,g=e.overlayDisplay,v=(0,t.useRef)(null);if(!o.position)return null;var y=i;isNaN(i)||(y={x:i,y:i});var b=o.position,w=o.events,E=o.date,S=o.end;return t.createElement(xT,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:m,target:o.target},(function(e){var r=e.props;return t.createElement(BI,Object.assign({},r,{containerRef:n,ref:v,target:o.target,offset:y,accessors:a,getters:c,selected:u,components:l,localizer:s,position:b,show:g,events:w,slotStart:E,slotEnd:S,onSelect:d,onDoubleClick:h,onKeyPress:f,handleDragStart:p}))}))}BI.propTypes={accessors:S_().object.isRequired,getters:S_().object.isRequired,selected:S_().object,components:S_().object.isRequired,localizer:S_().object.isRequired,position:S_().object.isRequired,show:S_().func.isRequired,events:S_().array.isRequired,slotStart:S_().instanceOf(Date).isRequired,slotEnd:S_().instanceOf(Date),onSelect:S_().func,onDoubleClick:S_().func,onKeyPress:S_().func,handleDragStart:S_().func,style:S_().object,offset:S_().shape({x:S_().number,y:S_().number})};var zI=t.forwardRef((function(e,n){return t.createElement(VI,Object.assign({},e,{containerRef:n}))}));function $I(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document;return uT(n,e,t,{passive:!1})}function HI(e,t){return!!function(e,t){var n=t.clientX,r=t.clientY;return OT(document.elementFromPoint(n,r),".rbc-event",e)}(e,t)}function WI(e,t){return!!function(e,t){var n=t.clientX,r=t.clientY;return OT(document.elementFromPoint(n,r),".rbc-show-more",e)}(e,t)}function qI(e){var t=e;return e.touches&&e.touches.length&&(t=e.touches[0]),{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}zI.propTypes={popupOffset:S_().oneOfType([S_().number,S_().shape({x:S_().number,y:S_().number})]),overlay:S_().shape({position:S_().object,events:S_().array,date:S_().instanceOf(Date),end:S_().instanceOf(Date)}),accessors:S_().object.isRequired,localizer:S_().object.isRequired,components:S_().object.isRequired,getters:S_().object.isRequired,selected:S_().object,handleSelectEvent:S_().func,handleDoubleClickEvent:S_().func,handleKeyPressEvent:S_().func,handleDragStart:S_().func,onHide:S_().func,overlayDisplay:S_().func};var GI=function(){return ZS((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.global,i=void 0!==r&&r,o=n.longPressThreshold,a=void 0===o?250:o,s=n.validContainers,l=void 0===s?[]:s;XS(this,e),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=t,this.globalMouse=!t||i,this.longPressThreshold=a,this.validContainers=l,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=$I("touchmove",(function(){}),window),this._removeKeyDownListener=$I("keydown",this._keyListener),this._removeKeyUpListener=$I("keyup",this._keyListener),this._removeDropFromOutsideListener=$I("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=$I("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}),[{key:"on",value:function(e,t){var n=this._listeners[e]||(this._listeners[e]=[]);return n.push(t),{remove:function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}}}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i;return(this._listeners[e]||[]).forEach((function(e){void 0===i&&(i=e.apply(void 0,n))})),i}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(e){var t=this._selectRect;return!(!t||!this.selecting)&&KI(t,YI(e))}},{key:"filter",value:function(e){return this._selectRect&&this.selecting?e.filter(this.isSelected,this):[]}},{key:"_addLongPressListener",value:function(e,t){var n=this,r=null,i=null,o=null,a=function(t){r=setTimeout((function(){l(),e(t)}),n.longPressThreshold),i=$I("touchmove",(function(){return l()})),o=$I("touchend",(function(){return l()}))},s=$I("touchstart",a),l=function(){r&&clearTimeout(r),i&&i(),o&&o(),r=null,i=null,o=null};return t&&a(t),function(){l(),s()}}},{key:"_addInitialEventListener",value:function(){var e=this,t=$I("mousedown",(function(t){e._removeInitialEventListener(),e._handleInitialEvent(t),e._removeInitialEventListener=$I("mousedown",e._handleInitialEvent)})),n=$I("touchstart",(function(t){e._removeInitialEventListener(),e._removeInitialEventListener=e._addLongPressListener(e._handleInitialEvent,t)}));this._removeInitialEventListener=function(){t(),n()}}},{key:"_dropFromOutsideListener",value:function(e){var t=qI(e),n=t.pageX,r=t.pageY,i=t.clientX,o=t.clientY;this.emit("dropFromOutside",{x:n,y:r,clientX:i,clientY:o}),e.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(e){var t=qI(e),n=t.pageX,r=t.pageY,i=t.clientX,o=t.clientY;this.emit("dragOverFromOutside",{x:n,y:r,clientX:i,clientY:o}),e.preventDefault()}},{key:"_handleInitialEvent",value:function(e){if(this._initialEvent=e,!this.isDetached){var t,n=qI(e),r=n.clientX,i=n.clientY,o=n.pageX,a=n.pageY,s=this.container();if(3!==e.which&&2!==e.button&&function(e,t,n){return!e||wx(e,document.elementFromPoint(t,n))}(s,r,i)){if(!this.globalMouse&&s&&!wx(s,e.target)){var l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;"object"!==HS(e)&&(e={top:e,left:e,right:e,bottom:e});return e}(0),c=l.top,u=l.left,d=l.bottom,h=l.right;if(!KI({top:(t=YI(s)).top-c,left:t.left-u,bottom:t.bottom+d,right:t.right+h},{top:a,left:o}))return}if(!1!==this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(e.type),x:o,y:a,clientX:r,clientY:i}))switch(e.type){case"mousedown":this._removeEndListener=$I("mouseup",this._handleTerminatingEvent),this._onEscListener=$I("keydown",this._handleTerminatingEvent),this._removeMoveListener=$I("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(e),this._removeEndListener=$I("touchend",this._handleTerminatingEvent),this._removeMoveListener=$I("touchmove",this._handleMoveEvent)}}}}},{key:"_isWithinValidContainer",value:function(e){var t=e.target,n=this.validContainers;return!(n&&n.length&&t)||n.some((function(e){return!!t.closest(e)}))}},{key:"_handleTerminatingEvent",value:function(e){var t=this.selecting,n=this._selectRect;if(!t&&e.type.includes("key")&&(e=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,e){var r=!this.container||wx(this.container(),e.target),i=this._isWithinValidContainer(e);return"Escape"!==e.key&&i?!t&&r?this._handleClickEvent(e):t?this.emit("select",n):this.emit("reset"):this.emit("reset")}}},{key:"_handleClickEvent",value:function(e){var t=qI(e),n=t.pageX,r=t.pageY,i=t.clientX,o=t.clientY,a=(new Date).getTime();return this._lastClickData&&a-this._lastClickData.timestamp<250?(this._lastClickData=null,this.emit("doubleClick",{x:n,y:r,clientX:i,clientY:o})):(this._lastClickData={timestamp:a},this.emit("click",{x:n,y:r,clientX:i,clientY:o}))}},{key:"_handleMoveEvent",value:function(e){if(null!==this._initialEventData&&!this.isDetached){var t=this._initialEventData,n=t.x,r=t.y,i=qI(e),o=i.pageX,a=i.pageY,s=Math.abs(n-o),l=Math.abs(r-a),c=Math.min(o,n),u=Math.min(a,r),d=this.selecting,h=this.isClick(o,a);(!h||d||s||l)&&(d||h||this.emit("selectStart",this._initialEventData),h||(this.selecting=!0,this._selectRect={top:u,left:c,x:o,y:a,right:c+s,bottom:u+l},this.emit("selecting",this._selectRect)),e.preventDefault())}}},{key:"_keyListener",value:function(e){this.ctrl=e.metaKey||e.ctrlKey}},{key:"isClick",value:function(e,t){var n=this._initialEventData,r=n.x,i=n.y;return!n.isTouch&&Math.abs(e-r)<=5&&Math.abs(t-i)<=5}}])}();function KI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=YI(e),i=r.top,o=r.left,a=r.right,s=void 0===a?o:a,l=r.bottom,c=void 0===l?i:l,u=YI(t),d=u.top,h=u.left,f=u.right,p=void 0===f?h:f,m=u.bottom;return!(c-n<d||i+n>(void 0===m?d:m)||s-n<h||o+n>p)}function YI(e){if(!e.getBoundingClientRect)return e;var t=e.getBoundingClientRect(),n=t.left+QI("left"),r=t.top+QI("top");return{top:r,left:n,right:(e.offsetWidth||0)+n,bottom:(e.offsetHeight||0)+r}}function QI(e){return"left"===e?window.pageXOffset||document.body.scrollLeft||0:"top"===e?window.pageYOffset||document.body.scrollTop||0:void 0}var XI=function(e){function n(e,r){var i;return XS(this,n),(i=r_(this,n,[e,r])).state={selecting:!1},i.containerRef=(0,t.createRef)(),i}return o_(n,e),ZS(n,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(e){!e.selectable&&this.props.selectable&&this._selectable(),e.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var e=this.props,n=e.range,r=e.getNow,i=e.getters,o=e.date,a=e.components.dateCellWrapper,s=e.localizer,l=this.state,c=l.selecting,u=l.startIdx,d=l.endIdx,h=r();return t.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},n.map((function(e,r){var l=c&&r>=u&&r<=d,f=i.dayProp(e),p=f.className,m=f.style;return t.createElement(a,{key:r,value:e,range:n},t.createElement("div",{style:m,className:h_("rbc-day-bg",p,l&&"rbc-selected-cell",s.isSameDate(e,h)&&"rbc-today",o&&s.neq(o,e,"month")&&"rbc-off-range-bg")}))})))}},{key:"_selectable",value:function(){var e=this,t=this.containerRef.current,n=this._selector=new GI(this.props.container,{longPressThreshold:this.props.longPressThreshold}),r=function(n,r){if(!HI(t,n)&&!WI(t,n)){var i=YI(t),o=e.props,a=o.range,s=o.rtl;if(function(e,t){var n=t.x,r=t.y;return r>=e.top&&r<=e.bottom&&n>=e.left&&n<=e.right}(i,n)){var l=jI(i,n.x,s,a.length);e._selectSlot({startIdx:l,endIdx:l,action:r,box:n})}}e._initial={},e.setState({selecting:!1})};n.on("selecting",(function(r){var i=e.props,o=i.range,a=i.rtl,s=-1,l=-1;if(e.state.selecting||(AI(e.props.onSelectStart,[r]),e._initial={x:r.x,y:r.y}),n.isSelected(t)){var c=YI(t),u=function(e,t,n,r,i){var o=-1,a=-1,s=r-1,l=FI(t,r),c=jI(t,n.x,i,r),u=t.top<n.y&&t.bottom>n.y,d=t.top<e.y&&t.bottom>e.y,h=e.y>t.bottom,f=t.top>e.y;return n.top<t.top&&n.bottom>t.bottom&&(o=0,a=s),u&&(f?(o=0,a=c):h&&(o=c,a=s)),d&&(o=a=i?s-Math.floor((e.x-t.left)/l):Math.floor((e.x-t.left)/l),u?c<o?o=c:a=c:e.y<n.y?a=s:o=0),{startIdx:o,endIdx:a}}(e._initial,c,r,o.length,a);s=u.startIdx,l=u.endIdx}e.setState({selecting:!0,startIdx:s,endIdx:l})})),n.on("beforeSelect",(function(t){if("ignoreEvents"===e.props.selectable)return!HI(e.containerRef.current,t)})),n.on("click",(function(e){return r(e,"click")})),n.on("doubleClick",(function(e){return r(e,"doubleClick")})),n.on("select",(function(t){e._selectSlot(KS(KS({},e.state),{},{action:"select",bounds:t})),e._initial={},e.setState({selecting:!1}),AI(e.props.onSelectEnd,[e.state])}))}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(e){var t=e.endIdx,n=e.startIdx,r=e.action,i=e.bounds,o=e.box;-1!==t&&-1!==n&&this.props.onSelectSlot&&this.props.onSelectSlot({start:n,end:t,action:r,bounds:i,box:o,resourceId:this.props.resourceId})}}])}(t.Component),JI=(S_().object.isRequired,S_().object,S_().bool,S_().object.isRequired,S_().object.isRequired,S_().object.isRequired,S_().object.isRequired,S_().func,S_().func,S_().func,{segments:[],selected:{}}),ZI=function(e,n){var r=e.selected;e.isAllDay;var i=e.accessors,o=e.getters,a=e.onSelect,s=e.onDoubleClick,l=e.onKeyPress,c=e.localizer,u=e.slotMetrics,d=e.components,h=e.resizable,f=u.continuesPrior(n),p=u.continuesAfter(n);return t.createElement(MI,{event:n,getters:o,localizer:c,accessors:i,components:d,onSelect:a,onDoubleClick:s,onKeyPress:l,continuesPrior:f,continuesAfter:p,slotStart:u.first,slotEnd:u.last,selected:LI(n,r),resizable:h})},eC=function(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:" ",o=Math.abs(n)/e*100+"%";return t.createElement("div",{key:r,className:"rbc-row-segment",style:{WebkitFlexBasis:o,flexBasis:o,maxWidth:o}},i)},tC=function(e){function n(){return XS(this,n),r_(this,n,arguments)}return o_(n,e),ZS(n,[{key:"render",value:function(){var e=this,n=this.props,r=n.segments,i=n.slotMetrics.slots,o=n.className,a=1;return t.createElement("div",{className:h_(o,"rbc-row")},r.reduce((function(t,n,r){var o=n.event,s=n.left,l=n.right,c=n.span,u="_lvl_"+r,d=s-a,h=ZI(e.props,o);return d&&t.push(eC(i,d,"".concat(u,"_gap"))),t.push(eC(i,c,u,h)),a=l+1,t}),[]))}}])}(t.Component);function nC(e){var t=e.dateRange,n=e.unit,r=void 0===n?"day":n,i=e.localizer;return{first:t[0],last:i.add(t[t.length-1],1,r)}}function rC(e){var t,n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,o=[],a=[];for(t=0;t<e.length;t++){for(r=e[t],n=0;n<o.length&&oC(r,o[n]);n++);n>=i?a.push(r):(o[n]||(o[n]=[])).push(r)}for(t=0;t<o.length;t++)o[t].sort((function(e,t){return e.left-t.left}));return{levels:o,extra:a}}function iC(e,t,n,r,i){var o={start:r.start(e),end:r.end(e)},a={start:t,end:n};return i.inEventRange({event:o,range:a})}function oC(e,t){return t.some((function(t){return t.left<=e.right&&t.right>=e.left}))}function aC(e,t,n,r){var i={start:n.start(e),end:n.end(e),allDay:n.allDay(e)},o={start:n.start(t),end:n.end(t),allDay:n.allDay(t)};return r.sortEvents({evtA:i,evtB:o})}tC.defaultProps=KS({},JI);var sC=function(e,t){return e.left<=t&&e.right>=t},lC=function(e,t){return e.filter((function(e){return sC(e,t)})).map((function(e){return e.event}))},cC=function(e){function n(){return XS(this,n),r_(this,n,arguments)}return o_(n,e),ZS(n,[{key:"render",value:function(){for(var e=this.props,n=e.segments,r=e.slotMetrics.slots,i=rC(n).levels[0],o=1,a=1,s=[];o<=r;){var l="_lvl_"+o,c=i.filter((function(e){return sC(e,o)}))[0]||{},u=c.event,d=c.left,h=c.right,f=c.span;if(u){var p=Math.max(0,d-a);if(this.canRenderSlotEvent(d,f)){var m=ZI(this.props,u);p&&s.push(eC(r,p,l+"_gap")),s.push(eC(r,f,l,m)),a=o=h+1}else p&&s.push(eC(r,p,l+"_gap")),s.push(eC(r,1,l,this.renderShowMore(n,o))),a=o+=1}else o++}return t.createElement("div",{className:"rbc-row"},s)}},{key:"canRenderSlotEvent",value:function(e,t){var n=this.props.segments;return MT()(e,e+t).every((function(e){return 1===lC(n,e).length}))}},{key:"renderShowMore",value:function(e,n){var r=this,i=this.props,o=i.localizer,a=i.slotMetrics,s=i.components,l=a.getEventsForSlot(n),c=lC(e,n),u=c.length;if(null!==s&&void 0!==s&&s.showMore){var d=s.showMore,h=a.getDateForSlot(n-1);return!!u&&t.createElement(d,{localizer:o,slotDate:h,slot:n,count:u,events:l,remainingEvents:c})}return!!u&&t.createElement("button",{type:"button",key:"sm_"+n,className:h_("rbc-button-link","rbc-show-more"),onClick:function(e){return r.showMore(n,e)}},o.messages.showMore(u,c,l))}},{key:"showMore",value:function(e,t){t.preventDefault(),t.stopPropagation(),this.props.onShowMore(e,t.target)}}])}(t.Component);cC.defaultProps=KS({},JI);var uC=function(e){var n=e.children;return t.createElement("div",{className:"rbc-row-content-scroll-container"},n)},dC=function(e,t){return e[0].range===t[0].range&&e[0].events===t[0].events};function hC(){return jT((function(e){for(var t=e.range,n=e.events,r=e.maxRows,i=e.minRows,o=e.accessors,a=e.localizer,s=nC({dateRange:t,localizer:a}),l=s.first,c=s.last,u=n.map((function(e){return function(e,t,n,r){var i=nC({dateRange:t,localizer:r}),o=i.first,a=i.last,s=r.diff(o,a,"day"),l=r.max(r.startOf(n.start(e),"day"),o),c=r.min(r.ceil(n.end(e),"day"),a),u=RT()(t,(function(e){return r.isSameDate(e,l)})),d=r.diff(l,c,"day");return d=Math.min(d,s),{event:e,span:d=Math.max(d-r.segmentOffset,1),left:u+1,right:Math.max(u+d,1)}}(e,t,o,a)})),d=rC(u,Math.max(r-1,1)),h=d.levels,f=d.extra,p=f.length>0?i-1:i;h.length<p;)h.push([]);return{first:l,last:c,levels:h,extra:f,range:t,slots:t.length,clone:function(t){return hC()(KS(KS({},e),t))},getDateForSlot:function(e){return t[e]},getSlotForDate:function(e){return t.find((function(t){return a.isSameDate(t,e)}))},getEventsForSlot:function(e){return u.filter((function(t){return function(e,t){return e.left<=t&&e.right>=t}(t,e)})).map((function(e){return e.event}))},continuesPrior:function(e){return a.continuesPrior(o.start(e),l)},continuesAfter:function(e){var t=o.start(e),n=o.end(e);return a.continuesAfter(t,n,c)}}}),dC)}var fC=function(e){function n(){var e;XS(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=r_(this,n,[].concat(i))).handleSelectSlot=function(t){var n=e.props,r=n.range;(0,n.onSelectSlot)(r.slice(t.start,t.end+1),t)},e.handleShowMore=function(t,n){var r,i,o,a=e.props,s=a.range,l=a.onShowMore,c=e.slotMetrics(e.props),u=(r=e.containerRef.current,i=".rbc-row-bg",DT(r.querySelectorAll(i)))[0];u&&(o=u.children[t-1]),l(c.getEventsForSlot(t),s[t-1],o,t,n)},e.getContainer=function(){var t=e.props.container;return t?t():e.containerRef.current},e.renderHeadingCell=function(t,n){var r=e.props,i=r.renderHeader,o=r.getNow,a=r.localizer;return i({date:t,key:"header_".concat(n),className:h_("rbc-date-cell",a.isSameDate(t,o())&&"rbc-now")})},e.renderDummy=function(){var n=e.props,r=n.className,i=n.range,o=n.renderHeader,a=n.showAllEvents;return t.createElement("div",{className:r,ref:e.containerRef},t.createElement("div",{className:h_("rbc-row-content",a&&"rbc-row-content-scrollable")},o&&t.createElement("div",{className:"rbc-row",ref:e.headingRowRef},i.map(e.renderHeadingCell)),t.createElement("div",{className:"rbc-row",ref:e.eventRowRef},t.createElement("div",{className:"rbc-row-segment"},t.createElement("div",{className:"rbc-event"},t.createElement("div",{className:"rbc-event-content"},"\xa0"))))))},e.containerRef=(0,t.createRef)(),e.headingRowRef=(0,t.createRef)(),e.eventRowRef=(0,t.createRef)(),e.slotMetrics=hC(),e}return o_(n,e),ZS(n,[{key:"getRowLimit",value:function(){var e,t=IT(this.eventRowRef.current),n=null!==(e=this.headingRowRef)&&void 0!==e&&e.current?IT(this.headingRowRef.current):0,r=IT(this.containerRef.current)-n;return Math.max(Math.floor(r/t),1)}},{key:"render",value:function(){var e=this.props,n=e.date,r=e.rtl,i=e.range,o=e.className,a=e.selected,s=e.selectable,l=e.renderForMeasure,c=e.accessors,u=e.getters,d=e.components,h=e.getNow,f=e.renderHeader,p=e.onSelect,m=e.localizer,g=e.onSelectStart,v=e.onSelectEnd,y=e.onDoubleClick,b=e.onKeyPress,w=e.resourceId,E=e.longPressThreshold,S=e.isAllDay,_=e.resizable,x=e.showAllEvents;if(l)return this.renderDummy();var k=this.slotMetrics(this.props),T=k.levels,I=k.extra,C=x?uC:eI,D=d.weekWrapper,N={selected:a,accessors:c,getters:u,localizer:m,components:d,onSelect:p,onDoubleClick:y,onKeyPress:b,resourceId:w,slotMetrics:k,resizable:_};return t.createElement("div",{className:o,role:"rowgroup",ref:this.containerRef},t.createElement(XI,{localizer:m,date:n,getNow:h,rtl:r,range:i,selectable:s,container:this.getContainer,getters:u,onSelectStart:g,onSelectEnd:v,onSelectSlot:this.handleSelectSlot,components:d,longPressThreshold:E,resourceId:w}),t.createElement("div",{className:h_("rbc-row-content",x&&"rbc-row-content-scrollable"),role:"row"},f&&t.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},i.map(this.renderHeadingCell)),t.createElement(C,null,t.createElement(D,Object.assign({isAllDay:S},N,{rtl:this.props.rtl}),T.map((function(e,n){return t.createElement(tC,Object.assign({key:n,segments:e},N))})),!!I.length&&t.createElement(cC,Object.assign({segments:I,onShowMore:this.handleShowMore},N))))))}}])}(t.Component);fC.defaultProps={minRows:0,maxRows:1/0};var pC=function(e){var n=e.label;return t.createElement("span",{role:"columnheader","aria-sort":"none"},n)},mC=function(e){var n=e.label,r=e.drilldownView,i=e.onDrillDown;return r?t.createElement("button",{type:"button",className:"rbc-button-link",onClick:i},n):t.createElement("span",null,n)},gC=["date","className"],vC=function(e){function n(){var e;XS(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=r_(this,n,[].concat(i))).getContainer=function(){return e.containerRef.current},e.renderWeek=function(n,r){var i=e.props,o=i.events,a=i.components,s=i.selectable,l=i.getNow,c=i.selected,u=i.date,d=i.localizer,h=i.longPressThreshold,f=i.accessors,p=i.getters,m=i.showAllEvents,g=e.state,v=g.needLimitMeasure,y=g.rowLimit,b=function(e,t,n,r,i){return e.filter((function(e){return iC(e,t,n,r,i)}))}(ux(o),n[0],n[n.length-1],f,d),w=function(e,t,n){var r=ux(e),i=[],o=[];r.forEach((function(e){var r=t.start(e),a=t.end(e);n.daySpan(r,a)>1?i.push(e):o.push(e)}));var a=i.sort((function(e,r){return aC(e,r,t,n)})),s=o.sort((function(e,r){return aC(e,r,t,n)}));return[].concat(ux(a),ux(s))}(b,f,d);return t.createElement(fC,{key:r,ref:0===r?e.slotRowRef:void 0,container:e.getContainer,className:"rbc-month-row",getNow:l,date:u,range:n,events:w,maxRows:m?1/0:y,selected:c,selectable:s,components:a,accessors:f,getters:p,localizer:d,renderHeader:e.readerDateHeading,renderForMeasure:v,onShowMore:e.handleShowMore,onSelect:e.handleSelectEvent,onDoubleClick:e.handleDoubleClickEvent,onKeyPress:e.handleKeyPressEvent,onSelectSlot:e.handleSelectSlot,longPressThreshold:h,rtl:e.props.rtl,resizable:e.props.resizable,showAllEvents:m})},e.readerDateHeading=function(n){var r=n.date,i=n.className,o=QS(n,gC),a=e.props,s=a.date,l=a.getDrilldownView,c=a.localizer,u=c.neq(r,s,"month"),d=c.isSameDate(r,s),h=l(r),f=c.format(r,"dateFormat"),p=e.props.components.dateHeader||mC;return t.createElement("div",Object.assign({},o,{className:h_(i,u&&"rbc-off-range",d&&"rbc-current"),role:"cell"}),t.createElement(p,{label:f,date:r,drilldownView:h,isOffRange:u,onDrillDown:function(t){return e.handleHeadingClick(r,h,t)}}))},e.handleSelectSlot=function(t,n){e._pendingSelection=e._pendingSelection.concat(t),clearTimeout(e._selectTimer),e._selectTimer=setTimeout((function(){return e.selectDates(n)}))},e.handleHeadingClick=function(t,n,r){r.preventDefault(),e.clearSelection(),AI(e.props.onDrillDown,[t,n])},e.handleSelectEvent=function(){e.clearSelection();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];AI(e.props.onSelectEvent,n)},e.handleDoubleClickEvent=function(){e.clearSelection();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];AI(e.props.onDoubleClickEvent,n)},e.handleKeyPressEvent=function(){e.clearSelection();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];AI(e.props.onKeyPressEvent,n)},e.handleShowMore=function(t,n,r,i,o){var a=e.props,s=a.popup,l=a.onDrillDown,c=a.onShowMore,u=a.getDrilldownView,d=a.doShowMoreDrillDown;if(e.clearSelection(),s){var h=Tx(r,e.containerRef.current);e.setState({overlay:{date:n,events:t,position:h,target:o}})}else d&&AI(l,[n,u(n)||oI.DAY]);AI(c,[t,n,i])},e.overlayDisplay=function(){e.setState({overlay:null})},e.state={rowLimit:5,needLimitMeasure:!0,date:null},e.containerRef=(0,t.createRef)(),e.slotRowRef=(0,t.createRef)(),e._bgRows=[],e._pendingSelection=[],e}return o_(n,e),ZS(n,[{key:"componentDidMount",value:function(){var e,t=this;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){e||Rx((function(){e=!1,t.setState({needLimitMeasure:!0})}))},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var e=this.props,n=e.date,r=e.localizer,i=e.className,o=r.visibleDays(n,r),a=hx()(o,7);return this._weekCount=a.length,t.createElement("div",{className:h_("rbc-month-view",i),role:"table","aria-label":"Month View",ref:this.containerRef},t.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(a[0])),a.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(e){var n=this.props,r=n.localizer,i=n.components,o=e[0],a=e[e.length-1],s=i.header||pC;return r.range(o,a,"day").map((function(e,n){return t.createElement("div",{key:"header_"+n,className:"rbc-header"},t.createElement(s,{date:e,localizer:r,label:r.format(e,"weekdayFormat")}))}))}},{key:"renderOverlay",value:function(){var e,n,r=this,i=null!==(e=null===(n=this.state)||void 0===n?void 0:n.overlay)&&void 0!==e?e:{},o=this.props,a=o.accessors,s=o.localizer,l=o.components,c=o.getters,u=o.selected,d=o.popupOffset,h=o.handleDragStart;return t.createElement(zI,{overlay:i,accessors:a,localizer:s,components:l,getters:c,selected:u,popupOffset:d,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:h,show:!!i.position,overlayDisplay:this.overlayDisplay,onHide:function(){return r.setState({overlay:null})}})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(e){var t=this._pendingSelection.slice();this._pendingSelection=[],t.sort((function(e,t){return+e-+t}));var n=new Date(t[0]),r=new Date(t[t.length-1]);r.setDate(t[t.length-1].getDate()+1),AI(this.props.onSelectSlot,{slots:t,start:n,end:r,action:e.action,bounds:e.bounds,box:e.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.date;return{date:n,needLimitMeasure:e.localizer.neq(n,t.date,"month")}}}])}(t.Component);vC.range=function(e,t){var n=t.localizer;return{start:n.firstVisibleDay(e,n),end:n.lastVisibleDay(e,n)}},vC.navigate=function(e,t,n){var r=n.localizer;switch(t){case tI:return r.add(e,-1,"month");case nI:return r.add(e,1,"month");default:return e}},vC.title=function(e,t){return t.localizer.format(e,"monthHeaderFormat")};var yC=function(e){var t=e.min,n=e.max,r=e.step,i=e.slots,o=e.localizer;return"".concat(+o.startOf(t,"minutes"))+"".concat(+o.startOf(n,"minutes"))+"".concat(r,"-").concat(i)};function bC(e){for(var t=e.min,n=e.max,r=e.step,i=e.timeslots,o=e.localizer,a=yC({start:t,end:n,step:r,timeslots:i,localizer:o}),s=1+o.getTotalMin(t,n),l=o.getMinutesFromMidnight(t),c=Math.ceil((s-1)/(r*i)),u=c*i,d=new Array(c),h=new Array(u),f=0;f<c;f++){d[f]=new Array(i);for(var p=0;p<i;p++){var m=f*i+p,g=m*r;h[m]=d[f][p]=o.getSlotDate(t,l,g)}}var v=h.length*r;function y(e){var n=o.diff(t,e,"minutes")+o.getDstOffset(t,e);return Math.min(n,s)}return h.push(o.getSlotDate(t,l,v)),{groups:d,update:function(e){return yC(e)!==a?bC(e):this},dateIsInGroup:function(e,t){var r=d[t+1];return o.inRange(e,d[t][0],r?r[0]:n,"minutes")},nextSlot:function(e){var t=h[Math.min(h.findIndex((function(t){return t===e||o.eq(t,e)}))+1,h.length-1)];return o.eq(t,e)&&(t=o.add(e,r,"minutes")),t},closestSlotToPosition:function(e){var t=Math.min(h.length-1,Math.max(0,Math.floor(e*u)));return h[t]},closestSlotFromPoint:function(e,t){var n=Math.abs(t.top-t.bottom);return this.closestSlotToPosition((e.y-t.top)/n)},closestSlotFromDate:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(o.lt(e,t,"minutes"))return h[0];if(o.gt(e,n,"minutes"))return h[h.length-1];var a=o.diff(t,e,"minutes");return h[(a-a%r)/r+i]},startsBeforeDay:function(e){return o.lt(e,t,"day")},startsAfterDay:function(e){return o.gt(e,n,"day")},startsBefore:function(e){return o.lt(o.merge(t,e),t,"minutes")},startsAfter:function(e){return o.gt(o.merge(n,e),n,"minutes")},getRange:function(e,i,a,s){a||(e=o.min(n,o.max(t,e))),s||(i=o.min(n,o.max(t,i)));var l=y(e),c=y(i),d=c>r*u&&!o.eq(n,i)?(l-r)/(r*u)*100:l/(r*u)*100;return{top:d,height:c/(r*u)*100-d,start:y(e),startDate:e,end:y(i),endDate:i}},getCurrentTimePosition:function(e){return y(e)/(r*u)*100}}}var wC=function(){return ZS((function e(t,n){var r=n.accessors,i=n.slotMetrics;XS(this,e);var o=i.getRange(r.start(t),r.end(t)),a=o.start,s=o.startDate,l=o.end,c=o.endDate,u=o.top,d=o.height;this.start=a,this.end=l,this.startMs=+s,this.endMs=+c,this.top=u,this.height=d,this.data=t}),[{key:"_width",get:function(){if(this.rows){var e=this.rows.reduce((function(e,t){return Math.max(e,t.leaves.length+1)}),0)+1;return 100/e}return this.leaves?(100-this.container._width)/(this.leaves.length+1):this.row._width}},{key:"width",get:function(){var e=this._width,t=Math.min(100,1.7*this._width);if(this.rows)return t;if(this.leaves)return this.leaves.length>0?t:e;var n=this.row.leaves;return n.indexOf(this)===n.length-1?e:t}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var e=this.row,t=e.leaves,n=e.xOffset,r=e._width;return n+(t.indexOf(this)+1)*r}}])}();function EC(e,t,n){return Math.abs(t.start-e.start)<n||t.start>e.start&&t.start<e.end}function SC(e){for(var t=e.events,n=e.minimumStartDifference,r=e.slotMetrics,i=e.accessors,o=function(e){for(var t=zT()(e,["startMs",function(e){return-e.endMs}]),n=[];t.length>0;){var r=t.shift();n.push(r);for(var i=0;i<t.length;i++){var o=t[i];if(!(r.endMs>o.startMs)){if(i>0){var a=t.splice(i,1)[0];n.push(a)}break}}}return n}(t.map((function(e){return new wC(e,{slotMetrics:r,accessors:i})}))),a=[],s=function(){var e=o[l],t=a.find((function(t){return t.end>e.start||Math.abs(e.start-t.start)<n}));if(!t)return e.rows=[],a.push(e),1;e.container=t;for(var r=null,i=t.rows.length-1;!r&&i>=0;i--)EC(t.rows[i],e,n)&&(r=t.rows[i]);r?(r.leaves.push(e),e.row=r):(e.leaves=[],t.rows.push(e))},l=0;l<o.length;l++)s();return o.map((function(e){return{event:e.data,style:{top:e.top,height:e.height,width:e.width,xOffset:Math.max(0,e.xOffset)}}}))}function _C(e,t,n){for(var r=0;r<e.friends.length;++r)if(!(n.indexOf(e.friends[r])>-1)){t=t>e.friends[r].idx?t:e.friends[r].idx,n.push(e.friends[r]);var i=_C(e.friends[r],t,n);t=t>i?t:i}return t}var xC={overlap:SC,"no-overlap":function(e){var t=SC({events:e.events,minimumStartDifference:e.minimumStartDifference,slotMetrics:e.slotMetrics,accessors:e.accessors});t.sort((function(e,t){return e=e.style,t=t.style,e.top!==t.top?e.top>t.top?1:-1:e.height!==t.height?e.top+e.height<t.top+t.height?1:-1:0}));for(var n=0;n<t.length;++n)t[n].friends=[],delete t[n].style.left,delete t[n].style.left,delete t[n].idx,delete t[n].size;for(var r=0;r<t.length-1;++r)for(var i=t[r],o=i.style.top,a=i.style.top+i.style.height,s=r+1;s<t.length;++s){var l=t[s],c=l.style.top,u=l.style.top+l.style.height;(c>=o&&u<=a||u>o&&u<=a||c>=o&&c<a)&&(i.friends.push(l),l.friends.push(i))}for(var d=0;d<t.length;++d){for(var h=t[d],f=[],p=0;p<100;++p)f.push(1);for(var m=0;m<h.friends.length;++m)void 0!==h.friends[m].idx&&(f[h.friends[m].idx]=0);h.idx=f.indexOf(1)}for(var g=0;g<t.length;++g){var v;if(!t[g].size){var y=[];v=100/(_C(t[g],0,y)+1),t[g].size=v;for(var b=0;b<y.length;++b)y[b].size=v}}for(var w=0;w<t.length;++w){var E=t[w];E.style.left=E.idx*E.size;for(var S=0,_=0;_<E.friends.length;++_){var x=E.friends[_].idx;S=S>x?S:x}S<=E.idx&&(E.size=100-E.idx*E.size);var k=0===E.idx?0:3;E.style.width="calc(".concat(E.size,"% - ").concat(k,"px)"),E.style.height="calc(".concat(E.style.height,"% - 2px)"),E.style.xOffset="calc(".concat(E.style.left,"% + ").concat(k,"px)")}return t}};var kC=function(e){function n(){return XS(this,n),r_(this,n,arguments)}return o_(n,e),ZS(n,[{key:"render",value:function(){var e=this.props,n=e.renderSlot,r=e.resource,i=e.group,o=e.getters,a=e.components,s=(void 0===a?{}:a).timeSlotWrapper,l=void 0===s?eI:s,c=o?o.slotGroupProp(i):{};return t.createElement("div",Object.assign({className:"rbc-timeslot-group"},c),i.map((function(e,i){var a=o?o.slotProp(e,r):{};return t.createElement(l,{key:i,value:e,resource:r},t.createElement("div",Object.assign({},a,{className:h_("rbc-time-slot",a.className)}),n&&n(e,i)))})))}}])}(t.Component);function TC(e){return"string"===typeof e?e:e+"%"}function IC(e){var n=e.style,r=e.className,i=e.event,o=e.accessors,a=e.rtl,s=e.selected,l=e.label,c=e.continuesPrior,u=e.continuesAfter,d=e.getters,h=e.onClick,f=e.onDoubleClick,p=e.isBackgroundEvent,m=e.onKeyPress,g=e.components,v=g.event,y=g.eventWrapper,b=o.title(i),w=o.tooltip(i),E=o.end(i),S=o.start(i),_=d.eventProp(i,S,E,s),x=[t.createElement("div",{key:"1",className:"rbc-event-label"},l),t.createElement("div",{key:"2",className:"rbc-event-content"},v?t.createElement(v,{event:i,title:b}):b)],k=n.height,T=n.top,I=n.width,C=n.xOffset,D=KS(KS({},_.style),{},qS({top:TC(T),height:TC(k),width:TC(I)},a?"right":"left",TC(C)));return t.createElement(y,Object.assign({type:"time"},e),t.createElement("div",{role:"button",tabIndex:0,onClick:h,onDoubleClick:f,style:D,onKeyDown:m,title:w?("string"===typeof l?l+": ":"")+w:void 0,className:h_(p?"rbc-background-event":"rbc-event",r,_.className,{"rbc-selected":s,"rbc-event-continues-earlier":c,"rbc-event-continues-later":u})},x))}var CC=function(e){var n=e.children,r=e.className,i=e.style,o=e.innerRef;return t.createElement("div",{className:r,style:i,ref:o},n)},DC=t.forwardRef((function(e,n){return t.createElement(CC,Object.assign({},e,{innerRef:n}))})),NC=["dayProp"],OC=["eventContainerWrapper"],AC=function(e){function n(){var e;XS(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=r_(this,n,[].concat(i))).state={selecting:!1,timeIndicatorPosition:null},e.intervalTriggered=!1,e.renderEvents=function(n){var r=n.events,i=n.isBackgroundEvent,o=e.props,a=o.rtl,s=o.selected,l=o.accessors,c=o.localizer,u=o.getters,d=o.components,h=o.step,f=o.timeslots,p=o.dayLayoutAlgorithm,m=o.resizable,g=e.slotMetrics,v=c.messages,y=function(e){e.events,e.minimumStartDifference,e.slotMetrics,e.accessors;var t,n=e.dayLayoutAlgorithm,r=n;return n in xC&&(r=xC[n]),(t=r)&&t.constructor&&t.call&&t.apply?r.apply(this,arguments):[]}({events:r,accessors:l,slotMetrics:g,minimumStartDifference:Math.ceil(h*f/2),dayLayoutAlgorithm:p});return y.map((function(n,r){var o,h,f=n.event,p=n.style,y=l.end(f),b=l.start(f),w=null!==(o=l.eventId(f))&&void 0!==o?o:"evt_"+r,E="eventTimeRangeFormat",S=g.startsBeforeDay(b),_=g.startsAfterDay(y);S?E="eventTimeRangeEndFormat":_&&(E="eventTimeRangeStartFormat"),h=S&&_?v.allDay:c.format({start:b,end:y},E);var x=S||g.startsBefore(b),k=_||g.startsAfter(y);return t.createElement(IC,{style:p,event:f,label:h,key:w,getters:u,rtl:a,components:d,continuesPrior:x,continuesAfter:k,accessors:l,resource:e.props.resource,selected:LI(f,s),onClick:function(t){return e._select(KS(KS(KS({},f),e.props.resource&&{sourceResource:e.props.resource}),i&&{isBackgroundEvent:!0}),t)},onDoubleClick:function(t){return e._doubleClick(f,t)},isBackgroundEvent:i,onKeyPress:function(t){return e._keyPress(f,t)},resizable:m})}))},e._selectable=function(){var t=e.containerRef.current,n=e.props,r=n.longPressThreshold,i=n.localizer,o=e._selector=new GI((function(){return t}),{longPressThreshold:r}),a=function(t){var n=e.props.onSelecting,r=e.state||{},o=s(t),a=o.startDate,l=o.endDate;n&&(i.eq(r.startDate,a,"minutes")&&i.eq(r.endDate,l,"minutes")||!1===n({start:a,end:l,resourceId:e.props.resource}))||e.state.start===o.start&&e.state.end===o.end&&e.state.selecting===o.selecting||e.setState(o)},s=function(n){var r=e.slotMetrics.closestSlotFromPoint(n,YI(t));e.state.selecting||(e._initialSlot=r);var o=e._initialSlot;i.lte(o,r)?r=e.slotMetrics.nextSlot(r):i.gt(o,r)&&(o=e.slotMetrics.nextSlot(o));var a=e.slotMetrics.getRange(i.min(o,r),i.max(o,r));return KS(KS({},a),{},{selecting:!0,top:"".concat(a.top,"%"),height:"".concat(a.height,"%")})},l=function(t,n){if(!HI(e.containerRef.current,t)){var r=s(t),i=r.startDate,o=r.endDate;e._selectSlot({startDate:i,endDate:o,action:n,box:t})}e.setState({selecting:!1})};o.on("selecting",a),o.on("selectStart",a),o.on("beforeSelect",(function(t){if("ignoreEvents"===e.props.selectable)return!HI(e.containerRef.current,t)})),o.on("click",(function(e){return l(e,"click")})),o.on("doubleClick",(function(e){return l(e,"doubleClick")})),o.on("select",(function(t){e.state.selecting&&(e._selectSlot(KS(KS({},e.state),{},{action:"select",bounds:t})),e.setState({selecting:!1}))})),o.on("reset",(function(){e.state.selecting&&e.setState({selecting:!1})}))},e._teardownSelectable=function(){e._selector&&(e._selector.teardown(),e._selector=null)},e._selectSlot=function(t){for(var n=t.startDate,r=t.endDate,i=t.action,o=t.bounds,a=t.box,s=n,l=[];e.props.localizer.lte(s,r);)l.push(s),s=new Date(+s+60*e.props.step*1e3);AI(e.props.onSelectSlot,{slots:l,start:n,end:r,resourceId:e.props.resource,action:i,bounds:o,box:a})},e._select=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];AI(e.props.onSelectEvent,n)},e._doubleClick=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];AI(e.props.onDoubleClickEvent,n)},e._keyPress=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];AI(e.props.onKeyPressEvent,n)},e.slotMetrics=bC(e.props),e.containerRef=(0,t.createRef)(),e}return o_(n,e),ZS(n,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(e,t){this.props.selectable&&!e.selectable&&this._selectable(),!this.props.selectable&&e.selectable&&this._teardownSelectable();var n=this.props,r=n.getNow,i=n.isNow,o=n.localizer,a=n.date,s=n.min,l=n.max,c=o.neq(e.getNow(),r(),"minutes");if(e.isNow!==i||c){if(this.clearTimeIndicatorInterval(),i){var u=!c&&o.eq(e.date,a,"minutes")&&t.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(u)}}else i&&(o.neq(e.min,s,"minutes")||o.neq(e.max,l,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.intervalTriggered||t||this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout((function(){e.intervalTriggered=!0,e.positionTimeIndicator(),e.setTimeIndicatorPositionUpdateInterval()}),6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var e=this.props,t=e.min,n=e.max,r=(0,e.getNow)();if(r>=t&&r<=n){var i=this.slotMetrics.getCurrentTimePosition(r);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:i})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var e=this.props,n=e.date,r=e.max,i=e.rtl,o=e.isNow,a=e.resource,s=e.accessors,l=e.localizer,c=e.getters,u=c.dayProp,d=QS(c,NC),h=e.components,f=h.eventContainerWrapper,p=QS(h,OC);this.slotMetrics=this.slotMetrics.update(this.props);var m=this.slotMetrics,g=this.state,v=g.selecting,y=g.top,b=g.height,w={start:g.startDate,end:g.endDate},E=u(r,a),S=E.className,_=E.style,x=p.dayColumnWrapper||DC;return t.createElement(x,{ref:this.containerRef,date:n,style:_,className:h_(S,"rbc-day-slot","rbc-time-column",o&&"rbc-now",o&&"rbc-today",v&&"rbc-slot-selecting"),slotMetrics:m,resource:a},m.groups.map((function(e,n){return t.createElement(kC,{key:n,group:e,resource:a,getters:d,components:p})})),t.createElement(f,{localizer:l,resource:a,accessors:s,getters:d,components:p,slotMetrics:m},t.createElement("div",{className:h_("rbc-events-container",i&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),v&&t.createElement("div",{className:"rbc-slot-selection",style:{top:y,height:b}},t.createElement("span",null,l.format(w,"selectRangeFormat"))),o&&this.intervalTriggered&&t.createElement("div",{className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}}))}}])}(t.Component);AC.defaultProps={dragThroughEvents:!0,timeslots:2};var RC=function(e){var n=e.label;return t.createElement(t.Fragment,null,n)},PC=function(e){function n(){var e;XS(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=r_(this,n,[].concat(i))).handleHeaderClick=function(t,n,r){r.preventDefault(),AI(e.props.onDrillDown,[t,n])},e.renderRow=function(n){var r=e.props,i=r.events,o=r.rtl,a=r.selectable,s=r.getNow,l=r.range,c=r.getters,u=r.localizer,d=r.accessors,h=r.components,f=r.resizable,p=d.resourceId(n),m=n?i.filter((function(e){return d.resource(e)===p})):i;return t.createElement(fC,{isAllDay:!0,rtl:o,getNow:s,minRows:2,maxRows:e.props.allDayMaxRows+1,range:l,events:m,resourceId:p,className:"rbc-allday-cell",selectable:a,selected:e.props.selected,components:h,accessors:d,getters:c,localizer:u,onSelect:e.props.onSelectEvent,onShowMore:e.props.onShowMore,onDoubleClick:e.props.onDoubleClickEvent,onKeyPress:e.props.onKeyPressEvent,onSelectSlot:e.props.onSelectSlot,longPressThreshold:e.props.longPressThreshold,resizable:f})},e}return o_(n,e),ZS(n,[{key:"renderHeaderCells",value:function(e){var n=this,r=this.props,i=r.localizer,o=r.getDrilldownView,a=r.getNow,s=r.getters.dayProp,l=r.components.header,c=void 0===l?pC:l,u=a();return e.map((function(e,r){var a=o(e),l=i.format(e,"dayFormat"),d=s(e),h=d.className,f=d.style,p=t.createElement(c,{date:e,label:l,localizer:i});return t.createElement("div",{key:r,style:f,className:h_("rbc-header",h,i.isSameDate(e,u)&&"rbc-today")},a?t.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(t){return n.handleHeaderClick(e,a,t)}},p):t.createElement("span",null,p))}))}},{key:"render",value:function(){var e=this,n=this.props,r=n.width,i=n.rtl,o=n.resources,a=n.range,s=n.events,l=n.getNow,c=n.accessors,u=n.selectable,d=n.components,h=n.getters,f=n.scrollRef,p=n.localizer,m=n.isOverflowing,g=n.components,v=g.timeGutterHeader,y=g.resourceHeader,b=void 0===y?RC:y,w=n.resizable,E={};m&&(E[i?"marginLeft":"marginRight"]="".concat($T()-1,"px"));var S=o.groupEvents(s);return t.createElement("div",{style:E,ref:f,className:h_("rbc-time-header",m&&"rbc-overflowing")},t.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:r,minWidth:r,maxWidth:r}},v&&t.createElement(v,null)),o.map((function(n,r){var o=u_(n,2),s=o[0],f=o[1];return t.createElement("div",{className:"rbc-time-header-content",key:s||r},f&&t.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(r)},t.createElement("div",{className:"rbc-header"},t.createElement(b,{index:r,label:c.resourceTitle(f),resource:f}))),t.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(a.length<=1?" rbc-time-header-cell-single-day":"")},e.renderHeaderCells(a)),t.createElement(fC,{isAllDay:!0,rtl:i,getNow:l,minRows:2,maxRows:e.props.allDayMaxRows+1,range:a,events:S.get(s)||[],resourceId:f&&s,className:"rbc-allday-cell",selectable:u,selected:e.props.selected,components:d,accessors:c,getters:h,localizer:p,onSelect:e.props.onSelectEvent,onShowMore:e.props.onShowMore,onDoubleClick:e.props.onDoubleClickEvent,onKeyDown:e.props.onKeyPressEvent,onSelectSlot:e.props.onSelectSlot,longPressThreshold:e.props.longPressThreshold,resizable:w}))})))}}])}(t.Component),MC=function(e){function n(){var e;XS(this,n);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return(e=r_(this,n,[].concat(r))).handleHeaderClick=function(t,n,r){r.preventDefault(),AI(e.props.onDrillDown,[t,n])},e}return o_(n,e),ZS(n,[{key:"renderHeaderCells",value:function(e){var n=this,r=this.props,i=r.localizer,o=r.getDrilldownView,a=r.getNow,s=r.getters.dayProp,l=r.components,c=l.header,u=void 0===c?pC:c,d=l.resourceHeader,h=void 0===d?RC:d,f=r.resources,p=r.accessors,m=r.events,g=r.rtl,v=r.selectable,y=r.components,b=r.getters,w=r.resizable,E=a(),S=f.groupEvents(m);return e.map((function(r,l){var c=o(r),d=i.format(r,"dayFormat"),m=s(r),_=m.className,x=m.style,k=t.createElement(u,{date:r,label:d,localizer:i});return t.createElement("div",{key:l,className:"rbc-time-header-content rbc-resource-grouping"},t.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(e.length<=1?" rbc-time-header-cell-single-day":"")},t.createElement("div",{style:x,className:h_("rbc-header",_,i.isSameDate(r,E)&&"rbc-today")},c?t.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(e){return n.handleHeaderClick(r,c,e)}},k):t.createElement("span",null,k))),t.createElement("div",{className:"rbc-row"},f.map((function(e,n){var o=u_(e,2),a=o[0],s=o[1];return t.createElement("div",{key:"resource_".concat(a,"_").concat(n),className:h_("rbc-header",_,i.isSameDate(r,E)&&"rbc-today")},t.createElement(h,{index:n,label:p.resourceTitle(s),resource:s}))}))),t.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},f.map((function(e,o){var s=u_(e,2),l=s[0],c=s[1],u=(S.get(l)||[]).filter((function(e){return i.isSameDate(e.start,r)||i.isSameDate(e.end,r)}));return t.createElement(fC,{key:"resource_".concat(l,"_").concat(o),isAllDay:!0,rtl:g,getNow:a,minRows:2,maxRows:n.props.allDayMaxRows+1,range:[r],events:u,resourceId:c&&l,className:"rbc-allday-cell",selectable:v,selected:n.props.selected,components:y,accessors:p,getters:b,localizer:i,onSelect:n.props.onSelectEvent,onShowMore:n.props.onShowMore,onDoubleClick:n.props.onDoubleClickEvent,onKeyDown:n.props.onKeyPressEvent,onSelectSlot:n.props.onSelectSlot,longPressThreshold:n.props.longPressThreshold,resizable:w})}))))}))}},{key:"render",value:function(){var e=this.props,n=e.width,r=e.rtl,i=e.range,o=e.scrollRef,a=e.isOverflowing,s=e.components.timeGutterHeader,l={};return a&&(l[r?"marginLeft":"marginRight"]="".concat($T()-1,"px")),t.createElement("div",{style:l,ref:o,className:h_("rbc-time-header",a&&"rbc-overflowing")},t.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:n,minWidth:n,maxWidth:n}},s&&t.createElement(s,null)),this.renderHeaderCells(i))}}])}(t.Component);var LC=function(e){var n=e.min,r=e.max,i=e.timeslots,o=e.step,a=e.localizer,s=e.getNow,l=e.resource,c=e.components,u=e.getters,d=e.gutterRef,h=c.timeGutterWrapper,f=(0,t.useMemo)((function(){return function(e){var t=e.min,n=e.max,r=e.localizer;return r.getTimezoneOffset(t)!==r.getTimezoneOffset(n)?{start:r.add(t,-1,"day"),end:r.add(n,-1,"day")}:{start:t,end:n}}({min:n,max:r,localizer:a})}),[null===n||void 0===n?void 0:n.toISOString(),null===r||void 0===r?void 0:r.toISOString(),a]),p=f.start,m=f.end,g=u_((0,t.useState)(bC({min:p,max:m,timeslots:i,step:o,localizer:a})),2),v=g[0],y=g[1];(0,t.useEffect)((function(){v&&y(v.update({min:p,max:m,timeslots:i,step:o,localizer:a}))}),[null===p||void 0===p?void 0:p.toISOString(),null===m||void 0===m?void 0:m.toISOString(),i,o]);var b=(0,t.useCallback)((function(e,n){if(n)return null;var r=v.dateIsInGroup(s(),n);return t.createElement("span",{className:h_("rbc-label",r&&"rbc-now")},a.format(e,"timeGutterFormat"))}),[v,a,s]);return t.createElement(h,{slotMetrics:v},t.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:d},v.groups.map((function(e,n){return t.createElement(kC,{key:n,group:e,resource:l,components:c,renderSlot:b,getters:u})}))))},FC=t.forwardRef((function(e,n){return t.createElement(LC,Object.assign({gutterRef:n},e))})),jC={};var UC=function(e){function n(e){var r;return XS(this,n),(r=r_(this,n,[e])).handleScroll=function(e){r.scrollRef.current&&(r.scrollRef.current.scrollLeft=e.target.scrollLeft)},r.handleResize=function(){Ax(r.rafHandle),r.rafHandle=Rx(r.checkOverflow)},r.handleKeyPressEvent=function(){r.clearSelection();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];AI(r.props.onKeyPressEvent,t)},r.handleSelectEvent=function(){r.clearSelection();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];AI(r.props.onSelectEvent,t)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];AI(r.props.onDoubleClickEvent,t)},r.handleShowMore=function(e,t,n,i,o){var a=r.props,s=a.popup,l=a.onDrillDown,c=a.onShowMore,u=a.getDrilldownView,d=a.doShowMoreDrillDown;if(r.clearSelection(),s){var h=Tx(n,r.containerRef.current);r.setState({overlay:{date:t,events:e,position:KS(KS({},h),{},{width:"200px"}),target:o}})}else d&&AI(l,[t,u(t)||oI.DAY]);AI(c,[e,t,i])},r.handleSelectAllDaySlot=function(e,t){var n=r.props.onSelectSlot,i=new Date(e[0]),o=new Date(e[e.length-1]);o.setDate(e[e.length-1].getDate()+1),AI(n,{slots:e,start:i,end:o,action:t.action,resourceId:t.resourceId})},r.overlayDisplay=function(){r.setState({overlay:null})},r.checkOverflow=function(){if(!r._updatingOverflow){var e=r.contentRef.current;if(null!==e&&void 0!==e&&e.scrollHeight){var t=e.scrollHeight>e.clientHeight;r.state.isOverflowing!==t&&(r._updatingOverflow=!0,r.setState({isOverflowing:t},(function(){r._updatingOverflow=!1})))}}},r.memoizedResources=jT((function(e,t){return function(e,t){return{map:function(n){return e?e.map((function(e,r){return n([t.resourceId(e),e],r)})):[n([jC,null],0)]},groupEvents:function(n){var r=new Map;return e?(n.forEach((function(e){var n=t.resource(e)||jC;if(Array.isArray(n))n.forEach((function(t){var n=r.get(t)||[];n.push(e),r.set(t,n)}));else{var i=r.get(n)||[];i.push(e),r.set(n,i)}})),r):(r.set(jC,n),r)}}}(e,t)})),r.state={gutterWidth:void 0,isOverflowing:null},r.scrollRef=t.createRef(),r.contentRef=t.createRef(),r.containerRef=t.createRef(),r._scrollRatio=null,r.gutterRef=(0,t.createRef)(),r}return o_(n,e),ZS(n,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){null==this.props.width&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),Ax(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(e,n,r,i,o,a,s,l,c,u){var d=this.props,h=d.min,f=d.max,p=(i.get(n)||[]).filter((function(t){return a.inRange(e,s.start(t),s.end(t),"day")})),m=(o.get(n)||[]).filter((function(t){return a.inRange(e,s.start(t),s.end(t),"day")}));return t.createElement(AC,Object.assign({},this.props,{localizer:a,min:a.merge(e,h),max:a.merge(e,f),resource:r&&n,components:l,isNow:a.isSameDate(e,u),key:"".concat(n,"-").concat(e),date:e,events:p,backgroundEvents:m,dayLayoutAlgorithm:c}))}},{key:"renderResourcesFirst",value:function(e,t,n,r,i,o,a,s,l){var c=this;return t.map((function(t){var u=u_(t,2),d=u[0],h=u[1];return e.map((function(e){return c.renderDayColumn(e,d,h,n,r,i,o,s,l,a)}))}))}},{key:"renderRangeFirst",value:function(e,n,r,i,o,a,s,l,c){var u=this;return e.map((function(e){return t.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:e},n.map((function(n){var d=u_(n,2),h=d[0],f=d[1];return t.createElement("div",{style:{flex:1},key:a.resourceId(f)},u.renderDayColumn(e,h,f,r,i,o,a,l,c,s))})))}))}},{key:"renderEvents",value:function(e,t,n,r){var i=this.props,o=i.accessors,a=i.localizer,s=i.resourceGroupingLayout,l=i.components,c=i.dayLayoutAlgorithm,u=this.memoizedResources(this.props.resources,o),d=u.groupEvents(t),h=u.groupEvents(n);return s?this.renderRangeFirst(e,u,d,h,a,o,r,l,c):this.renderResourcesFirst(e,u,d,h,a,o,r,l,c)}},{key:"render",value:function(){var e,n=this.props,r=n.events,i=n.backgroundEvents,o=n.range,a=n.width,s=n.rtl,l=n.selected,c=n.getNow,u=n.resources,d=n.components,h=n.accessors,f=n.getters,p=n.localizer,m=n.min,g=n.max,v=n.showMultiDayTimes,y=n.longPressThreshold,b=n.resizable,w=n.resourceGroupingLayout;a=a||this.state.gutterWidth;var E=o[0],S=o[o.length-1];this.slots=o.length;var _=[],x=[],k=[];r.forEach((function(e){if(iC(e,E,S,h,p)){var t=h.start(e),n=h.end(e);h.allDay(e)||p.startAndEndAreDateOnly(t,n)||!v&&!p.isSameDate(t,n)?_.push(e):x.push(e)}})),i.forEach((function(e){iC(e,E,S,h,p)&&k.push(e)})),_.sort((function(e,t){return aC(e,t,h,p)}));var T={range:o,events:_,width:a,rtl:s,getNow:c,localizer:p,selected:l,allDayMaxRows:this.props.showAllEvents?1/0:null!==(e=this.props.allDayMaxRows)&&void 0!==e?e:1/0,resources:this.memoizedResources(u,h),selectable:this.props.selectable,accessors:h,getters:f,components:d,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:y,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:b};return t.createElement("div",{className:h_("rbc-time-view",u&&"rbc-time-view-resources"),ref:this.containerRef},u&&u.length>1&&w?t.createElement(MC,T):t.createElement(PC,T),this.props.popup&&this.renderOverlay(),t.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},t.createElement(FC,{date:E,ref:this.gutterRef,localizer:p,min:p.merge(E,m),max:p.merge(E,g),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:d,className:"rbc-time-gutter",getters:f}),this.renderEvents(o,x,k,c())))}},{key:"renderOverlay",value:function(){var e,n,r=this,i=null!==(e=null===(n=this.state)||void 0===n?void 0:n.overlay)&&void 0!==e?e:{},o=this.props,a=o.accessors,s=o.localizer,l=o.components,c=o.getters,u=o.selected,d=o.popupOffset,h=o.handleDragStart;return t.createElement(zI,{overlay:i,accessors:a,localizer:s,components:l,getters:c,selected:u,popupOffset:d,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:h,show:!!i.position,overlayDisplay:this.overlayDisplay,onHide:function(){return r.setState({overlay:null})}})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var e=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame((function(){var t,n=null!==(t=e.gutterRef)&&void 0!==t&&t.current?UT(e.gutterRef.current):void 0;n&&e.state.gutterWidth!==n&&e.setState({gutterWidth:n})}))}},{key:"applyScroll",value:function(){if(null!=this._scrollRatio&&!0===this.props.enableAutoScroll){var e=this.contentRef.current;e.scrollTop=e.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=e.min,n=e.max,r=e.scrollToTime,i=e.localizer,o=i.diff(i.merge(r,t),r,"milliseconds"),a=i.diff(t,n,"milliseconds");this._scrollRatio=o/a}}])}(t.Component);UC.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var BC=["date","localizer","min","max","scrollToTime","enableAutoScroll"],VC=function(e){function n(){return XS(this,n),r_(this,n,arguments)}return o_(n,e),ZS(n,[{key:"render",value:function(){var e=this.props,r=e.date,i=e.localizer,o=e.min,a=void 0===o?i.startOf(new Date,"day"):o,s=e.max,l=void 0===s?i.endOf(new Date,"day"):s,c=e.scrollToTime,u=void 0===c?i.startOf(new Date,"day"):c,d=e.enableAutoScroll,h=void 0===d||d,f=QS(e,BC),p=n.range(r,{localizer:i});return t.createElement(UC,Object.assign({},f,{range:p,eventOffset:10,localizer:i,min:a,max:l,scrollToTime:u,enableAutoScroll:h}))}}])}(t.Component);VC.range=function(e,t){return[t.localizer.startOf(e,"day")]},VC.navigate=function(e,t,n){var r=n.localizer;switch(t){case tI:return r.add(e,-1,"day");case nI:return r.add(e,1,"day");default:return e}},VC.title=function(e,t){return t.localizer.format(e,"dayHeaderFormat")};var zC=["date","localizer","min","max","scrollToTime","enableAutoScroll"],$C=function(e){function n(){return XS(this,n),r_(this,n,arguments)}return o_(n,e),ZS(n,[{key:"render",value:function(){var e=this.props,r=e.date,i=e.localizer,o=e.min,a=void 0===o?i.startOf(new Date,"day"):o,s=e.max,l=void 0===s?i.endOf(new Date,"day"):s,c=e.scrollToTime,u=void 0===c?i.startOf(new Date,"day"):c,d=e.enableAutoScroll,h=void 0===d||d,f=QS(e,zC),p=n.range(r,this.props);return t.createElement(UC,Object.assign({},f,{range:p,eventOffset:15,localizer:i,min:a,max:l,scrollToTime:u,enableAutoScroll:h}))}}])}(t.Component);$C.defaultProps=UC.defaultProps,$C.navigate=function(e,t,n){var r=n.localizer;switch(t){case tI:return r.add(e,-1,"week");case nI:return r.add(e,1,"week");default:return e}},$C.range=function(e,t){var n=t.localizer,r=n.startOfWeek(),i=n.startOf(e,"week",r),o=n.endOf(e,"week",r);return n.range(i,o)},$C.title=function(e,t){var n=t.localizer,r=HT($C.range(e,{localizer:n})),i=r[0],o=r.slice(1);return n.format({start:i,end:o.pop()},"dayRangeHeaderFormat")};var HC=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function WC(e,t){return $C.range(e,t).filter((function(e){return-1===[6,0].indexOf(e.getDay())}))}var qC=function(e){function n(){return XS(this,n),r_(this,n,arguments)}return o_(n,e),ZS(n,[{key:"render",value:function(){var e=this.props,n=e.date,r=e.localizer,i=e.min,o=void 0===i?r.startOf(new Date,"day"):i,a=e.max,s=void 0===a?r.endOf(new Date,"day"):a,l=e.scrollToTime,c=void 0===l?r.startOf(new Date,"day"):l,u=e.enableAutoScroll,d=void 0===u||u,h=QS(e,HC),f=WC(n,this.props);return t.createElement(UC,Object.assign({},h,{range:f,eventOffset:15,localizer:r,min:o,max:s,scrollToTime:c,enableAutoScroll:d}))}}])}(t.Component);qC.defaultProps=UC.defaultProps,qC.range=WC,qC.navigate=$C.navigate,qC.title=function(e,t){var n=t.localizer,r=HT(WC(e,{localizer:n})),i=r[0],o=r.slice(1);return n.format({start:i,end:o.pop()},"dayRangeHeaderFormat")};function GC(e){var n=e.accessors,r=e.components,i=e.date,o=e.events,a=e.getters,s=e.length,l=void 0===s?30:s,c=e.localizer,u=e.onDoubleClickEvent,d=e.onSelectEvent,h=e.selected,f=(0,t.useRef)(null),p=(0,t.useRef)(null),m=(0,t.useRef)(null),g=(0,t.useRef)(null),v=(0,t.useRef)(null);(0,t.useEffect)((function(){b()}));var y=function(e,i){var o="",a=r.time,s=c.messages.allDay,l=n.end(i),u=n.start(i);return n.allDay(i)||(c.eq(u,l)?s=c.format(u,"agendaTimeFormat"):c.isSameDate(u,l)?s=c.format({start:u,end:l},"agendaTimeRangeFormat"):c.isSameDate(e,u)?s=c.format(u,"agendaTimeFormat"):c.isSameDate(e,l)&&(s=c.format(l,"agendaTimeFormat"))),c.gt(e,u,"day")&&(o="rbc-continues-prior"),c.lt(e,l,"day")&&(o+=" rbc-continues-after"),t.createElement("span",{className:o.trim()},a?t.createElement(a,{event:i,day:e,label:s}):s)},b=function(){if(v.current){var e=f.current,t=v.current.firstChild;if(t){var n,r,i=g.current.scrollHeight>g.current.clientHeight,o=[],a=o;o=[UT(t.children[0]),UT(t.children[1])],a[0]===o[0]&&a[1]===o[1]||(p.current.style.width=o[0]+"px",m.current.style.width=o[1]+"px"),i?(r="rbc-header-overflowing",(n=e).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"===typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)),e.style.marginRight=$T()+"px"):function(e,t){e.classList?e.classList.remove(t):"string"===typeof e.className?e.className=WT(e.className,t):e.setAttribute("class",WT(e.className&&e.className.baseVal||"",t))}(e,"rbc-header-overflowing")}}},w=c.messages,E=c.add(i,l,"day"),S=c.range(i,E,"day");return(o=o.filter((function(e){return iC(e,c.startOf(i,"day"),c.endOf(E,"day"),n,c)}))).sort((function(e,t){return+n.start(e)-+n.start(t)})),t.createElement("div",{className:"rbc-agenda-view"},0!==o.length?t.createElement(t.Fragment,null,t.createElement("table",{ref:f,className:"rbc-agenda-table"},t.createElement("thead",null,t.createElement("tr",null,t.createElement("th",{className:"rbc-header",ref:p},w.date),t.createElement("th",{className:"rbc-header",ref:m},w.time),t.createElement("th",{className:"rbc-header"},w.event)))),t.createElement("div",{className:"rbc-agenda-content",ref:g},t.createElement("table",{className:"rbc-agenda-table"},t.createElement("tbody",{ref:v},S.map((function(e,i){return function(e,i,o){var s=r.event,l=r.date;return(i=i.filter((function(t){return iC(t,c.startOf(e,"day"),c.endOf(e,"day"),n,c)}))).map((function(r,f){var p=n.title(r),m=n.end(r),g=n.start(r),v=a.eventProp(r,g,m,LI(r,h)),b=0===f&&c.format(e,"agendaDateFormat"),w=0===f&&t.createElement("td",{rowSpan:i.length,className:"rbc-agenda-date-cell"},l?t.createElement(l,{day:e,label:b}):b);return t.createElement("tr",{key:o+"_"+f,className:v.className,style:v.style},w,t.createElement("td",{className:"rbc-agenda-time-cell"},y(e,r)),t.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(e){return d&&d(r,e)},onDoubleClick:function(e){return u&&u(r,e)}},s?t.createElement(s,{event:r,title:p}):p))}),[])}(e,o,i)})))))):t.createElement("span",{className:"rbc-agenda-empty"},w.noEventsInRange))}GC.range=function(e,t){var n=t.length,r=void 0===n?30:n;return{start:e,end:t.localizer.add(e,r,"day")}},GC.navigate=function(e,t,n){var r=n.length,i=void 0===r?30:r,o=n.localizer;switch(t){case tI:return o.add(e,-i,"day");case nI:return o.add(e,i,"day");default:return e}},GC.title=function(e,t){var n=t.length,r=void 0===n?30:n,i=t.localizer,o=i.add(e,r,"day");return i.format({start:e,end:o},"agendaHeaderFormat")};var KC=qS(qS(qS(qS(qS({},oI.MONTH,vC),oI.WEEK,$C),oI.WORK_WEEK,qC),oI.DAY,VC),oI.AGENDA,GC),YC=["action","date","today"];var QC=function(e){return function(t){return function(e,t){var n=null;return"function"===typeof t?n=t(e):"string"===typeof t&&"object"===HS(e)&&null!=e&&t in e&&(n=e[t]),n}(t,e)}},XC=["view","date","getNow","onNavigate"],JC=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function ZC(e){if(Array.isArray(e))return e;for(var t=[],n=0,r=Object.entries(e);n<r.length;n++){var i=u_(r[n],2),o=i[0];i[1]&&t.push(o)}return t}var eD=function(e){function n(){var e;XS(this,n);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return(e=r_(this,n,[].concat(r))).getViews=function(){var t=e.props.views;return Array.isArray(t)?ZT()(t,(function(e,t){return e[t]=KC[t]}),{}):"object"===HS(t)?YT()(t,(function(e,t){return!0===e?KC[t]:e})):KC},e.getView=function(){return e.getViews()[e.props.view]},e.getDrilldownView=function(t){var n=e.props,r=n.view,i=n.drilldownView,o=n.getDrilldownView;return o?o(t,r,Object.keys(e.getViews())):i},e.handleRangeChange=function(t,n,r){var i=e.props,o=i.onRangeChange,a=i.localizer;o&&n.range&&o(n.range(t,{localizer:a}),r)},e.handleNavigate=function(t,n){var r=e.props,i=r.view,o=r.date,a=r.getNow,s=r.onNavigate,l=QS(r,XC),c=e.getView(),u=a();o=function(e,t){var n=t.action,r=t.date,i=t.today,o=QS(t,YC);switch(e="string"===typeof e?KC[e]:e,n){case rI:r=i||new Date;break;case iI:break;default:p_()(e&&"function"===typeof e.navigate,"Calendar View components must implement a static `.navigate(date, action)` method.s"),r=e.navigate(r,n,o)}return r}(c,KS(KS({},l),{},{action:t,date:n||o||u,today:u})),s(o,i,t),e.handleRangeChange(o,c)},e.handleViewChange=function(t){t!==e.props.view&&function(e,t){return-1!==ZC(t.views).indexOf(e)}(t,e.props)&&e.props.onView(t);var n=e.getViews();e.handleRangeChange(e.props.date||e.props.getNow(),n[t],t)},e.handleSelectEvent=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];AI(e.props.onSelectEvent,n)},e.handleDoubleClickEvent=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];AI(e.props.onDoubleClickEvent,n)},e.handleKeyPressEvent=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];AI(e.props.onKeyPressEvent,n)},e.handleSelectSlot=function(t){AI(e.props.onSelectSlot,t)},e.handleDrillDown=function(t,n){var r=e.props.onDrillDown;r?r(t,n,e.drilldownView):(n&&e.handleViewChange(n),e.handleNavigate(iI,t))},e.state={context:n.getContext(e.props)},e}return o_(n,e),ZS(n,[{key:"render",value:function(){var e=this.props,n=e.view,r=e.toolbar,i=e.events,o=e.backgroundEvents,a=e.resourceGroupingLayout,s=e.style,l=e.className,c=e.elementProps,u=e.date,d=e.getNow,h=e.length,f=e.showMultiDayTimes,p=e.onShowMore,m=e.doShowMoreDrillDown;e.components,e.formats,e.messages,e.culture;var g=QS(e,JC);u=u||d();var v=this.getView(),y=this.state.context,b=y.accessors,w=y.components,E=y.getters,S=y.localizer,_=y.viewNames,x=w.toolbar||OI,k=v.title(u,{localizer:S,length:h});return t.createElement("div",Object.assign({},c,{className:h_(l,"rbc-calendar",g.rtl&&"rbc-rtl"),style:s}),r&&t.createElement(x,{date:u,view:n,views:_,label:k,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:S}),t.createElement(v,Object.assign({},g,{events:i,backgroundEvents:o,date:u,getNow:d,length:h,localizer:S,getters:E,components:w,accessors:b,showMultiDayTimes:f,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:p,doShowMoreDrillDown:m,resourceGroupingLayout:a})))}}],[{key:"getDerivedStateFromProps",value:function(e){return{context:n.getContext(e)}}},{key:"getContext",value:function(e){var t=e.startAccessor,n=e.endAccessor,r=e.allDayAccessor,i=e.tooltipAccessor,o=e.titleAccessor,a=e.resourceAccessor,s=e.resourceIdAccessor,l=e.resourceTitleAccessor,c=e.eventIdAccessor,u=e.eventPropGetter,d=e.backgroundEventPropGetter,h=e.slotPropGetter,f=e.slotGroupPropGetter,p=e.dayPropGetter,m=e.view,g=e.views,v=e.localizer,y=e.culture,b=e.messages,w=void 0===b?{}:b,E=e.components,S=void 0===E?{}:E,_=e.formats,x=void 0===_?{}:_,k=ZC(g);return{viewNames:k,localizer:NI(v,y,x,function(e){return KS(KS({},RI),e)}(w)),getters:{eventProp:function(){return u&&u.apply(void 0,arguments)||{}},backgroundEventProp:function(){return d&&d.apply(void 0,arguments)||{}},slotProp:function(){return h&&h.apply(void 0,arguments)||{}},slotGroupProp:function(){return f&&f.apply(void 0,arguments)||{}},dayProp:function(){return p&&p.apply(void 0,arguments)||{}}},components:GT()(S[m]||{},XT()(S,k),{eventWrapper:eI,backgroundEventWrapper:eI,eventContainerWrapper:eI,dateCellWrapper:eI,weekWrapper:eI,timeSlotWrapper:eI,timeGutterWrapper:eI}),accessors:{start:QC(t),end:QC(n),allDay:QC(r),tooltip:QC(i),title:QC(o),resource:QC(a),resourceId:QC(s),resourceTitle:QC(l),eventId:QC(c)}}}}])}(t.Component);eD.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:oI.MONTH,views:[oI.MONTH,oI.WEEK,oI.DAY,oI.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:oI.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var tD=function e(n,r,i){void 0===i&&(i=[]);var o,a=n.displayName||n.name||"Component",s=!!(o=n)&&("function"!==typeof o||o.prototype&&o.prototype.isReactComponent),l=Object.keys(r),c=l.map(v_);!s&&i.length&&p_()(!1);var u=function(e){var o,a;function s(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];(t=e.call.apply(e,[this].concat(o))||this).handlers=Object.create(null),l.forEach((function(e){var n=r[e];t.handlers[n]=function(r){if(t.props[n]){var i;t._notifying=!0;for(var o=arguments.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];(i=t.props)[n].apply(i,[r].concat(a)),t._notifying=!1}t.unmounted||t.setState((function(t){var n,i=t.values;return{values:Xv(Object.create(null),i,(n={},n[e]=r,n))}}))}})),i.length&&(t.attachRef=function(e){t.inner=e});var s=Object.create(null);return l.forEach((function(e){s[e]=t.props[v_(e)]})),t.state={values:s,prevProps:{}},t}a=e,(o=s).prototype=Object.create(a.prototype),o.prototype.constructor=o,i_(o,a);var u=s.prototype;return u.shouldComponentUpdate=function(){return!this._notifying},s.getDerivedStateFromProps=function(e,t){var n=t.values,r=t.prevProps,i={values:Xv(Object.create(null),n),prevProps:{}};return l.forEach((function(t){i.prevProps[t]=e[t],!g_(e,t)&&g_(r,t)&&(i.values[t]=e[v_(t)])})),i},u.componentWillUnmount=function(){this.unmounted=!0},u.render=function(){var e=this,r=this.props,i=r.innerRef,o=YS(r,["innerRef"]);c.forEach((function(e){delete o[e]}));var a={};return l.forEach((function(t){var n=e.props[t];a[t]=void 0!==n?n:e.state.values[t]})),t.createElement(n,Xv({},o,a,this.handlers,{ref:i||this.attachRef}))},s}(t.Component);!function(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var n=null,r=null,i=null;if("function"===typeof t.componentWillMount?n="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?r="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(r="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?i="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(i="UNSAFE_componentWillUpdate"),null!==n||null!==r||null!==i){var o=e.displayName||e.name,a="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+o+" uses "+a+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==r?"\n  "+r:"")+(null!==i?"\n  "+i:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=y_,t.componentWillReceiveProps=b_),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=w_;var s=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;s.call(this,e,t,r)}}}(u),u.displayName="Uncontrolled("+a+")",u.propTypes=Xv({innerRef:function(){}},function(e){var t={};return Object.keys(e).forEach((function(e){t[v_(e)]=m_})),t}(r)),i.forEach((function(e){u.prototype[e]=function(){var t;return(t=this.inner)[e].apply(t,arguments)}}));var d=u;return t.forwardRef&&((d=t.forwardRef((function(e,n){return t.createElement(u,Xv({},e,{innerRef:n,__source:{fileName:"/Users/jquense/src/uncontrollable/src/uncontrollable.js",lineNumber:128},__self:this}))}))).propTypes=u.propTypes),d.ControlledComponent=n,d.deferControlTo=function(t,n,i){return void 0===n&&(n={}),e(t,Xv({},r,n),i)},d}(eD,{view:"onView",date:"onNavigate",selected:"onSelectEvent"});var nD=function(e,t,n){var r=e.start,i=e.end;return"".concat(n.format(r,"p",t)," \u2013 ").concat(n.format(i,"p",t))},rD={dateFormat:"dd",dayFormat:"dd eee",weekdayFormat:"ccc",selectRangeFormat:nD,eventTimeRangeFormat:nD,eventTimeRangeStartFormat:function(e,t,n){var r=e.start;return"".concat(n.format(r,"h:mma",t)," \u2013 ")},eventTimeRangeEndFormat:function(e,t,n){var r=e.end;return" \u2013 ".concat(n.format(r,"h:mma",t))},timeGutterFormat:"p",monthHeaderFormat:"MMMM yyyy",dayHeaderFormat:"cccc MMM dd",dayRangeHeaderFormat:function(e,t,n){var r=e.start,i=e.end;return"".concat(n.format(r,"MMMM dd",t)," \u2013 ").concat(n.format(i,B_(r,i,"month")?"dd":"MMMM dd",t))},agendaHeaderFormat:function(e,t,n){var r=e.start,i=e.end;return"".concat(n.format(r,"P",t)," \u2013 ").concat(n.format(i,"P",t))},agendaDateFormat:"ccc MMM dd",agendaTimeFormat:"p",agendaTimeRangeFormat:nD};const iD={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function oD(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const aD={date:oD({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:oD({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:oD({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},sD={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function lD(e){return(t,n)=>{let r;if("formatting"===(n?.context?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,i=n?.width?String(n.width):t;r=e.formattingValues[i]||e.formattingValues[t]}else{const t=e.defaultWidth,i=n?.width?String(n.width):e.defaultWidth;r=e.values[i]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}const cD={ordinalNumber:(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:lD({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:lD({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:lD({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:lD({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:lD({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function uD(e){return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;const a=o[0],s=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(s)?function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n;return}(s,(e=>e.test(a))):function(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n;return}(s,(e=>e.test(a)));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;return{value:c,rest:t.slice(a.length)}}}const dD={ordinalNumber:(hD={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.match(hD.matchPattern);if(!n)return null;const r=n[0],i=e.match(hD.parsePattern);if(!i)return null;let o=hD.valueCallback?hD.valueCallback(i[0]):i[0];return o=t.valueCallback?t.valueCallback(o):o,{value:o,rest:e.slice(r.length)}}),era:uD({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:uD({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:uD({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:uD({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:uD({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};var hD;const fD={code:"en-US",formatDistance:(e,t,n)=>{let r;const i=iD[e];return r="string"===typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatLong:aD,formatRelative:(e,t,n,r)=>sD[e],localize:cD,match:dD,options:{weekStartsOn:0,firstWeekContainsDate:1}};let pD={};function mD(){return pD}Math.pow(10,8);const gD=6048e5,vD=Symbol.for("constructDateFrom");function yD(e,t){return"function"===typeof e?e(t):e&&"object"===typeof e&&vD in e?e[vD](t):e instanceof Date?new e.constructor(t):new Date(t)}function bD(e,t){return yD(t||e,e)}function wD(e){const t=bD(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function ED(e,t){const n=bD(e,t?.in);return n.setHours(0,0,0,0),n}function SD(e,t,n){const[r,i]=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=yD.bind(null,e||n.find((e=>"object"===typeof e)));return n.map(i)}(n?.in,e,t),o=ED(r),a=ED(i),s=+o-wD(o),l=+a-wD(a);return Math.round((s-l)/864e5)}function _D(e,t){const n=bD(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function xD(e,t){const n=bD(e,t?.in);return SD(n,_D(n))+1}function kD(e,t){const n=mD(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=bD(e,t?.in),o=i.getDay(),a=(o<r?7:0)+o-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function TD(e,t){return kD(e,{...t,weekStartsOn:1})}function ID(e,t){const n=bD(e,t?.in),r=n.getFullYear(),i=yD(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const o=TD(i),a=yD(n,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const s=TD(a);return n.getTime()>=o.getTime()?r+1:n.getTime()>=s.getTime()?r:r-1}function CD(e,t){const n=ID(e,t),r=yD(t?.in||e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),TD(r)}function DD(e,t){const n=bD(e,t?.in),r=+TD(n)-+CD(n);return Math.round(r/gD)+1}function ND(e,t){const n=bD(e,t?.in),r=n.getFullYear(),i=mD(),o=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,a=yD(t?.in||e,0);a.setFullYear(r+1,0,o),a.setHours(0,0,0,0);const s=kD(a,t),l=yD(t?.in||e,0);l.setFullYear(r,0,o),l.setHours(0,0,0,0);const c=kD(l,t);return+n>=+s?r+1:+n>=+c?r:r-1}function OD(e,t){const n=mD(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=ND(e,t),o=yD(t?.in||e,0);o.setFullYear(i,0,r),o.setHours(0,0,0,0);return kD(o,t)}function AD(e,t){const n=bD(e,t?.in),r=+kD(n,t)-+OD(n,t);return Math.round(r/gD)+1}function RD(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const PD={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return RD("yy"===t?r%100:r,t.length)},M(e,t){const n=e.getMonth();return"M"===t?String(n+1):RD(n+1,2)},d:(e,t)=>RD(e.getDate(),t.length),a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>RD(e.getHours()%12||12,t.length),H:(e,t)=>RD(e.getHours(),t.length),m:(e,t)=>RD(e.getMinutes(),t.length),s:(e,t)=>RD(e.getSeconds(),t.length),S(e,t){const n=t.length,r=e.getMilliseconds();return RD(Math.trunc(r*Math.pow(10,n-3)),t.length)}},MD="midnight",LD="noon",FD="morning",jD="afternoon",UD="evening",BD="night",VD={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){const t=e.getFullYear(),r=t>0?t:1-t;return n.ordinalNumber(r,{unit:"year"})}return PD.y(e,t)},Y:function(e,t,n,r){const i=ND(e,r),o=i>0?i:1-i;if("YY"===t){return RD(o%100,2)}return"Yo"===t?n.ordinalNumber(o,{unit:"year"}):RD(o,t.length)},R:function(e,t){return RD(ID(e),t.length)},u:function(e,t){return RD(e.getFullYear(),t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return RD(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return RD(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return PD.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return RD(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=AD(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):RD(i,t.length)},I:function(e,t,n){const r=DD(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):RD(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):PD.d(e,t)},D:function(e,t,n){const r=xD(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):RD(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return RD(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return RD(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return RD(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(i=12===r?LD:0===r?MD:r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(i=r>=17?UD:r>=12?jD:r>=4?FD:BD,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return PD.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):PD.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):RD(r,t.length)},k:function(e,t,n){let r=e.getHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):RD(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):PD.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):PD.s(e,t)},S:function(e,t){return PD.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return $D(r);case"XXXX":case"XX":return HD(r);default:return HD(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return $D(r);case"xxxx":case"xx":return HD(r);default:return HD(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+zD(r,":");default:return"GMT"+HD(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+zD(r,":");default:return"GMT"+HD(r,":")}},t:function(e,t,n){return RD(Math.trunc(+e/1e3),t.length)},T:function(e,t,n){return RD(+e,t.length)}};function zD(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),o=r%60;return 0===o?n+String(i):n+String(i)+t+RD(o,2)}function $D(e,t){if(e%60===0){return(e>0?"-":"+")+RD(Math.abs(e)/60,2)}return HD(e,t)}function HD(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e);return n+RD(Math.trunc(r/60),2)+t+RD(r%60,2)}const WD=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},qD=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},GD={p:qD,P:(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return WD(e,t);let o;switch(r){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;default:o=t.dateTime({width:"full"})}return o.replace("{{date}}",WD(r,t)).replace("{{time}}",qD(i,t))}},KD=/^D+$/,YD=/^Y+$/,QD=["D","DD","YY","YYYY"];function XD(e){return KD.test(e)}function JD(e){return YD.test(e)}function ZD(e,t,n){const r=function(e,t,n){const r="Y"===e[0]?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(e,t,n);if(console.warn(r),QD.includes(e))throw new RangeError(r)}function eN(e){return e instanceof Date||"object"===typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function tN(e){return!(!eN(e)&&"number"!==typeof e||isNaN(+bD(e)))}const nN=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,rN=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,iN=/^'([^]*?)'?$/,oN=/''/g,aN=/[a-zA-Z]/;function sN(e,t,n){const r=mD(),i=n?.locale??r.locale??fD,o=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=bD(e,n?.in);if(!tN(s))throw new RangeError("Invalid time value");let l=t.match(rN).map((e=>{const t=e[0];if("p"===t||"P"===t){return(0,GD[t])(e,i.formatLong)}return e})).join("").match(nN).map((e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:lN(e)};if(VD[t])return{isToken:!0,value:e};if(t.match(aN))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}}));i.localize.preprocessor&&(l=i.localize.preprocessor(s,l));const c={firstWeekContainsDate:o,weekStartsOn:a,locale:i};return l.map((r=>{if(!r.isToken)return r.value;const o=r.value;(!n?.useAdditionalWeekYearTokens&&JD(o)||!n?.useAdditionalDayOfYearTokens&&XD(o))&&ZD(o,t,String(e));return(0,VD[o[0]])(s,o,i.localize,c)})).join("")}function lN(e){const t=e.match(iN);return t?t[1].replace(oN,"'"):e}function cN(){return Object.assign({},mD())}function uN(e,t){const n=function(e){return"function"===typeof e&&e.prototype?.constructor===e}(t)?new t(0):yD(t,0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}class dN{subPriority=0;validate(e,t){return!0}}class hN extends dN{constructor(e,t,n,r,i){super(),this.value=e,this.validateValue=t,this.setValue=n,this.priority=r,i&&(this.subPriority=i)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,n){return this.setValue(e,t,this.value,n)}}class fN extends dN{priority=10;subPriority=-1;constructor(e,t){super(),this.context=e||(e=>yD(t,e))}set(e,t){return t.timestampIsSet?e:yD(e,uN(e,this.context))}}class pN{run(e,t,n,r){const i=this.parse(e,t,n,r);return i?{setter:new hN(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(e,t,n){return!0}}const mN=/^(1[0-2]|0?\d)/,gN=/^(3[0-1]|[0-2]?\d)/,vN=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,yN=/^(5[0-3]|[0-4]?\d)/,bN=/^(2[0-3]|[0-1]?\d)/,wN=/^(2[0-4]|[0-1]?\d)/,EN=/^(1[0-1]|0?\d)/,SN=/^(1[0-2]|0?\d)/,_N=/^[0-5]?\d/,xN=/^[0-5]?\d/,kN=/^\d/,TN=/^\d{1,2}/,IN=/^\d{1,3}/,CN=/^\d{1,4}/,DN=/^-?\d+/,NN=/^-?\d/,ON=/^-?\d{1,2}/,AN=/^-?\d{1,3}/,RN=/^-?\d{1,4}/,PN=/^([+-])(\d{2})(\d{2})?|Z/,MN=/^([+-])(\d{2})(\d{2})|Z/,LN=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,FN=/^([+-])(\d{2}):(\d{2})|Z/,jN=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function UN(e,t){return e?{value:t(e.value),rest:e.rest}:e}function BN(e,t){const n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function VN(e,t){const n=t.match(e);if(!n)return null;if("Z"===n[0])return{value:0,rest:t.slice(1)};return{value:("+"===n[1]?1:-1)*(36e5*(n[2]?parseInt(n[2],10):0)+6e4*(n[3]?parseInt(n[3],10):0)+1e3*(n[5]?parseInt(n[5],10):0)),rest:t.slice(n[0].length)}}function zN(e){return BN(DN,e)}function $N(e,t){switch(e){case 1:return BN(kN,t);case 2:return BN(TN,t);case 3:return BN(IN,t);case 4:return BN(CN,t);default:return BN(new RegExp("^\\d{1,"+e+"}"),t)}}function HN(e,t){switch(e){case 1:return BN(NN,t);case 2:return BN(ON,t);case 3:return BN(AN,t);case 4:return BN(RN,t);default:return BN(new RegExp("^-?\\d{1,"+e+"}"),t)}}function WN(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function qN(e,t){const n=t>0,r=n?t:1-t;let i;if(r<=50)i=e||100;else{const t=r+50;i=e+100*Math.trunc(t/100)-(e>=t%100?100:0)}return n?i:1-i}function GN(e){return e%400===0||e%4===0&&e%100!==0}function KN(e,t,n){const r=bD(e,n?.in),i=AD(r,n)-t;return r.setDate(r.getDate()-7*i),bD(r,n?.in)}function YN(e,t,n){const r=bD(e,n?.in),i=DD(r,n)-t;return r.setDate(r.getDate()-7*i),r}const QN=[31,28,31,30,31,30,31,31,30,31,30,31],XN=[31,29,31,30,31,30,31,31,30,31,30,31];function JN(e,t,n){const r=bD(e,n?.in);return isNaN(t)?yD(n?.in||e,NaN):t?(r.setDate(r.getDate()+t),r):r}function ZN(e,t,n){const r=mD(),i=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,o=bD(e,n?.in),a=o.getDay(),s=7-i;return JN(o,t<0||t>6?t-(a+s)%7:((t%7+7)%7+s)%7-(a+s)%7,n)}function eO(e,t){const n=bD(e,t?.in).getDay();return 0===n?7:n}function tO(e,t,n){const r=bD(e,n?.in);return JN(r,t-eO(r,n),n)}const nO={G:new class extends pN{priority=140;parse(e,t,n){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}}set(e,t,n){return t.era=n,e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["R","u","t","T"]},y:new class extends pN{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(e,t,n){const r=e=>({year:e,isTwoDigitYear:"yy"===t});switch(t){case"y":return UN($N(4,e),r);case"yo":return UN(n.ordinalNumber(e,{unit:"year"}),r);default:return UN($N(t.length,e),r)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n){const r=e.getFullYear();if(n.isTwoDigitYear){const t=qN(n.year,r);return e.setFullYear(t,0,1),e.setHours(0,0,0,0),e}const i="era"in t&&1!==t.era?1-n.year:n.year;return e.setFullYear(i,0,1),e.setHours(0,0,0,0),e}},Y:new class extends pN{priority=130;parse(e,t,n){const r=e=>({year:e,isTwoDigitYear:"YY"===t});switch(t){case"Y":return UN($N(4,e),r);case"Yo":return UN(n.ordinalNumber(e,{unit:"year"}),r);default:return UN($N(t.length,e),r)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n,r){const i=ND(e,r);if(n.isTwoDigitYear){const t=qN(n.year,i);return e.setFullYear(t,0,r.firstWeekContainsDate),e.setHours(0,0,0,0),kD(e,r)}const o="era"in t&&1!==t.era?1-n.year:n.year;return e.setFullYear(o,0,r.firstWeekContainsDate),e.setHours(0,0,0,0),kD(e,r)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]},R:new class extends pN{priority=130;parse(e,t){return HN("R"===t?4:t.length,e)}set(e,t,n){const r=yD(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),TD(r)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]},u:new class extends pN{priority=130;parse(e,t){return HN("u"===t?4:t.length,e)}set(e,t,n){return e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]},Q:new class extends pN{priority=120;parse(e,t,n){switch(t){case"Q":case"QQ":return $N(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth(3*(n-1),1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]},q:new class extends pN{priority=120;parse(e,t,n){switch(t){case"q":case"qq":return $N(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth(3*(n-1),1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]},M:new class extends pN{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(e,t,n){const r=e=>e-1;switch(t){case"M":return UN(BN(mN,e),r);case"MM":return UN($N(2,e),r);case"Mo":return UN(n.ordinalNumber(e,{unit:"month"}),r);case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}},L:new class extends pN{priority=110;parse(e,t,n){const r=e=>e-1;switch(t){case"L":return UN(BN(mN,e),r);case"LL":return UN($N(2,e),r);case"Lo":return UN(n.ordinalNumber(e,{unit:"month"}),r);case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]},w:new class extends pN{priority=100;parse(e,t,n){switch(t){case"w":return BN(yN,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return $N(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n,r){return kD(KN(e,n,r),r)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]},I:new class extends pN{priority=100;parse(e,t,n){switch(t){case"I":return BN(yN,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return $N(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n){return TD(YN(e,n))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]},d:new class extends pN{priority=90;subPriority=1;parse(e,t,n){switch(t){case"d":return BN(gN,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return $N(t.length,e)}}validate(e,t){const n=GN(e.getFullYear()),r=e.getMonth();return n?t>=1&&t<=XN[r]:t>=1&&t<=QN[r]}set(e,t,n){return e.setDate(n),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]},D:new class extends pN{priority=90;subpriority=1;parse(e,t,n){switch(t){case"D":case"DD":return BN(vN,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return $N(t.length,e)}}validate(e,t){return GN(e.getFullYear())?t>=1&&t<=366:t>=1&&t<=365}set(e,t,n){return e.setMonth(0,n),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]},E:new class extends pN{priority=90;parse(e,t,n){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=ZN(e,n,r)).setHours(0,0,0,0),e}incompatibleTokens=["D","i","e","c","t","T"]},e:new class extends pN{priority=90;parse(e,t,n,r){const i=e=>{const t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return UN($N(t.length,e),i);case"eo":return UN(n.ordinalNumber(e,{unit:"day"}),i);case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=ZN(e,n,r)).setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]},c:new class extends pN{priority=90;parse(e,t,n,r){const i=e=>{const t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return UN($N(t.length,e),i);case"co":return UN(n.ordinalNumber(e,{unit:"day"}),i);case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=ZN(e,n,r)).setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]},i:new class extends pN{priority=90;parse(e,t,n){const r=e=>0===e?7:e;switch(t){case"i":case"ii":return $N(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return UN(n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiii":return UN(n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiiii":return UN(n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);default:return UN(n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r)}}validate(e,t){return t>=1&&t<=7}set(e,t,n){return(e=tO(e,n)).setHours(0,0,0,0),e}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]},a:new class extends pN{priority=80;parse(e,t,n){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(WN(n),0,0,0),e}incompatibleTokens=["b","B","H","k","t","T"]},b:new class extends pN{priority=80;parse(e,t,n){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(WN(n),0,0,0),e}incompatibleTokens=["a","B","H","k","t","T"]},B:new class extends pN{priority=80;parse(e,t,n){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(WN(n),0,0,0),e}incompatibleTokens=["a","b","t","T"]},h:new class extends pN{priority=70;parse(e,t,n){switch(t){case"h":return BN(SN,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return $N(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,n){const r=e.getHours()>=12;return r&&n<12?e.setHours(n+12,0,0,0):r||12!==n?e.setHours(n,0,0,0):e.setHours(0,0,0,0),e}incompatibleTokens=["H","K","k","t","T"]},H:new class extends pN{priority=70;parse(e,t,n){switch(t){case"H":return BN(bN,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return $N(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,n){return e.setHours(n,0,0,0),e}incompatibleTokens=["a","b","h","K","k","t","T"]},K:new class extends pN{priority=70;parse(e,t,n){switch(t){case"K":return BN(EN,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return $N(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.getHours()>=12&&n<12?e.setHours(n+12,0,0,0):e.setHours(n,0,0,0),e}incompatibleTokens=["h","H","k","t","T"]},k:new class extends pN{priority=70;parse(e,t,n){switch(t){case"k":return BN(wN,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return $N(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,n){const r=n<=24?n%24:n;return e.setHours(r,0,0,0),e}incompatibleTokens=["a","b","h","H","K","t","T"]},m:new class extends pN{priority=60;parse(e,t,n){switch(t){case"m":return BN(_N,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return $N(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setMinutes(n,0,0),e}incompatibleTokens=["t","T"]},s:new class extends pN{priority=50;parse(e,t,n){switch(t){case"s":return BN(xN,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return $N(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setSeconds(n,0),e}incompatibleTokens=["t","T"]},S:new class extends pN{priority=30;parse(e,t){return UN($N(t.length,e),(e=>Math.trunc(e*Math.pow(10,3-t.length))))}set(e,t,n){return e.setMilliseconds(n),e}incompatibleTokens=["t","T"]},X:new class extends pN{priority=10;parse(e,t){switch(t){case"X":return VN(PN,e);case"XX":return VN(MN,e);case"XXXX":return VN(LN,e);case"XXXXX":return VN(jN,e);default:return VN(FN,e)}}set(e,t,n){return t.timestampIsSet?e:yD(e,e.getTime()-wD(e)-n)}incompatibleTokens=["t","T","x"]},x:new class extends pN{priority=10;parse(e,t){switch(t){case"x":return VN(PN,e);case"xx":return VN(MN,e);case"xxxx":return VN(LN,e);case"xxxxx":return VN(jN,e);default:return VN(FN,e)}}set(e,t,n){return t.timestampIsSet?e:yD(e,e.getTime()-wD(e)-n)}incompatibleTokens=["t","T","X"]},t:new class extends pN{priority=40;parse(e){return zN(e)}set(e,t,n){return[yD(e,1e3*n),{timestampIsSet:!0}]}incompatibleTokens="*"},T:new class extends pN{priority=20;parse(e){return zN(e)}set(e,t,n){return[yD(e,n),{timestampIsSet:!0}]}incompatibleTokens="*"}},rO=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,iO=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,oO=/^'([^]*?)'?$/,aO=/''/g,sO=/\S/,lO=/[a-zA-Z]/;function cO(e,t,n,r){const i=()=>yD(r?.in||n,NaN),o=cN(),a=r?.locale??o.locale??fD,s=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,l=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??o.weekStartsOn??o.locale?.options?.weekStartsOn??0;if(!t)return e?i():bD(n,r?.in);const c={firstWeekContainsDate:s,weekStartsOn:l,locale:a},u=[new fN(r?.in,n)],d=t.match(iO).map((e=>{const t=e[0];if(t in GD){return(0,GD[t])(e,a.formatLong)}return e})).join("").match(rO),h=[];for(let g of d){!r?.useAdditionalWeekYearTokens&&JD(g)&&ZD(g,t,e),!r?.useAdditionalDayOfYearTokens&&XD(g)&&ZD(g,t,e);const n=g[0],o=nO[n];if(o){const{incompatibleTokens:t}=o;if(Array.isArray(t)){const e=h.find((e=>t.includes(e.token)||e.token===n));if(e)throw new RangeError(`The format string mustn't contain \`${e.fullToken}\` and \`${g}\` at the same time`)}else if("*"===o.incompatibleTokens&&h.length>0)throw new RangeError(`The format string mustn't contain \`${g}\` and any other token at the same time`);h.push({token:n,fullToken:g});const r=o.run(e,g,a.match,c);if(!r)return i();u.push(r.setter),e=r.rest}else{if(n.match(lO))throw new RangeError("Format string contains an unescaped latin alphabet character `"+n+"`");if("''"===g?g="'":"'"===n&&(g=g.match(oO)[1].replace(aO,"'")),0!==e.indexOf(g))return i();e=e.slice(g.length)}}if(e.length>0&&sO.test(e))return i();const f=u.map((e=>e.priority)).sort(((e,t)=>t-e)).filter(((e,t,n)=>n.indexOf(e)===t)).map((e=>u.filter((t=>t.priority===e)).sort(((e,t)=>t.subPriority-e.subPriority)))).map((e=>e[0]));let p=bD(n,r?.in);if(isNaN(+p))return i();const m={};for(const g of f){if(!g.validate(p,c))return i();const e=g.set(p,m,c);Array.isArray(e)?(p=e[0],Object.assign(m,e[1])):p=e}return p}function uO(e,t){return bD(e,t?.in).getDay()}const dO=function(e){var t=e.startOfWeek,n=e.getDay,r=e.format,i=e.locales;return new DI({formats:rD,firstOfWeek:function(e){return n(t(new Date,{locale:i[e]}))},format:function(e,t,n){return r(new Date(e),t,{locale:i[n]})}})}({format:sN,parse:cO,startOfWeek:kD,getDay:uO,locales:{"en-US":n(8392)}}),hO=e=>{let{user:n,setSelectedCalendar:r,selectedCalendar:i}=e;const[o,a]=(0,t.useState)([]),[s,l]=(0,t.useState)(""),[c,u]=(0,t.useState)("");(0,t.useEffect)((()=>{if(!n)return;const e=bg(eg(hm(Tg,"calendars"),ng("sharedWith","array-contains",n.email)),(e=>{const t=e.docs.map((e=>({id:e.id,...e.data()})));a(t)}));return()=>e()}),[n]);return(0,Ig.jsxs)("div",{className:"my-calendar-section",children:[(0,Ig.jsx)("h2",{children:"My Calendars"}),(0,Ig.jsxs)("div",{children:[(0,Ig.jsx)("input",{type:"text",placeholder:"New Calendar Name",value:s,onChange:e=>l(e.target.value)}),(0,Ig.jsx)("button",{onClick:async()=>{if(s.trim())try{await yg(hm(Tg,"calendars"),{name:s,owner:n.email,sharedWith:[n.email]}),l("")}catch(e){console.error("Error creating calendar:",e)}},className:"my-calendar-section-button",children:"Create Calendar"})]}),(0,Ig.jsx)("ul",{children:o.map((e=>(0,Ig.jsxs)("li",{onClick:()=>r(e),className:"calendar-item "+((null===i||void 0===i?void 0:i.id)===e.id?"selected":""),children:[(0,Ig.jsx)("span",{children:e.name}),(0,Ig.jsx)("button",{onClick:t=>{t.stopPropagation(),(async e=>{try{const t=hm(Tg,"calendars",e,"events"),n=(await mg(t)).docs.map((t=>vg(fm(Tg,"calendars",e,"events",t.id))));await Promise.all(n);const r=fm(Tg,"calendars",e);await vg(r),alert("Calendar deleted successfully!")}catch(t){console.error("Error deleting calendar:",t),alert("Failed to delete calendar. Check the console for details.")}})(e.id)},className:"delete-calendar-button",children:"x"}),(0,Ig.jsx)("input",{type:"text",placeholder:"Share with email",value:c,onChange:e=>u(e.target.value)}),(0,Ig.jsx)("button",{onClick:()=>(async e=>{if(c.trim())try{const t=fm(Tg,"calendars",e);await gg(t,{sharedWith:Sg(c)}),u(""),alert("Calendar shared successfully!")}catch(t){console.error("Error sharing calendar:",t),alert("Failed to share calendar. Check the console for details.")}})(e.id),className:"share-calendar-button",children:"Share Calendar"})]},e.id)))})]})},fO=e=>{let{selectedCalendar:n,events:r,updateEvents:i,setHoveredDate:o,setIsEventModalOpen:a,setIsTaskViewModalOpen:s,setSelectedEvent:l}=e;const[c,u]=(0,t.useState)("week");(0,t.useEffect)((()=>{if(!n)return;const e=bg(hm(Tg,"calendars",n.id,"events"),(e=>{const t=e.docs.map((e=>({id:e.id,title:e.data().title,description:e.data().description,start:new Date(e.data().start),end:new Date(e.data().end),type:e.data().type})));i(t)}));return()=>e()}),[n,i]);return(0,Ig.jsxs)("div",{children:[(0,Ig.jsx)("h2",{children:null===n||void 0===n?void 0:n.name}),(0,Ig.jsx)("div",{style:{height:600},children:(0,Ig.jsx)(tD,{localizer:dO,events:r,startAccessor:"start",endAccessor:"end",style:{height:"100%"},onSelectSlot:e=>{o(e.start),l(null),a(!0)},onSelectEvent:e=>{l(e),"task"===e.type?s(!0):a(!0)},selectable:!0,dayPropGetter:e=>({className:"calendar-droppable",style:{backgroundColor:"transparent",cursor:"pointer"},"data-date":e.toISOString()}),eventPropGetter:(e,t,n)=>{const r=document.body.classList.contains("dark-mode"),i={backgroundColor:r?"#ffa726":"#ff9800",borderRadius:"6px",border:"2px solid rgba(0, 0, 0, 0.15)",color:"#fff",fontWeight:"bold"},o={backgroundColor:r?"#1565c0":"#007bff",borderRadius:"6px",border:"2px solid rgba(0, 0, 0, 0.15)",color:"#fff",fontWeight:"bold"};if("day"===c||"week"===c){const r=(n-t)/36e5,a=Math.max(30,60*r),s={position:"absolute",height:`${a}px !important`,minHeight:`${a}px !important`,maxHeight:`${a}px !important`};return{style:{..."task"===e.type?i:o,...s}}}return{style:"task"===e.type?i:o}},onView:e=>u(e),views:["month","week","day"],defaultView:"month",components:{event:e=>{let{event:t}=e;return(0,Ig.jsx)("div",{className:"custom-event "+("task"===t.type?"task-event":"normal-event"),children:(0,Ig.jsx)("div",{className:"event-title",children:t.title})})},dateCellWrapper:e=>{let{children:t,value:n}=e;return(0,Ig.jsx)(zS,{droppableId:n.toISOString(),children:(e,n)=>(0,Ig.jsxs)("div",{ref:e.innerRef,...e.droppableProps,className:"rbc-day-bg calendar-droppable "+(n.isDraggingOver?"drag-over":""),children:[t,e.placeholder]})})}}})})]})},pO=e=>{let{onClose:n,onSave:r,onDelete:i,initialTask:o}=e;const[a,s]=(0,t.useState)(""),[l,c]=(0,t.useState)("");(0,t.useEffect)((()=>{s(o&&o.title||""),c(o&&o.description||"")}),[o]);return(0,Ig.jsx)("div",{className:"modal",children:(0,Ig.jsxs)("div",{className:"modal-content",children:[(0,Ig.jsx)("h2",{children:o?"Edit Task":"Add Task"}),(0,Ig.jsxs)("label",{className:"task-title",children:["Title:",(0,Ig.jsx)("input",{type:"text",value:a,onChange:e=>s(e.target.value)})]}),(0,Ig.jsxs)("label",{className:"task-description",children:["Description:",(0,Ig.jsx)("textarea",{value:l,onChange:e=>c(e.target.value)})]}),(0,Ig.jsxs)("div",{className:"modal-buttons",children:[(0,Ig.jsx)("button",{onClick:()=>{r(a,l,null===o||void 0===o?void 0:o.id),n()},className:"button save-button",children:o?"Update":"Save"}),o&&(0,Ig.jsx)("button",{onClick:()=>{i&&null!==o&&void 0!==o&&o.id&&i(o.id),n()},className:"button delete-button",children:"Delete"}),(0,Ig.jsx)("button",{onClick:n,className:"button cancel-button",children:"Cancel"})]})]})})},mO=e=>{let{onClose:n,onSave:r,onDelete:i,initialDate:o,event:a}=e;const[s,l]=(0,t.useState)(a?a.title:""),[c,u]=(0,t.useState)(""),[d,h]=(0,t.useState)("");(0,t.useEffect)((()=>{if(a)u(a.start.toISOString().slice(0,16)),h(a.end.toISOString().slice(0,16));else if(o){const e=new Date(o),t=new Date(o);t.setHours(e.getHours()+1),u(e.toISOString().slice(0,16)),h(t.toISOString().slice(0,16))}}),[o,a]);return(0,Ig.jsx)("div",{className:"modal",children:(0,Ig.jsxs)("div",{className:"modal-content",children:[(0,Ig.jsx)("h2",{children:a?"Edit Event":"Add Event"}),(0,Ig.jsxs)("label",{children:["Title:",(0,Ig.jsx)("input",{type:"text",value:s,onChange:e=>l(e.target.value)})]}),(0,Ig.jsxs)("label",{children:["Start:",(0,Ig.jsx)("input",{type:"datetime-local",value:c,onChange:e=>u(e.target.value)})]}),(0,Ig.jsxs)("label",{children:["End:",(0,Ig.jsx)("input",{type:"datetime-local",value:d,onChange:e=>h(e.target.value)})]}),(0,Ig.jsxs)("div",{className:"modal-buttons",children:[(0,Ig.jsx)("button",{onClick:()=>{r(s,new Date(c),new Date(d),null===a||void 0===a?void 0:a.id),n()},className:"button save-button",children:"Save"}),a&&(0,Ig.jsx)("button",{onClick:()=>{i&&i(a.id),n()},className:"button delete-button",children:"Delete"}),(0,Ig.jsx)("button",{onClick:n,className:"button cancel-button",children:"Cancel"})]})]})})},gO=e=>{let{onClose:t,task:n,onDelete:r}=e;return(0,Ig.jsx)("div",{className:"modal",children:(0,Ig.jsxs)("div",{className:"modal-content",children:[(0,Ig.jsx)("h2",{children:"Task Details"}),(0,Ig.jsxs)("div",{className:"task-details",children:[(0,Ig.jsx)("h3",{children:n.title}),(0,Ig.jsx)("p",{className:"task-description-view",children:n.description||"No description available."})]}),(0,Ig.jsxs)("div",{className:"modal-buttons",children:[(0,Ig.jsx)("button",{onClick:()=>{r&&null!==n&&void 0!==n&&n.id&&r(n.id),t()},className:"button delete-button",children:"Delete"}),(0,Ig.jsx)("button",{onClick:t,className:"button cancel-button",children:"Close"})]})]})})},vO=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)(null),[o,a]=(0,t.useState)([]),[s,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(!1),[f,p]=(0,t.useState)(null),[m,g]=(0,t.useState)(null),[v,y]=(0,t.useState)(null);(0,t.useEffect)((()=>{const e=xg.onAuthStateChanged((e=>{y(e)}));return()=>e()}),[]),(0,t.useEffect)((()=>{if(v){const e=bg(hm(Tg,"users",v.uid,"todos"),(e=>{const t=e.docs.map((e=>({id:e.id,...e.data()})));n(t)}));return()=>e()}}),[v]),(0,t.useEffect)((()=>{(async()=>{if(!v)return;const e=await function(e){e=rm(e,um);const t=rm(e.firestore,vm);return Yp(ym(t),e._key).then((n=>Eg(t,e,n)))}(fm(Tg,"users",v.email));e.exists()?console.log("User data:",e.data()):console.error("No user document found!")})()}),[v]);const b=async e=>{if(e)try{r&&e&&await vg(fm(Tg,"calendars",r.id,"events",e)),l(!1),g(null)}catch(t){console.error("Error deleting task:",t)}};return(0,Ig.jsx)(tS,{onDragEnd:async t=>{const{destination:n,source:i,draggableId:o}=t;if(n&&r&&"tasks"===i.droppableId&&"tasks"!==n.droppableId){const t=e.find((e=>e.id===o));if(!t)return;try{await yg(hm(Tg,"calendars",r.id,"events"),{title:t.title,description:t.description||"",start:new Date(n.droppableId).toISOString(),end:new Date(new Date(n.droppableId).setHours(new Date(n.droppableId).getHours()+1)).toISOString(),type:"task"}),await vg(fm(Tg,"users",v.uid,"todos",t.id))}catch(a){console.error("Error moving task to calendar:",a),alert("Failed to move task to calendar")}}},children:(0,Ig.jsxs)("div",{className:"dashboard-container",children:[(0,Ig.jsx)(Ng,{}),(0,Ig.jsxs)("div",{className:"sidebar",children:[(0,Ig.jsx)("h1",{children:"Dashboard"}),(0,Ig.jsx)("button",{onClick:async()=>{try{await function(e){return Dt(e).signOut()}(xg),window.location.href="#/signin"}catch(e){console.error("Error signing out:",e)}},className:"signout-button",children:"Sign Out"}),(0,Ig.jsx)("button",{onClick:async()=>{if(!v)return;if(window.confirm("Are you sure you want to clear all your data? This action cannot be undone."))try{const e=hm(Tg,"users",v.uid,"todos"),t=(await mg(e)).docs.map((e=>vg(fm(Tg,"users",v.uid,"todos",e.id)))),r=eg(hm(Tg,"calendars"),ng("owner","==",v.email)),o=(await mg(r)).docs.map((async e=>{const t=hm(Tg,"calendars",e.id,"events"),n=(await mg(t)).docs.map((t=>vg(fm(Tg,"calendars",e.id,"events",t.id))));return await Promise.all(n),vg(fm(Tg,"calendars",e.id))}));await Promise.all([...t,...o]),n([]),a([]),i(null),alert("All your data has been cleared successfully.")}catch(e){console.error("Error clearing user data:",e),alert("Failed to clear data. Please try again.")}},className:"signout-button",children:"Clear My Data"}),(0,Ig.jsxs)("div",{className:"tasks-section",children:[(0,Ig.jsx)("h2",{children:"My Tasks"}),(0,Ig.jsx)("button",{onClick:()=>{g(null),l(!0)},className:"add-task-button",children:"Add Task"}),(0,Ig.jsx)(zS,{droppableId:"tasks",children:t=>(0,Ig.jsxs)("div",{...t.droppableProps,ref:t.innerRef,children:[(0,Ig.jsx)($S,{todos:e,user:v}),t.placeholder]})})]}),(0,Ig.jsx)(hO,{user:v,setSelectedCalendar:i,selectedCalendar:r})]}),(0,Ig.jsx)("div",{className:"main-content",children:r&&(0,Ig.jsx)(fO,{selectedCalendar:r,events:o,updateEvents:a,setHoveredDate:p,setIsEventModalOpen:u,setIsTaskModalOpen:l,setIsTaskViewModalOpen:h,setSelectedEvent:g})}),s&&(0,Ig.jsx)(pO,{onClose:()=>{l(!1),g(null)},onSave:async(e,t,n)=>{if(""!==e.trim()){if(n&&r)try{await gg(fm(Tg,"calendars",r.id,"events",n),{title:e,description:t})}catch(i){console.error("Error updating task:",i)}else await yg(hm(Tg,"users",v.uid,"todos"),{title:e,description:t,createdAt:new Date});l(!1)}},onDelete:b,initialTask:m}),c&&(0,Ig.jsx)(mO,{onClose:()=>u(!1),onSave:async(e,t,n,i)=>{if(r&&e.trim()&&t&&n)try{i?await gg(fm(Tg,"calendars",r.id,"events",i),{title:e,start:t.toISOString(),end:n.toISOString(),type:"event"}):await yg(hm(Tg,"calendars",r.id,"events"),{title:e,start:t.toISOString(),end:n.toISOString(),type:"event"}),u(!1)}catch(o){console.error("Error saving event:",o)}},onDelete:async e=>{if(r&&e)try{await vg(fm(Tg,"calendars",r.id,"events",e)),u(!1)}catch(t){console.error("Error deleting event:",t)}},initialDate:f,event:m}),d&&m&&(0,Ig.jsx)(gO,{onClose:()=>{h(!1),g(null)},task:m,onDelete:b})]})})};const yO=function(){const[e,n]=(0,t.useState)(null);return(0,t.useEffect)((()=>{const e=xg.onAuthStateChanged((e=>{n(e)}));return()=>e()}),[]),(0,Ig.jsx)(Dg,{children:(0,Ig.jsx)("div",{children:e?(0,Ig.jsx)(vO,{user:e}):(0,Ig.jsx)(Og,{})})})};r.createRoot(document.getElementById("root")).render((0,Ig.jsx)(Ye,{children:(0,Ig.jsx)(yO,{})}))})()})();
//# sourceMappingURL=main.6c8ac944.js.map